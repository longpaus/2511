/*! License: 32651.Gi7bLQmjK2.js.LICENSE.txt */
(self._cf=self._cf||[]).push([[32651,66365],{905975:(e,t,n)=>{"use strict";n.r(t),n.d(t,{ResizeObserver:()=>B,ResizeObserverEntry:()=>E,ResizeObserverSize:()=>l});var i,r=[],o="ResizeObserver loop completed with undelivered notifications.";!function(e){e.BORDER_BOX="border-box",e.CONTENT_BOX="content-box",e.DEVICE_PIXEL_CONTENT_BOX="device-pixel-content-box"}(i||(i={}));var a,s=function(e){return Object.freeze(e)},l=function(e,t){this.inlineSize=e,this.blockSize=t,s(this)},c=function(){function e(e,t,n,i){return this.x=e,this.y=t,this.width=n,this.height=i,this.top=this.y,this.left=this.x,this.bottom=this.top+this.height,this.right=this.left+this.width,s(this)}return e.prototype.toJSON=function(){var e=this;return{x:e.x,y:e.y,top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.width,height:e.height}},e.fromRect=function(t){return new e(t.x,t.y,t.width,t.height)},e}(),u=function(e){return e instanceof SVGElement&&"getBBox"in e},d=function(e){if(u(e)){var t=e.getBBox(),n=t.width,i=t.height;return!n&&!i}var r=e,o=r.offsetWidth,a=r.offsetHeight;return!(o||a||e.getClientRects().length)},f=function(e){var t,n;if(e instanceof Element)return!0;var i=null===(n=null===(t=e)||void 0===t?void 0:t.ownerDocument)||void 0===n?void 0:n.defaultView;return!!(i&&e instanceof i.Element)},h="undefined"!=typeof window?window:{},p=new WeakMap,v=/auto|scroll/,g=/^tb|vertical/,y=/msie|trident/i.test(h.navigator&&h.navigator.userAgent),m=function(e){return parseFloat(e||"0")},_=function(e,t,n){return void 0===e&&(e=0),void 0===t&&(t=0),void 0===n&&(n=!1),new l((n?t:e)||0,(n?e:t)||0)},x=s({devicePixelContentBoxSize:_(),borderBoxSize:_(),contentBoxSize:_(),contentRect:new c(0,0,0,0)}),b=function(e,t){if(void 0===t&&(t=!1),p.has(e)&&!t)return p.get(e);if(d(e))return p.set(e,x),x;var n=getComputedStyle(e),i=u(e)&&e.ownerSVGElement&&e.getBBox(),r=!y&&"border-box"===n.boxSizing,o=g.test(n.writingMode||""),a=!i&&v.test(n.overflowY||""),l=!i&&v.test(n.overflowX||""),f=i?0:m(n.paddingTop),h=i?0:m(n.paddingRight),b=i?0:m(n.paddingBottom),w=i?0:m(n.paddingLeft),E=i?0:m(n.borderTopWidth),Z=i?0:m(n.borderRightWidth),k=i?0:m(n.borderBottomWidth),S=w+h,T=f+b,M=(i?0:m(n.borderLeftWidth))+Z,N=E+k,O=l?e.offsetHeight-N-e.clientHeight:0,C=a?e.offsetWidth-M-e.clientWidth:0,A=r?S+M:0,L=r?T+N:0,I=i?i.width:m(n.width)-A-C,R=i?i.height:m(n.height)-L-O,P=I+S+C+M,D=R+T+O+N,z=s({devicePixelContentBoxSize:_(Math.round(I*devicePixelRatio),Math.round(R*devicePixelRatio),o),borderBoxSize:_(P,D,o),contentBoxSize:_(I,R,o),contentRect:new c(w,f,I,R)});return p.set(e,z),z},w=function(e,t,n){var r=b(e,n),o=r.borderBoxSize,a=r.contentBoxSize,s=r.devicePixelContentBoxSize;switch(t){case i.DEVICE_PIXEL_CONTENT_BOX:return s;case i.BORDER_BOX:return o;default:return a}},E=function(e){var t=b(e);this.target=e,this.contentRect=t.contentRect,this.borderBoxSize=s([t.borderBoxSize]),this.contentBoxSize=s([t.contentBoxSize]),this.devicePixelContentBoxSize=s([t.devicePixelContentBoxSize])},Z=function(e){if(d(e))return 1/0;for(var t=0,n=e.parentNode;n;)t+=1,n=n.parentNode;return t},k=function(){var e=1/0,t=[];r.forEach((function(n){if(0!==n.activeTargets.length){var i=[];n.activeTargets.forEach((function(t){var n=new E(t.target),r=Z(t.target);i.push(n),t.lastReportedSize=w(t.target,t.observedBox),r<e&&(e=r)})),t.push((function(){n.callback.call(n.observer,i,n.observer)})),n.activeTargets.splice(0,n.activeTargets.length)}}));for(var n=0,i=t;n<i.length;n++){(0,i[n])()}return e},S=function(e){r.forEach((function(t){t.activeTargets.splice(0,t.activeTargets.length),t.skippedTargets.splice(0,t.skippedTargets.length),t.observationTargets.forEach((function(n){n.isActive()&&(Z(n.target)>e?t.activeTargets.push(n):t.skippedTargets.push(n))}))}))},T=function(){var e,t=0;for(S(t);r.some((function(e){return e.activeTargets.length>0}));)t=k(),S(t);return r.some((function(e){return e.skippedTargets.length>0}))&&("function"==typeof ErrorEvent?e=new ErrorEvent("error",{message:o}):((e=document.createEvent("Event")).initEvent("error",!1,!1),e.message=o),window.dispatchEvent(e)),t>0},M=[],N=function(e){if(!a){var t=0,n=document.createTextNode("");new MutationObserver((function(){return M.splice(0).forEach((function(e){return e()}))})).observe(n,{characterData:!0}),a=function(){n.textContent=""+(t?t--:t++)}}M.push(e),a()},O=0,C={attributes:!0,characterData:!0,childList:!0,subtree:!0},A=["resize","load","transitionend","animationend","animationstart","animationiteration","keyup","keydown","mouseup","mousedown","mouseover","mouseout","blur","focus"],L=function(e){return void 0===e&&(e=0),Date.now()+e},I=!1,R=new(function(){function e(){var e=this;this.stopped=!0,this.listener=function(){return e.schedule()}}return e.prototype.run=function(e){var t=this;if(void 0===e&&(e=250),!I){I=!0;var n,i=L(e);n=function(){var n=!1;try{n=T()}finally{if(I=!1,e=i-L(),!O)return;n?t.run(1e3):e>0?t.run(e):t.start()}},N((function(){requestAnimationFrame(n)}))}},e.prototype.schedule=function(){this.stop(),this.run()},e.prototype.observe=function(){var e=this,t=function(){return e.observer&&e.observer.observe(document.body,C)};document.body?t():h.addEventListener("DOMContentLoaded",t)},e.prototype.start=function(){var e=this;this.stopped&&(this.stopped=!1,this.observer=new MutationObserver(this.listener),this.observe(),A.forEach((function(t){return h.addEventListener(t,e.listener,!0)})))},e.prototype.stop=function(){var e=this;this.stopped||(this.observer&&this.observer.disconnect(),A.forEach((function(t){return h.removeEventListener(t,e.listener,!0)})),this.stopped=!0)},e}()),P=function(e){!O&&e>0&&R.start(),!(O+=e)&&R.stop()},D=function(){function e(e,t){this.target=e,this.observedBox=t||i.CONTENT_BOX,this.lastReportedSize={inlineSize:0,blockSize:0}}return e.prototype.isActive=function(){var e,t=w(this.target,this.observedBox,!0);return e=this.target,u(e)||function(e){switch(e.tagName){case"INPUT":if("image"!==e.type)break;case"VIDEO":case"AUDIO":case"EMBED":case"OBJECT":case"CANVAS":case"IFRAME":case"IMG":return!0}return!1}(e)||"inline"!==getComputedStyle(e).display||(this.lastReportedSize=t),this.lastReportedSize.inlineSize!==t.inlineSize||this.lastReportedSize.blockSize!==t.blockSize},e}(),z=function(e,t){this.activeTargets=[],this.skippedTargets=[],this.observationTargets=[],this.observer=e,this.callback=t},j=new WeakMap,F=function(e,t){for(var n=0;n<e.length;n+=1)if(e[n].target===t)return n;return-1},V=function(){function e(){}return e.connect=function(e,t){var n=new z(e,t);j.set(e,n)},e.observe=function(e,t,n){var i=j.get(e),o=0===i.observationTargets.length;F(i.observationTargets,t)<0&&(o&&r.push(i),i.observationTargets.push(new D(t,n&&n.box)),P(1),R.schedule())},e.unobserve=function(e,t){var n=j.get(e),i=F(n.observationTargets,t),o=1===n.observationTargets.length;i>=0&&(o&&r.splice(r.indexOf(n),1),n.observationTargets.splice(i,1),P(-1))},e.disconnect=function(e){var t=this,n=j.get(e);n.observationTargets.slice().forEach((function(n){return t.unobserve(e,n.target)})),n.activeTargets.splice(0,n.activeTargets.length)},e}(),B=function(){function e(e){if(0===arguments.length)throw new TypeError("Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.");if("function"!=typeof e)throw new TypeError("Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function.");V.connect(this,e)}return e.prototype.observe=function(e,t){if(0===arguments.length)throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!f(e))throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': parameter 1 is not of type 'Element");V.observe(this,e,t)},e.prototype.unobserve=function(e){if(0===arguments.length)throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!f(e))throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': parameter 1 is not of type 'Element");V.unobserve(this,e)},e.prototype.disconnect=function(){V.disconnect(this)},e.toString=function(){return"function ResizeObserver () { [polyfill code] }"},e}()},57502:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var i=n(64172),r=n.n(i),o=n(122551),a=n(99898),s=n.n(a),l=["top","left","transform","className","children","innerRef"];function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function u(e){var t=e.top,n=void 0===t?0:t,i=e.left,r=void 0===i?0:i,a=e.transform,u=e.className,d=e.children,f=e.innerRef,h=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,l);return o.createElement("g",c({ref:f,className:s()("visx-group",u),transform:a||"translate("+r+", "+n+")"},h),d)}u.propTypes={top:r().number,left:r().number,transform:r().string,className:r().string,children:r().node,innerRef:r().oneOfType([r().string,r().func,r().object])}},933383:(e,t,n)=>{"use strict";n.r(t),n.d(t,{Group:()=>i.Z});var i=n(57502)},99898:(e,t)=>{var n;!function(){"use strict";var i={}.hasOwnProperty;function r(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var o=typeof n;if("string"===o||"number"===o)e.push(n);else if(Array.isArray(n)){if(n.length){var a=r.apply(null,n);a&&e.push(a)}}else if("object"===o)if(n.toString===Object.prototype.toString)for(var s in n)i.call(n,s)&&n[s]&&e.push(s);else e.push(n.toString())}}return e.join(" ")}e.exports?(r.default=r,e.exports=r):void 0===(n=function(){return r}.apply(t,[]))||(e.exports=n)}()},256436:(e,t,n)=>{"use strict";function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{Z:()=>r});var r=function(){function e(e){var t=e.x,n=void 0===t?0:t,r=e.y,o=void 0===r?0:r;i(this,"x",0),i(this,"y",0),this.x=n,this.y=o}var t=e.prototype;return t.value=function(){return{x:this.x,y:this.y}},t.toArray=function(){return[this.x,this.y]},e}()},616094:(e,t,n)=>{"use strict";n.r(t),n.d(t,{Point:()=>i.Z,subtractPoints:()=>o,sumPoints:()=>r});var i=n(256436);function r(e,t){return new i.Z({x:e.x+t.x,y:e.y+t.y})}function o(e,t){return new i.Z({x:e.x-t.x,y:e.y-t.y})}},143567:(e,t)=>{var n;!function(){"use strict";var i={}.hasOwnProperty;function r(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var o=typeof n;if("string"===o||"number"===o)e.push(n);else if(Array.isArray(n)){if(n.length){var a=r.apply(null,n);a&&e.push(a)}}else if("object"===o)if(n.toString===Object.prototype.toString)for(var s in n)i.call(n,s)&&n[s]&&e.push(s);else e.push(n.toString())}}return e.join(" ")}e.exports?(r.default=r,e.exports=r):void 0===(n=function(){return r}.apply(t,[]))||(e.exports=n)}()},971231:(e,t,n)=>{"use strict";n.r(t),n.d(t,{arc:()=>k,area:()=>C,areaRadial:()=>F,curveBasis:()=>xe,curveBasisClosed:()=>we,curveBasisOpen:()=>Ze,curveBundle:()=>Se,curveCardinal:()=>Ne,curveCardinalClosed:()=>Ce,curveCardinalOpen:()=>Le,curveCatmullRom:()=>Pe,curveCatmullRomClosed:()=>ze,curveCatmullRomOpen:()=>Fe,curveLinear:()=>T,curveLinearClosed:()=>Be,curveMonotoneX:()=>Xe,curveMonotoneY:()=>Ge,curveNatural:()=>et,curveStep:()=>nt,curveStepAfter:()=>rt,curveStepBefore:()=>it,line:()=>O,lineRadial:()=>j,linkHorizontal:()=>K,linkRadial:()=>G,linkVertical:()=>X,pie:()=>I,pointRadial:()=>V,radialArea:()=>F,radialLine:()=>j,stack:()=>lt,stackOffsetDiverging:()=>ut,stackOffsetExpand:()=>ct,stackOffsetNone:()=>ot,stackOffsetSilhouette:()=>dt,stackOffsetWiggle:()=>ft,stackOrderAppearance:()=>ht,stackOrderAscending:()=>vt,stackOrderDescending:()=>yt,stackOrderInsideOut:()=>mt,stackOrderNone:()=>at,stackOrderReverse:()=>_t,symbol:()=>ge,symbolCircle:()=>Q,symbolCross:()=>J,symbolDiamond:()=>ne,symbolSquare:()=>se,symbolStar:()=>ae,symbolTriangle:()=>ce,symbolWye:()=>pe,symbols:()=>ve});var i=n(912159);function r(e){return function(){return e}}var o=Math.abs,a=Math.atan2,s=Math.cos,l=Math.max,c=Math.min,u=Math.sin,d=Math.sqrt,f=1e-12,h=Math.PI,p=h/2,v=2*h;function g(e){return e>1?0:e<-1?h:Math.acos(e)}function y(e){return e>=1?p:e<=-1?-p:Math.asin(e)}function m(e){return e.innerRadius}function _(e){return e.outerRadius}function x(e){return e.startAngle}function b(e){return e.endAngle}function w(e){return e&&e.padAngle}function E(e,t,n,i,r,o,a,s){var l=n-e,c=i-t,u=a-r,d=s-o,h=d*l-u*c;if(!(h*h<f))return[e+(h=(u*(t-o)-d*(e-r))/h)*l,t+h*c]}function Z(e,t,n,i,r,o,a){var s=e-n,c=t-i,u=(a?o:-o)/d(s*s+c*c),f=u*c,h=-u*s,p=e+f,v=t+h,g=n+f,y=i+h,m=(p+g)/2,_=(v+y)/2,x=g-p,b=y-v,w=x*x+b*b,E=r-o,Z=p*y-g*v,k=(b<0?-1:1)*d(l(0,E*E*w-Z*Z)),S=(Z*b-x*k)/w,T=(-Z*x-b*k)/w,M=(Z*b+x*k)/w,N=(-Z*x+b*k)/w,O=S-m,C=T-_,A=M-m,L=N-_;return O*O+C*C>A*A+L*L&&(S=M,T=N),{cx:S,cy:T,x01:-f,y01:-h,x11:S*(r/E-1),y11:T*(r/E-1)}}function k(){var e=m,t=_,n=r(0),l=null,k=x,S=b,T=w,M=null;function N(){var r,m,_=+e.apply(this,arguments),x=+t.apply(this,arguments),b=k.apply(this,arguments)-p,w=S.apply(this,arguments)-p,N=o(w-b),O=w>b;if(M||(M=r=(0,i.Z)()),x<_&&(m=x,x=_,_=m),x>f)if(N>v-f)M.moveTo(x*s(b),x*u(b)),M.arc(0,0,x,b,w,!O),_>f&&(M.moveTo(_*s(w),_*u(w)),M.arc(0,0,_,w,b,O));else{var C,A,L=b,I=w,R=b,P=w,D=N,z=N,j=T.apply(this,arguments)/2,F=j>f&&(l?+l.apply(this,arguments):d(_*_+x*x)),V=c(o(x-_)/2,+n.apply(this,arguments)),B=V,U=V;if(F>f){var W=y(F/_*u(j)),$=y(F/x*u(j));(D-=2*W)>f?(R+=W*=O?1:-1,P-=W):(D=0,R=P=(b+w)/2),(z-=2*$)>f?(L+=$*=O?1:-1,I-=$):(z=0,L=I=(b+w)/2)}var q=x*s(L),H=x*u(L),Y=_*s(P),K=_*u(P);if(V>f){var X,G=x*s(I),Q=x*u(I),J=_*s(R),ee=_*u(R);if(N<h&&(X=E(q,H,J,ee,G,Q,Y,K))){var te=q-X[0],ne=H-X[1],ie=G-X[0],re=Q-X[1],oe=1/u(g((te*ie+ne*re)/(d(te*te+ne*ne)*d(ie*ie+re*re)))/2),ae=d(X[0]*X[0]+X[1]*X[1]);B=c(V,(_-ae)/(oe-1)),U=c(V,(x-ae)/(oe+1))}}z>f?U>f?(C=Z(J,ee,q,H,x,U,O),A=Z(G,Q,Y,K,x,U,O),M.moveTo(C.cx+C.x01,C.cy+C.y01),U<V?M.arc(C.cx,C.cy,U,a(C.y01,C.x01),a(A.y01,A.x01),!O):(M.arc(C.cx,C.cy,U,a(C.y01,C.x01),a(C.y11,C.x11),!O),M.arc(0,0,x,a(C.cy+C.y11,C.cx+C.x11),a(A.cy+A.y11,A.cx+A.x11),!O),M.arc(A.cx,A.cy,U,a(A.y11,A.x11),a(A.y01,A.x01),!O))):(M.moveTo(q,H),M.arc(0,0,x,L,I,!O)):M.moveTo(q,H),_>f&&D>f?B>f?(C=Z(Y,K,G,Q,_,-B,O),A=Z(q,H,J,ee,_,-B,O),M.lineTo(C.cx+C.x01,C.cy+C.y01),B<V?M.arc(C.cx,C.cy,B,a(C.y01,C.x01),a(A.y01,A.x01),!O):(M.arc(C.cx,C.cy,B,a(C.y01,C.x01),a(C.y11,C.x11),!O),M.arc(0,0,_,a(C.cy+C.y11,C.cx+C.x11),a(A.cy+A.y11,A.cx+A.x11),O),M.arc(A.cx,A.cy,B,a(A.y11,A.x11),a(A.y01,A.x01),!O))):M.arc(0,0,_,P,R,O):M.lineTo(Y,K)}else M.moveTo(0,0);if(M.closePath(),r)return M=null,r+""||null}return N.centroid=function(){var n=(+e.apply(this,arguments)+ +t.apply(this,arguments))/2,i=(+k.apply(this,arguments)+ +S.apply(this,arguments))/2-h/2;return[s(i)*n,u(i)*n]},N.innerRadius=function(t){return arguments.length?(e="function"==typeof t?t:r(+t),N):e},N.outerRadius=function(e){return arguments.length?(t="function"==typeof e?e:r(+e),N):t},N.cornerRadius=function(e){return arguments.length?(n="function"==typeof e?e:r(+e),N):n},N.padRadius=function(e){return arguments.length?(l=null==e?null:"function"==typeof e?e:r(+e),N):l},N.startAngle=function(e){return arguments.length?(k="function"==typeof e?e:r(+e),N):k},N.endAngle=function(e){return arguments.length?(S="function"==typeof e?e:r(+e),N):S},N.padAngle=function(e){return arguments.length?(T="function"==typeof e?e:r(+e),N):T},N.context=function(e){return arguments.length?(M=null==e?null:e,N):M},N}function S(e){this._context=e}function T(e){return new S(e)}function M(e){return e[0]}function N(e){return e[1]}function O(){var e=M,t=N,n=r(!0),o=null,a=T,s=null;function l(r){var l,c,u,d=r.length,f=!1;for(null==o&&(s=a(u=(0,i.Z)())),l=0;l<=d;++l)!(l<d&&n(c=r[l],l,r))===f&&((f=!f)?s.lineStart():s.lineEnd()),f&&s.point(+e(c,l,r),+t(c,l,r));if(u)return s=null,u+""||null}return l.x=function(t){return arguments.length?(e="function"==typeof t?t:r(+t),l):e},l.y=function(e){return arguments.length?(t="function"==typeof e?e:r(+e),l):t},l.defined=function(e){return arguments.length?(n="function"==typeof e?e:r(!!e),l):n},l.curve=function(e){return arguments.length?(a=e,null!=o&&(s=a(o)),l):a},l.context=function(e){return arguments.length?(null==e?o=s=null:s=a(o=e),l):o},l}function C(){var e=M,t=null,n=r(0),o=N,a=r(!0),s=null,l=T,c=null;function u(r){var u,d,f,h,p,v=r.length,g=!1,y=new Array(v),m=new Array(v);for(null==s&&(c=l(p=(0,i.Z)())),u=0;u<=v;++u){if(!(u<v&&a(h=r[u],u,r))===g)if(g=!g)d=u,c.areaStart(),c.lineStart();else{for(c.lineEnd(),c.lineStart(),f=u-1;f>=d;--f)c.point(y[f],m[f]);c.lineEnd(),c.areaEnd()}g&&(y[u]=+e(h,u,r),m[u]=+n(h,u,r),c.point(t?+t(h,u,r):y[u],o?+o(h,u,r):m[u]))}if(p)return c=null,p+""||null}function d(){return O().defined(a).curve(l).context(s)}return u.x=function(n){return arguments.length?(e="function"==typeof n?n:r(+n),t=null,u):e},u.x0=function(t){return arguments.length?(e="function"==typeof t?t:r(+t),u):e},u.x1=function(e){return arguments.length?(t=null==e?null:"function"==typeof e?e:r(+e),u):t},u.y=function(e){return arguments.length?(n="function"==typeof e?e:r(+e),o=null,u):n},u.y0=function(e){return arguments.length?(n="function"==typeof e?e:r(+e),u):n},u.y1=function(e){return arguments.length?(o=null==e?null:"function"==typeof e?e:r(+e),u):o},u.lineX0=u.lineY0=function(){return d().x(e).y(n)},u.lineY1=function(){return d().x(e).y(o)},u.lineX1=function(){return d().x(t).y(n)},u.defined=function(e){return arguments.length?(a="function"==typeof e?e:r(!!e),u):a},u.curve=function(e){return arguments.length?(l=e,null!=s&&(c=l(s)),u):l},u.context=function(e){return arguments.length?(null==e?s=c=null:c=l(s=e),u):s},u}function A(e,t){return t<e?-1:t>e?1:t>=e?0:NaN}function L(e){return e}function I(){var e=L,t=A,n=null,i=r(0),o=r(v),a=r(0);function s(r){var s,l,c,u,d,f=r.length,h=0,p=new Array(f),g=new Array(f),y=+i.apply(this,arguments),m=Math.min(v,Math.max(-v,o.apply(this,arguments)-y)),_=Math.min(Math.abs(m)/f,a.apply(this,arguments)),x=_*(m<0?-1:1);for(s=0;s<f;++s)(d=g[p[s]=s]=+e(r[s],s,r))>0&&(h+=d);for(null!=t?p.sort((function(e,n){return t(g[e],g[n])})):null!=n&&p.sort((function(e,t){return n(r[e],r[t])})),s=0,c=h?(m-f*x)/h:0;s<f;++s,y=u)l=p[s],u=y+((d=g[l])>0?d*c:0)+x,g[l]={data:r[l],index:s,value:d,startAngle:y,endAngle:u,padAngle:_};return g}return s.value=function(t){return arguments.length?(e="function"==typeof t?t:r(+t),s):e},s.sortValues=function(e){return arguments.length?(t=e,n=null,s):t},s.sort=function(e){return arguments.length?(n=e,t=null,s):n},s.startAngle=function(e){return arguments.length?(i="function"==typeof e?e:r(+e),s):i},s.endAngle=function(e){return arguments.length?(o="function"==typeof e?e:r(+e),s):o},s.padAngle=function(e){return arguments.length?(a="function"==typeof e?e:r(+e),s):a},s}S.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t)}}};var R=D(T);function P(e){this._curve=e}function D(e){function t(t){return new P(e(t))}return t._curve=e,t}function z(e){var t=e.curve;return e.angle=e.x,delete e.x,e.radius=e.y,delete e.y,e.curve=function(e){return arguments.length?t(D(e)):t()._curve},e}function j(){return z(O().curve(R))}function F(){var e=C().curve(R),t=e.curve,n=e.lineX0,i=e.lineX1,r=e.lineY0,o=e.lineY1;return e.angle=e.x,delete e.x,e.startAngle=e.x0,delete e.x0,e.endAngle=e.x1,delete e.x1,e.radius=e.y,delete e.y,e.innerRadius=e.y0,delete e.y0,e.outerRadius=e.y1,delete e.y1,e.lineStartAngle=function(){return z(n())},delete e.lineX0,e.lineEndAngle=function(){return z(i())},delete e.lineX1,e.lineInnerRadius=function(){return z(r())},delete e.lineY0,e.lineOuterRadius=function(){return z(o())},delete e.lineY1,e.curve=function(e){return arguments.length?t(D(e)):t()._curve},e}function V(e,t){return[(t=+t)*Math.cos(e-=Math.PI/2),t*Math.sin(e)]}P.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(e,t){this._curve.point(t*Math.sin(e),t*-Math.cos(e))}};var B=Array.prototype.slice;function U(e){return e.source}function W(e){return e.target}function $(e){var t=U,n=W,o=M,a=N,s=null;function l(){var r,l=B.call(arguments),c=t.apply(this,l),u=n.apply(this,l);if(s||(s=r=(0,i.Z)()),e(s,+o.apply(this,(l[0]=c,l)),+a.apply(this,l),+o.apply(this,(l[0]=u,l)),+a.apply(this,l)),r)return s=null,r+""||null}return l.source=function(e){return arguments.length?(t=e,l):t},l.target=function(e){return arguments.length?(n=e,l):n},l.x=function(e){return arguments.length?(o="function"==typeof e?e:r(+e),l):o},l.y=function(e){return arguments.length?(a="function"==typeof e?e:r(+e),l):a},l.context=function(e){return arguments.length?(s=null==e?null:e,l):s},l}function q(e,t,n,i,r){e.moveTo(t,n),e.bezierCurveTo(t=(t+i)/2,n,t,r,i,r)}function H(e,t,n,i,r){e.moveTo(t,n),e.bezierCurveTo(t,n=(n+r)/2,i,n,i,r)}function Y(e,t,n,i,r){var o=V(t,n),a=V(t,n=(n+r)/2),s=V(i,n),l=V(i,r);e.moveTo(o[0],o[1]),e.bezierCurveTo(a[0],a[1],s[0],s[1],l[0],l[1])}function K(){return $(q)}function X(){return $(H)}function G(){var e=$(Y);return e.angle=e.x,delete e.x,e.radius=e.y,delete e.y,e}const Q={draw:function(e,t){var n=Math.sqrt(t/h);e.moveTo(n,0),e.arc(0,0,n,0,v)}},J={draw:function(e,t){var n=Math.sqrt(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}};var ee=Math.sqrt(1/3),te=2*ee;const ne={draw:function(e,t){var n=Math.sqrt(t/te),i=n*ee;e.moveTo(0,-n),e.lineTo(i,0),e.lineTo(0,n),e.lineTo(-i,0),e.closePath()}};var ie=Math.sin(h/10)/Math.sin(7*h/10),re=Math.sin(v/10)*ie,oe=-Math.cos(v/10)*ie;const ae={draw:function(e,t){var n=Math.sqrt(.8908130915292852*t),i=re*n,r=oe*n;e.moveTo(0,-n),e.lineTo(i,r);for(var o=1;o<5;++o){var a=v*o/5,s=Math.cos(a),l=Math.sin(a);e.lineTo(l*n,-s*n),e.lineTo(s*i-l*r,l*i+s*r)}e.closePath()}},se={draw:function(e,t){var n=Math.sqrt(t),i=-n/2;e.rect(i,i,n,n)}};var le=Math.sqrt(3);const ce={draw:function(e,t){var n=-Math.sqrt(t/(3*le));e.moveTo(0,2*n),e.lineTo(-le*n,-n),e.lineTo(le*n,-n),e.closePath()}};var ue=-.5,de=Math.sqrt(3)/2,fe=1/Math.sqrt(12),he=3*(fe/2+1);const pe={draw:function(e,t){var n=Math.sqrt(t/he),i=n/2,r=n*fe,o=i,a=n*fe+n,s=-o,l=a;e.moveTo(i,r),e.lineTo(o,a),e.lineTo(s,l),e.lineTo(ue*i-de*r,de*i+ue*r),e.lineTo(ue*o-de*a,de*o+ue*a),e.lineTo(ue*s-de*l,de*s+ue*l),e.lineTo(ue*i+de*r,ue*r-de*i),e.lineTo(ue*o+de*a,ue*a-de*o),e.lineTo(ue*s+de*l,ue*l-de*s),e.closePath()}};var ve=[Q,J,ne,se,ae,ce,pe];function ge(){var e=r(Q),t=r(64),n=null;function o(){var r;if(n||(n=r=(0,i.Z)()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),r)return n=null,r+""||null}return o.type=function(t){return arguments.length?(e="function"==typeof t?t:r(t),o):e},o.size=function(e){return arguments.length?(t="function"==typeof e?e:r(+e),o):t},o.context=function(e){return arguments.length?(n=null==e?null:e,o):n},o}function ye(){}function me(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function _e(e){this._context=e}function xe(e){return new _e(e)}function be(e){this._context=e}function we(e){return new be(e)}function Ee(e){this._context=e}function Ze(e){return new Ee(e)}function ke(e,t){this._basis=new _e(e),this._beta=t}_e.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:me(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:me(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},be.prototype={areaStart:ye,areaEnd:ye,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:me(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},Ee.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,i=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,i):this._context.moveTo(n,i);break;case 3:this._point=4;default:me(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},ke.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var e=this._x,t=this._y,n=e.length-1;if(n>0)for(var i,r=e[0],o=t[0],a=e[n]-r,s=t[n]-o,l=-1;++l<=n;)i=l/n,this._basis.point(this._beta*e[l]+(1-this._beta)*(r+i*a),this._beta*t[l]+(1-this._beta)*(o+i*s));this._x=this._y=null,this._basis.lineEnd()},point:function(e,t){this._x.push(+e),this._y.push(+t)}};const Se=function e(t){function n(e){return 1===t?new _e(e):new ke(e,t)}return n.beta=function(t){return e(+t)},n}(.85);function Te(e,t,n){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-n),e._x2,e._y2)}function Me(e,t){this._context=e,this._k=(1-t)/6}Me.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:Te(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:Te(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const Ne=function e(t){function n(e){return new Me(e,t)}return n.tension=function(t){return e(+t)},n}(0);function Oe(e,t){this._context=e,this._k=(1-t)/6}Oe.prototype={areaStart:ye,areaEnd:ye,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:Te(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const Ce=function e(t){function n(e){return new Oe(e,t)}return n.tension=function(t){return e(+t)},n}(0);function Ae(e,t){this._context=e,this._k=(1-t)/6}Ae.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Te(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const Le=function e(t){function n(e){return new Ae(e,t)}return n.tension=function(t){return e(+t)},n}(0);function Ie(e,t,n){var i=e._x1,r=e._y1,o=e._x2,a=e._y2;if(e._l01_a>f){var s=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,l=3*e._l01_a*(e._l01_a+e._l12_a);i=(i*s-e._x0*e._l12_2a+e._x2*e._l01_2a)/l,r=(r*s-e._y0*e._l12_2a+e._y2*e._l01_2a)/l}if(e._l23_a>f){var c=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,u=3*e._l23_a*(e._l23_a+e._l12_a);o=(o*c+e._x1*e._l23_2a-t*e._l12_2a)/u,a=(a*c+e._y1*e._l23_2a-n*e._l12_2a)/u}e._context.bezierCurveTo(i,r,o,a,e._x2,e._y2)}function Re(e,t){this._context=e,this._alpha=t}Re.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,i=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+i*i,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:Ie(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const Pe=function e(t){function n(e){return t?new Re(e,t):new Me(e,0)}return n.alpha=function(t){return e(+t)},n}(.5);function De(e,t){this._context=e,this._alpha=t}De.prototype={areaStart:ye,areaEnd:ye,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,i=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+i*i,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:Ie(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const ze=function e(t){function n(e){return t?new De(e,t):new Oe(e,0)}return n.alpha=function(t){return e(+t)},n}(.5);function je(e,t){this._context=e,this._alpha=t}je.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,i=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+i*i,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Ie(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const Fe=function e(t){function n(e){return t?new je(e,t):new Ae(e,0)}return n.alpha=function(t){return e(+t)},n}(.5);function Ve(e){this._context=e}function Be(e){return new Ve(e)}function Ue(e){return e<0?-1:1}function We(e,t,n){var i=e._x1-e._x0,r=t-e._x1,o=(e._y1-e._y0)/(i||r<0&&-0),a=(n-e._y1)/(r||i<0&&-0),s=(o*r+a*i)/(i+r);return(Ue(o)+Ue(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(s))||0}function $e(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function qe(e,t,n){var i=e._x0,r=e._y0,o=e._x1,a=e._y1,s=(o-i)/3;e._context.bezierCurveTo(i+s,r+s*t,o-s,a-s*n,o,a)}function He(e){this._context=e}function Ye(e){this._context=new Ke(e)}function Ke(e){this._context=e}function Xe(e){return new He(e)}function Ge(e){return new Ye(e)}function Qe(e){this._context=e}function Je(e){var t,n,i=e.length-1,r=new Array(i),o=new Array(i),a=new Array(i);for(r[0]=0,o[0]=2,a[0]=e[0]+2*e[1],t=1;t<i-1;++t)r[t]=1,o[t]=4,a[t]=4*e[t]+2*e[t+1];for(r[i-1]=2,o[i-1]=7,a[i-1]=8*e[i-1]+e[i],t=1;t<i;++t)n=r[t]/o[t-1],o[t]-=n,a[t]-=n*a[t-1];for(r[i-1]=a[i-1]/o[i-1],t=i-2;t>=0;--t)r[t]=(a[t]-r[t+1])/o[t];for(o[i-1]=(e[i]+r[i-1])/2,t=0;t<i-1;++t)o[t]=2*e[t+1]-r[t+1];return[r,o]}function et(e){return new Qe(e)}function tt(e,t){this._context=e,this._t=t}function nt(e){return new tt(e,.5)}function it(e){return new tt(e,0)}function rt(e){return new tt(e,1)}function ot(e,t){if((r=e.length)>1)for(var n,i,r,o=1,a=e[t[0]],s=a.length;o<r;++o)for(i=a,a=e[t[o]],n=0;n<s;++n)a[n][1]+=a[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function at(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function st(e,t){return e[t]}function lt(){var e=r([]),t=at,n=ot,i=st;function o(r){var o,a,s=e.apply(this,arguments),l=r.length,c=s.length,u=new Array(c);for(o=0;o<c;++o){for(var d,f=s[o],h=u[o]=new Array(l),p=0;p<l;++p)h[p]=d=[0,+i(r[p],f,p,r)],d.data=r[p];h.key=f}for(o=0,a=t(u);o<c;++o)u[a[o]].index=o;return n(u,a),u}return o.keys=function(t){return arguments.length?(e="function"==typeof t?t:r(B.call(t)),o):e},o.value=function(e){return arguments.length?(i="function"==typeof e?e:r(+e),o):i},o.order=function(e){return arguments.length?(t=null==e?at:"function"==typeof e?e:r(B.call(e)),o):t},o.offset=function(e){return arguments.length?(n=null==e?ot:e,o):n},o}function ct(e,t){if((i=e.length)>0){for(var n,i,r,o=0,a=e[0].length;o<a;++o){for(r=n=0;n<i;++n)r+=e[n][o][1]||0;if(r)for(n=0;n<i;++n)e[n][o][1]/=r}ot(e,t)}}function ut(e,t){if((s=e.length)>0)for(var n,i,r,o,a,s,l=0,c=e[t[0]].length;l<c;++l)for(o=a=0,n=0;n<s;++n)(r=(i=e[t[n]][l])[1]-i[0])>0?(i[0]=o,i[1]=o+=r):r<0?(i[1]=a,i[0]=a+=r):(i[0]=0,i[1]=r)}function dt(e,t){if((n=e.length)>0){for(var n,i=0,r=e[t[0]],o=r.length;i<o;++i){for(var a=0,s=0;a<n;++a)s+=e[a][i][1]||0;r[i][1]+=r[i][0]=-s/2}ot(e,t)}}function ft(e,t){if((r=e.length)>0&&(i=(n=e[t[0]]).length)>0){for(var n,i,r,o=0,a=1;a<i;++a){for(var s=0,l=0,c=0;s<r;++s){for(var u=e[t[s]],d=u[a][1]||0,f=(d-(u[a-1][1]||0))/2,h=0;h<s;++h){var p=e[t[h]];f+=(p[a][1]||0)-(p[a-1][1]||0)}l+=d,c+=f*d}n[a-1][1]+=n[a-1][0]=o,l&&(o-=c/l)}n[a-1][1]+=n[a-1][0]=o,ot(e,t)}}function ht(e){var t=e.map(pt);return at(e).sort((function(e,n){return t[e]-t[n]}))}function pt(e){for(var t,n=-1,i=0,r=e.length,o=-1/0;++n<r;)(t=+e[n][1])>o&&(o=t,i=n);return i}function vt(e){var t=e.map(gt);return at(e).sort((function(e,n){return t[e]-t[n]}))}function gt(e){for(var t,n=0,i=-1,r=e.length;++i<r;)(t=+e[i][1])&&(n+=t);return n}function yt(e){return vt(e).reverse()}function mt(e){var t,n,i=e.length,r=e.map(gt),o=ht(e),a=0,s=0,l=[],c=[];for(t=0;t<i;++t)n=o[t],a<s?(a+=r[n],l.push(n)):(s+=r[n],c.push(n));return c.reverse().concat(l)}function _t(e){return at(e).reverse()}Ve.prototype={areaStart:ye,areaEnd:ye,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}},He.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:qe(this,this._t0,$e(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(t=+t,(e=+e)!==this._x1||t!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,qe(this,$e(this,n=We(this,e,t)),n);break;default:qe(this,this._t0,n=We(this,e,t))}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}},(Ye.prototype=Object.create(He.prototype)).point=function(e,t){He.prototype.point.call(this,t,e)},Ke.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,i,r,o){this._context.bezierCurveTo(t,e,i,n,o,r)}},Qe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),2===n)this._context.lineTo(e[1],t[1]);else for(var i=Je(e),r=Je(t),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(i[0][o],r[0][o],i[1][o],r[1][o],e[a],t[a]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}},tt.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}}this._x=e,this._y=t}}},904962:(e,t,n)=>{"use strict";t.Z=p;var i=f(n(64172)),r=f(n(122551)),o=f(n(965128)),a=f(n(18005)),s=n(933383),l=n(616094),c=n(304582),u=f(n(293151)),d=["top","left","scale","height","stroke","strokeWidth","strokeDasharray","className","numTicks","lineStyle","offset","tickValues","children"];function f(e){return e&&e.__esModule?e:{default:e}}function h(){return(h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function p(e){var t=e.top,n=void 0===t?0:t,i=e.left,f=void 0===i?0:i,p=e.scale,v=e.height,g=e.stroke,y=void 0===g?"#eaf0f6":g,m=e.strokeWidth,_=void 0===m?1:m,x=e.strokeDasharray,b=e.className,w=e.numTicks,E=void 0===w?10:w,Z=e.lineStyle,k=e.offset,S=e.tickValues,T=e.children,M=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,d),N=null!=S?S:(0,c.getTicks)(p,E),O=(null!=k?k:0)+(0,u.default)(p)/2,C=N.map((function(e,t){var n,i=(null!=(n=(0,c.coerceNumber)(p(e)))?n:0)+O;return{index:t,from:new l.Point({x:i,y:0}),to:new l.Point({x:i,y:v})}}));return r.default.createElement(s.Group,{className:(0,o.default)("visx-columns",b),top:n,left:f},T?T({lines:C}):C.map((function(e){var t=e.from,n=e.to,i=e.index;return r.default.createElement(a.default,h({key:"column-line-"+i,from:t,to:n,stroke:y,strokeWidth:_,strokeDasharray:x,style:Z},M))})))}p.propTypes={tickValues:i.default.array,height:i.default.number.isRequired}},318255:(e,t,n)=>{"use strict";t.Z=p;var i=f(n(64172)),r=f(n(122551)),o=f(n(965128)),a=f(n(18005)),s=n(933383),l=n(616094),c=n(304582),u=f(n(293151)),d=["top","left","scale","width","stroke","strokeWidth","strokeDasharray","className","children","numTicks","lineStyle","offset","tickValues"];function f(e){return e&&e.__esModule?e:{default:e}}function h(){return(h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function p(e){var t=e.top,n=void 0===t?0:t,i=e.left,f=void 0===i?0:i,p=e.scale,v=e.width,g=e.stroke,y=void 0===g?"#eaf0f6":g,m=e.strokeWidth,_=void 0===m?1:m,x=e.strokeDasharray,b=e.className,w=e.children,E=e.numTicks,Z=void 0===E?10:E,k=e.lineStyle,S=e.offset,T=e.tickValues,M=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,d),N=null!=T?T:(0,c.getTicks)(p,Z),O=(null!=S?S:0)+(0,u.default)(p)/2,C=N.map((function(e,t){var n,i=(null!=(n=(0,c.coerceNumber)(p(e)))?n:0)+O;return{index:t,from:new l.Point({x:0,y:i}),to:new l.Point({x:v,y:i})}}));return r.default.createElement(s.Group,{className:(0,o.default)("visx-rows",b),top:n,left:f},w?w({lines:C}):C.map((function(e){var t=e.from,n=e.to,i=e.index;return r.default.createElement(a.default,h({key:"row-line-"+i,from:t,to:n,stroke:y,strokeWidth:_,strokeDasharray:x,style:k},M))})))}p.propTypes={tickValues:i.default.array,width:i.default.number.isRequired}},293151:(e,t)=>{"use strict";t.__esModule=!0,t.default=function(e){return"bandwidth"in e?e.bandwidth():0}},426677:(e,t,n)=>{"use strict";t.Z=f;var i=c(n(64172)),r=c(n(26011)),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var i={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var a=r?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(i,o,a):i[o]=e[o]}i.default=e,n&&n.set(e,i);return i}(n(122551)),a=n(905975),s=["className","children","debounceTime","ignoreDimensions","parentSizeStyles","enableDebounceLeadingCall"];function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function c(e){return e&&e.__esModule?e:{default:e}}function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}var d=[];function f(e){var t=e.className,n=e.children,i=e.debounceTime,l=void 0===i?300:i,c=e.ignoreDimensions,f=void 0===c?d:c,h=e.parentSizeStyles,p=void 0===h?{width:"100%",height:"100%"}:h,v=e.enableDebounceLeadingCall,g=void 0===v||v,y=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,s),m=(0,o.useRef)(null),_=(0,o.useRef)(0),x=(0,o.useState)({width:0,height:0,top:0,left:0}),b=x[0],w=x[1],E=(0,o.useMemo)((function(){var e=Array.isArray(f)?f:[f];return(0,r.default)((function(t){w((function(n){return Object.keys(n).filter((function(e){return n[e]!==t[e]})).every((function(t){return e.includes(t)}))?n:t}))}),l,{leading:g})}),[l,g,f]);return(0,o.useEffect)((function(){var e=new a.ResizeObserver((function(e){void 0===e&&(e=[]),e.forEach((function(e){var t=e.contentRect,n=t.left,i=t.top,r=t.width,o=t.height;_.current=window.requestAnimationFrame((function(){E({width:r,height:o,top:i,left:n})}))}))}));return m.current&&e.observe(m.current),function(){window.cancelAnimationFrame(_.current),e.disconnect(),null!=E&&E.cancel&&E.cancel()}}),[E]),o.default.createElement("div",u({style:p,ref:m,className:t},y),n(u({},b,{ref:m.current,resize:E})))}f.propTypes={className:i.default.string,debounceTime:i.default.number,enableDebounceLeadingCall:i.default.bool,ignoreDimensions:i.default.oneOfType([i.default.any,i.default.arrayOf(i.default.any)]),children:i.default.func.isRequired}},951044:(e,t,n)=>{"use strict";n.d(t,{Z:()=>g});var i=n(189242),r=n(230734),o=n(970959),a=n(529205),s=n(924778),l=n(221146),c=n(155232),u=n(539681),d=n(617575),f=n(565428),h=n(425726),p=n(85227),v=n(163242);const g=function(e){if(void 0!==e&&"type"in e)switch(e.type){case"linear":return(0,i.Z)(e);case"log":return(0,r.Z)(e);case"pow":return(0,o.Z)(e);case"sqrt":return(0,a.Z)(e);case"symlog":return(0,s.Z)(e);case"time":return(0,l.Z)(e);case"utc":return(0,c.Z)(e);case"quantile":return(0,u.Z)(e);case"quantize":return(0,d.Z)(e);case"threshold":return(0,f.Z)(e);case"ordinal":return(0,h.Z)(e);case"point":return(0,p.Z)(e);case"band":return(0,v.Z)(e)}return(0,i.Z)(e)}},304582:(e,t,n)=>{"use strict";n.r(t),n.d(t,{coerceNumber:()=>k.Z,createScale:()=>x.Z,getTicks:()=>S.Z,inferScaleType:()=>Z,scaleBand:()=>i.Z,scaleCanBeZeroed:()=>M.Z,scaleLinear:()=>o.Z,scaleLog:()=>f.Z,scaleOrdinal:()=>p.Z,scalePoint:()=>r.Z,scalePower:()=>h.Z,scaleQuantile:()=>g.Z,scaleQuantize:()=>v.Z,scaleRadial:()=>c,scaleSqrt:()=>_.Z,scaleSymlog:()=>y.Z,scaleThreshold:()=>m.Z,scaleTime:()=>u.Z,scaleUtc:()=>d.Z,toString:()=>T.Z,updateScale:()=>w});var i=n(163242),r=n(85227),o=n(189242),a=n(4409),s=n(290954),l=(0,s.Z)("domain","range","clamp","nice","round","unknown");function c(e){return l((0,a.Z)(),e)}var u=n(221146),d=n(155232),f=n(230734),h=n(970959),p=n(425726),v=n(617575),g=n(539681),y=n(924778),m=n(565428),_=n(529205),x=n(951044),b=s.Z.apply(void 0,s.a);const w=function(e,t){return b(e.copy(),t)};var E=n(641922);function Z(e){return"paddingInner"in e?"band":"padding"in e?"point":"quantiles"in e?"quantile":"base"in e?"log":"exponent"in e?.5===e.exponent()?"sqrt":"pow":"constant"in e?"symlog":"clamp"in e?e.ticks()[0]instanceof Date?(0,E.Z)(e)?"utc":"time":"linear":"nice"in e?"quantize":"invertExtent"in e?"threshold":"ordinal"}var k=n(626032),S=n(956797),T=n(580799),M=n(541887)},290954:(e,t,n)=>{"use strict";n.d(t,{a:()=>S,Z:()=>M});var i=n(815756),r=n(645490),o=n(944382),a=n(688556),s=n(147785),l={lab:i.Z,hcl:r.Z,"hcl-long":r.b,hsl:o.Z,"hsl-long":o.q,cubehelix:a.Z,"cubehelix-long":a.B,rgb:s.ZP};var c=n(800923),u=n(280381),d=n(798784),f=n(602815),h=n(112626),p=n(737404),v=n(595979),g=n(628253),y=n(792388),m=n(73718),_=n(312281),x=n(675176),b=n(948631),w=n(641922),E={day:c.Z,hour:u.Z,minute:d.Z,month:f.Z,second:h.Z,week:p.OM,year:v.Z},Z={day:g.Z,hour:y.Z,minute:m.Z,month:_.Z,second:h.Z,week:x.Ox,year:b.Z};var k=n(469453);var S=["domain","nice","zero","interpolate","round","range","reverse","align","base","clamp","constant","exponent","padding","unknown"],T={domain:function(e,t){t.domain&&e.domain(t.domain)},nice:function(e,t){if("nice"in t&&void 0!==t.nice&&"nice"in e){var n=t.nice;if("boolean"==typeof n)n&&e.nice();else if("number"==typeof n)e.nice(n);else{var i=e,r=(0,w.Z)(i);if("string"==typeof n)i.nice(r?Z[n]:E[n]);else{var o=n.interval,a=n.step,s=(r?Z[o]:E[o]).every(a);null!=s&&i.nice(s)}}}},zero:function(e,t){if("zero"in t&&!0===t.zero){var n=e.domain(),i=n[0],r=n[1],o=r<i,a=o?[r,i]:[i,r],s=a[0],l=a[1],c=[Math.min(0,s),Math.max(0,l)];e.domain(o?c.reverse():c)}},interpolate:function(e,t){if("interpolate"in t&&"interpolate"in e&&void 0!==t.interpolate){var n=function(e){switch(e){case"lab":case"hcl":case"hcl-long":case"hsl":case"hsl-long":case"cubehelix":case"cubehelix-long":case"rgb":return l[e]}var t=e.type,n=e.gamma,i=l[t];return void 0===n?i:i.gamma(n)}(t.interpolate);e.interpolate(n)}},round:function(e,t){"round"in t&&void 0!==t.round&&(t.round&&"interpolate"in t&&void 0!==t.interpolate?console.warn("[visx/scale/applyRound] ignoring round: scale config contains round and interpolate. only applying interpolate. config:",t):"round"in e?e.round(t.round):"interpolate"in e&&t.round&&e.interpolate(k.Z))},align:function(e,t){"align"in e&&"align"in t&&void 0!==t.align&&e.align(t.align)},base:function(e,t){"base"in e&&"base"in t&&void 0!==t.base&&e.base(t.base)},clamp:function(e,t){"clamp"in e&&"clamp"in t&&void 0!==t.clamp&&e.clamp(t.clamp)},constant:function(e,t){"constant"in e&&"constant"in t&&void 0!==t.constant&&e.constant(t.constant)},exponent:function(e,t){"exponent"in e&&"exponent"in t&&void 0!==t.exponent&&e.exponent(t.exponent)},padding:function(e,t){"padding"in e&&"padding"in t&&void 0!==t.padding&&e.padding(t.padding),"paddingInner"in e&&"paddingInner"in t&&void 0!==t.paddingInner&&e.paddingInner(t.paddingInner),"paddingOuter"in e&&"paddingOuter"in t&&void 0!==t.paddingOuter&&e.paddingOuter(t.paddingOuter)},range:function(e,t){t.range&&e.range(t.range)},reverse:function(e,t){if(t.reverse){var n=e.range().slice().reverse();e.range(n)}},unknown:function(e,t){"unknown"in e&&"unknown"in t&&void 0!==t.unknown&&e.unknown(t.unknown)}};function M(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=new Set(t),r=S.filter((function(e){return i.has(e)}));return function(e,t){return void 0!==t&&r.forEach((function(n){T[n](e,t)})),e}}},163242:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(677572),r=(0,n(290954).Z)("domain","range","reverse","align","padding","round");function o(e){return r((0,i.Z)(),e)}},189242:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(891893),r=(0,n(290954).Z)("domain","range","reverse","clamp","interpolate","nice","round","zero");function o(e){return r((0,i.Z)(),e)}},230734:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(400244),r=(0,n(290954).Z)("domain","range","reverse","base","clamp","interpolate","nice","round");function o(e){return r((0,i.Z)(),e)}},425726:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(670559),r=(0,n(290954).Z)("domain","range","reverse","unknown");function o(e){return r((0,i.Z)(),e)}},85227:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(677572),r=(0,n(290954).Z)("domain","range","reverse","align","padding","round");function o(e){return r((0,i.x)(),e)}},970959:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(407242),r=(0,n(290954).Z)("domain","range","reverse","clamp","exponent","interpolate","nice","round","zero");function o(e){return r((0,i.ZP)(),e)}},539681:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(573571),r=(0,n(290954).Z)("domain","range","reverse");function o(e){return r((0,i.Z)(),e)}},617575:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(985915),r=(0,n(290954).Z)("domain","range","reverse","nice","zero");function o(e){return r((0,i.Z)(),e)}},529205:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(407242),r=(0,n(290954).Z)("domain","range","reverse","clamp","interpolate","nice","round","zero");function o(e){return r((0,i._b)(),e)}},924778:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(381834),r=(0,n(290954).Z)("domain","range","reverse","clamp","constant","nice","zero","round");function o(e){return r((0,i.Z)(),e)}},565428:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(792211),r=(0,n(290954).Z)("domain","range","reverse");function o(e){return r((0,i.Z)(),e)}},221146:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(222461),r=(0,n(290954).Z)("domain","range","reverse","clamp","interpolate","nice","round");function o(e){return r((0,i.Z)(),e)}},155232:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(204132),r=(0,n(290954).Z)("domain","range","reverse","clamp","interpolate","nice","round");function o(e){return r((0,i.Z)(),e)}},626032:(e,t,n)=>{"use strict";function i(e){if(("function"==typeof e||"object"==typeof e&&e)&&"valueOf"in e){var t=e.valueOf();if("number"==typeof t)return t}return e}n.d(t,{Z:()=>i})},956797:(e,t,n)=>{"use strict";function i(e,t){var n=e;return"ticks"in n?n.ticks(t):n.domain().filter((function(e,n,i){return null==t||i.length<=t||n%Math.round((i.length-1)/t)==0}))}n.d(t,{Z:()=>i})},641922:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=new Date(Date.UTC(2020,1,2,3,4,5));function r(e){return"2020-02-02 03:04"===e.tickFormat(1,"%Y-%m-%d %H:%M")(i)}},541887:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=new Set(["linear","pow","quantize","sqrt","symlog"]);function r(e){return i.has(e.type)}},580799:(e,t,n)=>{"use strict";function i(e){return null==e?void 0:e.toString()}n.d(t,{Z:()=>i})},682362:(e,t)=>{"use strict";t.__esModule=!0,t.default=function(e,t){"align"in e&&"align"in t&&void 0!==t.align&&e.align(t.align)}},418028:(e,t)=>{"use strict";t.__esModule=!0,t.default=function(e,t){"base"in e&&"base"in t&&void 0!==t.base&&e.base(t.base)}},821596:(e,t)=>{"use strict";t.__esModule=!0,t.default=function(e,t){"clamp"in e&&"clamp"in t&&void 0!==t.clamp&&e.clamp(t.clamp)}},595486:(e,t)=>{"use strict";t.__esModule=!0,t.default=function(e,t){"constant"in e&&"constant"in t&&void 0!==t.constant&&e.constant(t.constant)}},109086:(e,t)=>{"use strict";t.__esModule=!0,t.default=function(e,t){t.domain&&e.domain(t.domain)}},585852:(e,t)=>{"use strict";t.__esModule=!0,t.default=function(e,t){"exponent"in e&&"exponent"in t&&void 0!==t.exponent&&e.exponent(t.exponent)}},143974:(e,t,n)=>{"use strict";t.__esModule=!0,t.default=function(e,t){if("interpolate"in t&&"interpolate"in e&&void 0!==t.interpolate){var n=(0,r.default)(t.interpolate);e.interpolate(n)}};var i,r=(i=n(692598))&&i.__esModule?i:{default:i}},330821:(e,t,n)=>{"use strict";t.__esModule=!0,t.default=function(e,t){if("nice"in t&&void 0!==t.nice&&"nice"in e){var n=t.nice;if("boolean"==typeof n)n&&e.nice();else if("number"==typeof n)e.nice(n);else{var i=e,r=(0,o.default)(i);if("string"==typeof n)i.nice(r?s[n]:a[n]);else{var l=n.interval,c=n.step,u=(r?s[l]:a[l]).every(c);null!=u&&i.nice(u)}}}};var i,r=n(970366),o=(i=n(862501))&&i.__esModule?i:{default:i};var a={day:r.timeDay,hour:r.timeHour,minute:r.timeMinute,month:r.timeMonth,second:r.timeSecond,week:r.timeWeek,year:r.timeYear},s={day:r.utcDay,hour:r.utcHour,minute:r.utcMinute,month:r.utcMonth,second:r.utcSecond,week:r.utcWeek,year:r.utcYear}},492193:(e,t)=>{"use strict";t.__esModule=!0,t.default=function(e,t){"padding"in e&&"padding"in t&&void 0!==t.padding&&e.padding(t.padding);"paddingInner"in e&&"paddingInner"in t&&void 0!==t.paddingInner&&e.paddingInner(t.paddingInner);"paddingOuter"in e&&"paddingOuter"in t&&void 0!==t.paddingOuter&&e.paddingOuter(t.paddingOuter)}},625846:(e,t)=>{"use strict";t.__esModule=!0,t.default=function(e,t){t.range&&e.range(t.range)}},545751:(e,t)=>{"use strict";t.__esModule=!0,t.default=function(e,t){if(t.reverse){var n=e.range().slice().reverse();e.range(n)}}},832718:(e,t,n)=>{"use strict";t.__esModule=!0,t.default=function(e,t){"round"in t&&void 0!==t.round&&(t.round&&"interpolate"in t&&void 0!==t.interpolate?console.warn("[visx/scale/applyRound] ignoring round: scale config contains round and interpolate. only applying interpolate. config:",t):"round"in e?e.round(t.round):"interpolate"in e&&t.round&&e.interpolate(i.interpolateRound))};var i=n(771985)},275443:(e,t,n)=>{"use strict";t.__esModule=!0,t.default=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=new Set(t),r=m.filter((function(e){return i.has(e)}));return function(e,t){return void 0!==t&&r.forEach((function(n){_[n](e,t)})),e}},t.ALL_OPERATORS=void 0;var i=y(n(109086)),r=y(n(625846)),o=y(n(682362)),a=y(n(418028)),s=y(n(821596)),l=y(n(595486)),c=y(n(585852)),u=y(n(143974)),d=y(n(330821)),f=y(n(492193)),h=y(n(545751)),p=y(n(832718)),v=y(n(385401)),g=y(n(71303));function y(e){return e&&e.__esModule?e:{default:e}}var m=["domain","nice","zero","interpolate","round","range","reverse","align","base","clamp","constant","exponent","padding","unknown"];t.ALL_OPERATORS=m;var _={domain:i.default,nice:d.default,zero:g.default,interpolate:u.default,round:p.default,align:o.default,base:a.default,clamp:s.default,constant:l.default,exponent:c.default,padding:f.default,range:r.default,reverse:h.default,unknown:v.default}},385401:(e,t)=>{"use strict";t.__esModule=!0,t.default=function(e,t){"unknown"in e&&"unknown"in t&&void 0!==t.unknown&&e.unknown(t.unknown)}},71303:(e,t)=>{"use strict";t.__esModule=!0,t.default=function(e,t){if("zero"in t&&!0===t.zero){var n=e.domain(),i=n[0],r=n[1],o=r<i,a=o?[r,i]:[i,r],s=a[0],l=a[1],c=[Math.min(0,s),Math.max(0,l)];e.domain(o?c.reverse():c)}}},86144:(e,t,n)=>{"use strict";t.ZP=function(e){return o((0,r.scaleOrdinal)(),e)};var i,r=n(936548);var o=(0,((i=n(275443))&&i.__esModule?i:{default:i}).default)("domain","range","reverse","unknown")},692598:(e,t,n)=>{"use strict";t.__esModule=!0,t.default=function(e){switch(e){case"lab":case"hcl":case"hcl-long":case"hsl":case"hsl-long":case"cubehelix":case"cubehelix-long":case"rgb":return r[e]}var t=e.type,n=e.gamma,i=r[t];return void 0===n?i:i.gamma(n)};var i=n(771985),r={lab:i.interpolateLab,hcl:i.interpolateHcl,"hcl-long":i.interpolateHclLong,hsl:i.interpolateHsl,"hsl-long":i.interpolateHslLong,cubehelix:i.interpolateCubehelix,"cubehelix-long":i.interpolateCubehelixLong,rgb:i.interpolateRgb}},862501:(e,t)=>{"use strict";t.__esModule=!0,t.default=function(e){return"2020-02-02 03:04"===e.tickFormat(1,"%Y-%m-%d %H:%M")(n)};var n=new Date(Date.UTC(2020,1,2,3,4,5))},18005:(e,t,n)=>{"use strict";t.__esModule=!0,t.default=function(e){var t=e.from,n=void 0===t?{x:0,y:0}:t,a=e.to,l=void 0===a?{x:1,y:1}:a,c=e.fill,u=void 0===c?"transparent":c,d=e.className,f=e.innerRef,h=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,o),p=n.x===l.x||n.y===l.y;return i.default.createElement("line",s({ref:f,className:(0,r.default)("visx-line",d),x1:n.x,y1:n.y,x2:l.x,y2:l.y,fill:u,shapeRendering:p?"crispEdges":"auto"},h))};var i=a(n(122551)),r=a(n(965128)),o=["from","to","fill","className","innerRef"];function a(e){return e&&e.__esModule?e:{default:e}}function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}},859117:(e,t,n)=>{"use strict";t.Z=function(e){var t=e.children,n=e.data,s=void 0===n?[]:n,c=e.x,u=e.y,d=e.fill,f=void 0===d?"transparent":d,h=e.className,p=e.curve,v=e.innerRef,g=e.defined,y=void 0===g?function(){return!0}:g,m=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,a),_=(0,o.line)({x:c,y:u,defined:y,curve:p});return t?i.default.createElement(i.default.Fragment,null,t({path:_})):i.default.createElement("path",l({ref:v,className:(0,r.default)("visx-linepath",h),d:_(s)||"",fill:f,strokeLinecap:"round"},m))};var i=s(n(122551)),r=s(n(965128)),o=n(369135),a=["children","data","x","y","fill","className","curve","innerRef","defined"];function s(e){return e&&e.__esModule?e:{default:e}}function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}},369135:(e,t,n)=>{"use strict";t.__esModule=!0,t.arc=function(e){var t=void 0===e?{}:e,n=t.innerRadius,o=t.outerRadius,a=t.cornerRadius,s=t.startAngle,l=t.endAngle,c=t.padAngle,u=t.padRadius,d=(0,i.arc)();null!=n&&(0,r.default)(d.innerRadius,n);null!=o&&(0,r.default)(d.outerRadius,o);null!=a&&(0,r.default)(d.cornerRadius,a);null!=s&&(0,r.default)(d.startAngle,s);null!=l&&(0,r.default)(d.endAngle,l);null!=c&&(0,r.default)(d.padAngle,c);null!=u&&(0,r.default)(d.padRadius,u);return d},t.area=function(e){var t=void 0===e?{}:e,n=t.x,o=t.x0,a=t.x1,s=t.y,l=t.y0,c=t.y1,u=t.defined,d=t.curve,f=(0,i.area)();n&&(0,r.default)(f.x,n);o&&(0,r.default)(f.x0,o);a&&(0,r.default)(f.x1,a);s&&(0,r.default)(f.y,s);l&&(0,r.default)(f.y0,l);c&&(0,r.default)(f.y1,c);u&&f.defined(u);d&&f.curve(d);return f},t.line=function(e){var t=void 0===e?{}:e,n=t.x,o=t.y,a=t.defined,s=t.curve,l=(0,i.line)();n&&(0,r.default)(l.x,n);o&&(0,r.default)(l.y,o);a&&l.defined(a);s&&l.curve(s);return l},t.pie=function(e){var t=void 0===e?{}:e,n=t.startAngle,o=t.endAngle,a=t.padAngle,s=t.value,l=t.sort,c=t.sortValues,u=(0,i.pie)();(null===l||null!=l)&&u.sort(l);(null===c||null!=c)&&u.sortValues(c);null!=s&&u.value(s);null!=a&&(0,r.default)(u.padAngle,a);null!=n&&(0,r.default)(u.startAngle,n);null!=o&&(0,r.default)(u.endAngle,o);return u},t.radialLine=function(e){var t=void 0===e?{}:e,n=t.angle,o=t.radius,a=t.defined,s=t.curve,l=(0,i.radialLine)();n&&(0,r.default)(l.angle,n);o&&(0,r.default)(l.radius,o);a&&l.defined(a);s&&l.curve(s);return l},t.stack=function(e){var t=e.keys,n=e.value,s=e.order,l=e.offset,c=(0,i.stack)();t&&c.keys(t);n&&(0,r.default)(c.value,n);s&&c.order((0,o.default)(s));l&&c.offset((0,a.default)(l));return c};var i=n(971231),r=s(n(866667)),o=s(n(365362)),a=s(n(151497));function s(e){return e&&e.__esModule?e:{default:e}}},866667:(e,t)=>{"use strict";t.__esModule=!0,t.default=function(e,t){e(t)}},151497:(e,t,n)=>{"use strict";t.__esModule=!0,t.default=function(e){return e&&r[e]||r.none},t.STACK_OFFSET_NAMES=t.STACK_OFFSETS=void 0;var i=n(971231),r={expand:i.stackOffsetExpand,diverging:i.stackOffsetDiverging,none:i.stackOffsetNone,silhouette:i.stackOffsetSilhouette,wiggle:i.stackOffsetWiggle};t.STACK_OFFSETS=r;var o=Object.keys(r);t.STACK_OFFSET_NAMES=o},365362:(e,t,n)=>{"use strict";t.__esModule=!0,t.default=function(e){return e&&r[e]||r.none},t.STACK_ORDER_NAMES=t.STACK_ORDERS=void 0;var i=n(971231),r={ascending:i.stackOrderAscending,descending:i.stackOrderDescending,insideout:i.stackOrderInsideOut,none:i.stackOrderNone,reverse:i.stackOrderReverse};t.STACK_ORDERS=r;var o=Object.keys(r);t.STACK_ORDER_NAMES=o},965128:(e,t)=>{var n;!function(){"use strict";var i={}.hasOwnProperty;function r(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var o=typeof n;if("string"===o||"number"===o)e.push(n);else if(Array.isArray(n)){if(n.length){var a=r.apply(null,n);a&&e.push(a)}}else if("object"===o)if(n.toString===Object.prototype.toString)for(var s in n)i.call(n,s)&&n[s]&&e.push(s);else e.push(n.toString())}}return e.join(" ")}e.exports?(r.default=r,e.exports=r):void 0===(n=function(){return r}.apply(t,[]))||(e.exports=n)}()},60039:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(null==e)throw new TypeError("assign requires that input parameter not be null or undefined");for(var n in t=t||{})t.hasOwnProperty(n)&&(e[n]=t[n]);return e},e.exports=t.default},407710:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=6e4;function r(e){return e.getTime()%i}function o(e){var t=new Date(e.getTime()),n=Math.ceil(t.getTimezoneOffset());t.setSeconds(0,0);var o=n>0?(i+r(t))%i:r(t);return n*i+o}},907627:(e,t,n)=>{"use strict";function i(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}n.d(t,{Z:()=>i})},153804:(e,t,n)=>{"use strict";function i(e){if(null===e||!0===e||!1===e)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}n.d(t,{Z:()=>i})},116722:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var i=n(782284),r=n(992724),o=n(351212),a=n(907627),s=n(153804);function l(e,t){if((0,a.Z)(2,arguments),!t||"object"!=typeof t)return new Date(NaN);var n="years"in t?(0,s.Z)(t.years):0,l="months"in t?(0,s.Z)(t.months):0,c="weeks"in t?(0,s.Z)(t.weeks):0,u="days"in t?(0,s.Z)(t.days):0,d="hours"in t?(0,s.Z)(t.hours):0,f="minutes"in t?(0,s.Z)(t.minutes):0,h="seconds"in t?(0,s.Z)(t.seconds):0,p=(0,o.Z)(e),v=l||n?(0,r.Z)(p,l+12*n):p,g=u||c?(0,i.Z)(v,u+7*c):v,y=f+60*d,m=h+60*y,_=1e3*m,x=new Date(g.getTime()+_);return x}},782284:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(153804),r=n(351212),o=n(907627);function a(e,t){(0,o.Z)(2,arguments);var n=(0,r.Z)(e),a=(0,i.Z)(t);return isNaN(a)?new Date(NaN):a?(n.setDate(n.getDate()+a),n):n}},848369:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(153804),r=n(351212),o=n(907627);function a(e,t){(0,o.Z)(2,arguments);var n=(0,r.Z)(e).getTime(),a=(0,i.Z)(t);return new Date(n+a)}},992724:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(153804),r=n(351212),o=n(907627);function a(e,t){(0,o.Z)(2,arguments);var n=(0,r.Z)(e),a=(0,i.Z)(t);if(isNaN(a))return new Date(NaN);if(!a)return n;var s=n.getDate(),l=new Date(n.getTime());l.setMonth(n.getMonth()+a+1,0);var c=l.getDate();return s>=c?l:(n.setFullYear(l.getFullYear(),l.getMonth(),s),n)}},116205:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(351212),r=n(907627);function o(e,t){(0,r.Z)(2,arguments);var n=(0,i.Z)(e),o=(0,i.Z)(t),a=n.getTime()-o.getTime();return a<0?-1:a>0?1:a}},592346:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(407710),r=n(35453),o=n(907627),a=864e5;function s(e,t){(0,o.Z)(2,arguments);var n=(0,r.Z)(e),s=(0,r.Z)(t),l=n.getTime()-(0,i.Z)(n),c=s.getTime()-(0,i.Z)(s);return Math.round((l-c)/a)}},226023:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(351212),r=n(592346),o=n(907627);function a(e,t){var n=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return n<0?-1:n>0?1:n}function s(e,t){(0,o.Z)(2,arguments);var n=(0,i.Z)(e),s=(0,i.Z)(t),l=a(n,s),c=Math.abs((0,r.Z)(n,s));n.setDate(n.getDate()-l*c);var u=a(n,s)===-l,d=l*(c-u);return 0===d?0:d}},368039:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(351212),r=n(907627);function o(e,t){(0,r.Z)(2,arguments);var n=(0,i.Z)(e),o=(0,i.Z)(t);return n.getTime()-o.getTime()}},840473:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var i=n(351212),r=n(907627);function o(e,t){(0,r.Z)(2,arguments);var n=(0,i.Z)(e),o=(0,i.Z)(t),a=n.getFullYear()-o.getFullYear(),s=n.getMonth()-o.getMonth();return 12*a+s}var a=n(116205);function s(e){(0,r.Z)(1,arguments);var t=(0,i.Z)(e);return t.setHours(23,59,59,999),t}var l=n(729917);function c(e){(0,r.Z)(1,arguments);var t=(0,i.Z)(e);return s(t).getTime()===(0,l.Z)(t).getTime()}function u(e,t){(0,r.Z)(2,arguments);var n=(0,i.Z)(e),s=(0,i.Z)(t),l=(0,a.Z)(n,s),u=Math.abs(o(n,s));1===n.getMonth()&&n.getDate()>27&&n.setDate(30),n.setMonth(n.getMonth()-l*u);var d=(0,a.Z)(n,s)===-l;c((0,i.Z)(e))&&1===u&&1===(0,a.Z)(e,s)&&(d=!1);var f=l*(u-d);return 0===f?0:f}},729917:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(351212),r=n(907627);function o(e){(0,r.Z)(1,arguments);var t=(0,i.Z)(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}},717507:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(351212),r=n(907627);function o(e,t){(0,r.Z)(2,arguments);var n=(0,i.Z)(e),o=(0,i.Z)(t);return n.getFullYear()===o.getFullYear()}},35453:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(351212),r=n(907627);function o(e){(0,r.Z)(1,arguments);var t=(0,i.Z)(e);return t.setHours(0,0,0,0),t}},530798:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(153804),r=n(782284),o=n(907627);function a(e,t){(0,o.Z)(2,arguments);var n=(0,i.Z)(t);return(0,r.Z)(e,-n)}},476938:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(153804),r=n(992724),o=n(907627);function a(e,t){(0,o.Z)(2,arguments);var n=(0,i.Z)(t);return(0,r.Z)(e,-n)}},351212:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(907627);function r(e){(0,i.Z)(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||"object"==typeof e&&"[object Date]"===t?new Date(e.getTime()):"number"==typeof e||"[object Number]"===t?new Date(e):("string"!=typeof e&&"[object String]"!==t||"undefined"==typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://git.io/fjule"),console.warn((new Error).stack)),new Date(NaN))}},264434:(e,t,n)=>{"use strict";let i;n.d(t,{u0:()=>i,F5:()=>r,Xm:()=>o}),function(e){e.BYLINE="analytics-byline"}(i||(i={}));const r="analyticsByLine",o="clicked-analytics-byline-fmp-ssr.rendered"},985193:(e,t,n)=>{"use strict";n.r(t),n.d(t,{AnalyticsByLine:()=>Ea});var i=n(991332),r=n(415911),o=n(122551),a=n(499082),s=n(621070),l=n(824464),c=n(676424),u=n(953307),d=n(464984),f=n(524798),h=n(883383),p=n(395937),v=n(284469),g=n(321534),y=n(131436);const m=(0,g.iv)({marginRight:"4px",verticalAlign:"middle"}),_=e=>(0,g.tZ)("span",(0,u.Z)({},e,{css:[m]})),x=(0,g.iv)({display:"inline-block",color:`var(--ds-text-subtle, ${y.iw})`,fontWeight:400,marginRight:"5px",paddingLeft:"3px","&:hover":{textDecoration:"underline",cursor:"pointer","&:before":{textDecoration:"none"}},"&:focus":{textDecoration:"underline"}}),b=(0,g.iv)({"&:before":{content:'""',display:"inline-block",color:`var(--ds-text-subtle, ${y.iw})`,paddingRight:"8px",textDecoration:"none"}}),w=e=>{const{isBylineComponent:t,children:n}=e,i=(0,r.Z)(e,["isBylineComponent","children"]);return(0,g.tZ)("span",(0,u.Z)({},i,{css:[x,t?b:null]}),n)},E=(0,d.defineMessages)({viewers:{id:"confluence-analytics-byline.user-views.message",defaultMessage:"{count, plural, =0 {Analytics} one {1 person viewed} other {{count} people viewed}}"}}),Z=e=>t=>{if(e)return e(t)},k=({isBylineComponent:e,onClick:t,href:n,count:i,testId:r})=>{const a=((e,t)=>{try{return Intl.NumberFormat(e,{notation:"compact",compactDisplay:"short"}).format(t).toLocaleLowerCase()}catch(n){return String(t)}})((0,f.Z)().locale,i);return o.createElement(w,{isBylineComponent:e,"data-testid":r},o.createElement(p.Z,{href:n,onClick:Z(t),appearance:"subtle-link",spacing:"none",style:{fontWeight:"unset"}},o.createElement(_,null,o.createElement(v.default,{label:"",size:"small"})),o.createElement(h.Z,(0,u.Z)({},E.viewers,{values:{count:a}}))))};var S=n(451379),T=n(199319),M=n(526938),N=n(259220),O=n(961634),C=n(801683),A=n(170915),L=n(401487),I=n(528365),R=n(158466);const P="ContentAnalyticsViewersUnifiedQuery";var D=n(67976);const z=({ssrEventCaptureKey:e,ssrBestEffortTaskName:t})=>{var n,r,a;const s=!(null===(n=window)||void 0===n||!n.__SSR_RENDERED__),l=!(null===(r=window)||void 0===r||null===(a=r.__SSR_QUERY_TIMEOUTS__)||void 0===a||!a[t]),c=s&&!l,[u,d]=(0,o.useState)({}),f=(0,o.useCallback)((e=>!!u[e]),[u]),h=(0,o.useCallback)((t=>{var n,i,r;return!(null===(n=window)||void 0===n||null===(i=n.__SSR_EVENTS_CAPTURE__)||void 0===i||null===(r=i[e])||void 0===r||!r[t])}),[e]);return{client:{wasSSRRendered:s,wasSSRBestEffortSuccessful:c,onSSRCapturedEvent:(0,o.useCallback)(((e,t)=>{if(!f(e)&&h(e)){t();const n=(e=>{switch(e){case D.Q.CLICK:return{click:!0};case D.Q.FOCUS:return{focus:!0};case D.Q.HOVER:return{hover:!0}}})(e);d((e=>(0,i.Z)((0,i.Z)({},e),n)))}}),[h,f]),wasSSREventTriggered:f},server:{isRenderingSSR:!1}}};var j=n(483565),F=n(853102),V=n(351212),B=n(907627);function U(e,t){(0,B.Z)(2,arguments);var n=(0,V.Z)(e),i=(0,V.Z)(t);return n.getTime()>i.getTime()}var W=n(116722),$=n(530798),q=n(476938),H=n(153804);var Y=n(592346),K=n(368039),X=36e5;function G(e,t){(0,B.Z)(2,arguments);var n=(0,K.Z)(e,t)/X;return n>0?Math.floor(n):Math.ceil(n)}var Q=n(717507),J=n(848369),ee=36e5;function te(e,t){(0,B.Z)(2,arguments);var n=(0,H.Z)(t);return(0,J.Z)(e,n*ee)}function ne(e,t){(0,B.Z)(2,arguments);var n=(0,H.Z)(t);return te(e,-n)}var ie=n(226023);var re=n(840473);function oe(e,t){(0,B.Z)(2,arguments);var n=(0,V.Z)(e),i=(0,V.Z)(t);return n.getFullYear()-i.getFullYear()}var ae=n(116205);var se=n(250230);let le,ce,ue;!function(e){e.DAY="DAY",e.HOUR="HOUR",e.MONTH="MONTH",e.WEEK="WEEK"}(le||(le={})),function(e){e.ANONYMOUS="ANONYMOUS",e.APP="APP",e.EXTERNAL="EXTERNAL",e.INTERNAL="INTERNAL",e.JSD="JSD"}(ce||(ce={})),function(e){e.DIALOG="analytics-dialog",e.DIALOG_SKELETON="analytics-dialog-skeleton",e.LINK="analytics-link",e.LINK_SKELETON="analytics-link-skeleton",e.CLOSE_BUTTON="dialog-close-button",e.PILLS="analytics-pills",e.INFO_PANEL_1="analytics-info-panel-1",e.INFO_PANEL_2="analytics-info-panel-2",e.CHART="analytics-chart",e.USER_LIST="analytics-user-list"}(ue||(ue={}));const de=(0,d.defineMessages)({dialogContainerAriaLabel:{id:"confluence-analytics.dialog.container-aria-label",defaultMessage:"Confluence Analytics nonmodal dialog"},dialogLoadingText:{id:"confluence-analytics.dialog.loading",defaultMessage:"Loading data..."},dialogLoadingTextMentioned:{id:"confluence-analytics.dialog.loading.mentioned",defaultMessage:"Loading mentions data..."},dialogMentionedUsersViewed:{id:"confluence-analytics.dialog.mentioned-users-viewed",defaultMessage:"mentioned {seenMentionedUsersCount, plural, one {user} other {users}} viewed this page"},dialogMentionedUsersAllSeen:{id:"confluence-analytics.dialog.mentioned-users-all-seen",defaultMessage:"Everyone mentioned has viewed"},dialogProgressbarCountAriaLabel:{id:"confluence-analytics.dialog.progress-bar.count-aria-label",defaultMessage:"{seenMentionedUsersCount} of {totalMentionedUsersCount} mentioned {seenMentionedUsersCount, plural, one {user} other {users}} viewed this page"},dialogProgressbarAriaLabel:{id:"confluence-analytics.dialog.progress-bar-aria-label",defaultMessage:"Mentioned users progress bar"},graphGranularityWeek:{id:"confluence-analytics.graph.granularity.week",defaultMessage:"Week of {date}"},graphCreatedAtDateTimeLabel:{id:"confluence-analytics.graph.label.created-at",defaultMessage:"Created {date} at {time}"},graphDateToDateTimeLabel:{id:"confluence-analytics.graph.label.date-to-datetime",defaultMessage:"{fromDate} to {toDate} ({toTime})"},lastViewedJustNow:{id:"confluence-analytics.dialog.viewers-list.viewed-just-now",defaultMessage:"Just now"},lastViewedMinutesAgo:{id:"confluence-analytics.dialog.viewers-list.viewed-minutes-ago",defaultMessage:"{minuteCount} {minuteCount, plural, one {minute} other {minutes}} ago"},lastViewedHoursAgo:{id:"confluence-analytics.dialog.viewers-list.viewed-hours-ago",defaultMessage:"{hourCount} {hourCount, plural, one {hour} other {hours}} ago"},lastViewedDaysAgo:{id:"confluence-analytics.dialog.viewers-list.viewed-days-ago",defaultMessage:"{dayCount} {dayCount, plural, one {day} other {days}} ago"},lastViewedWeeksAgo:{id:"confluence-analytics.dialog.viewers-list.viewed-weeks-ago",defaultMessage:"{weekCount} {weekCount, plural, one {week} other {weeks}} ago"},lastViewedMonthsAgo:{id:"confluence-analytics.dialog.viewers-list.viewed-months-ago",defaultMessage:"{monthCount} {monthCount, plural, one {month} other {months}} ago"},lastViewedYearsAgo:{id:"confluence-analytics.dialog.viewers-list.viewed-years-ago",defaultMessage:"{yearCount} {yearCount, plural, one {year} other {years}} ago"},errorMessage:{id:"confluence-analytics.dialog.loading.error-message",defaultMessage:"We're having trouble loading analytics."},errorSuggestion:{id:"confluence-analytics.dialog.loading.error-suggestion",defaultMessage:"Refresh to try again."},viewedMentionsLabel:{id:"confluence-analytics.dialog.mentions-list.viewed.label",defaultMessage:"Viewed"},notViewedMentionsLabel:{id:"confluence-analytics.dialog.mentions-list.not-viewed.label",defaultMessage:"Not viewed"}});let fe;!function(e){e.VIEWS="views",e.MENTIONS="mentions"}(fe||(fe={}));const he={[fe.VIEWS]:de.dialogLoadingText,[fe.MENTIONS]:de.dialogLoadingTextMentioned},pe={[fe.VIEWS]:"views",[fe.MENTIONS]:"mentions"},ve=[400,401,403],ge=[404],ye={dayDiff:2,hourDiff:48},me={dayDiff:28},_e={dayDiff:48},xe=(e,t)=>{return(0,F.MS)(e)?e.graphQLErrors.some((e=>{var n;return t.includes(null==e||null===(n=e.extensions)||void 0===n?void 0:n.statusCode)})):t.includes(null==e||null===(n=e.extensions)||void 0===n?void 0:n.statusCode);var n},be=e=>xe(e,ve)||xe(e,ge),we=(e,t)=>(0,W.Z)(function(e,t){if((0,B.Z)(2,arguments),!t||"object"!=typeof t)return new Date(NaN);var n="years"in t?(0,H.Z)(t.years):0,i="months"in t?(0,H.Z)(t.months):0,r="weeks"in t?(0,H.Z)(t.weeks):0,o="days"in t?(0,H.Z)(t.days):0,a="hours"in t?(0,H.Z)(t.hours):0,s="minutes"in t?(0,H.Z)(t.minutes):0,l="seconds"in t?(0,H.Z)(t.seconds):0,c=(0,q.Z)((0,V.Z)(e),i+12*n),u=(0,$.Z)(c,o+7*r),d=1e3*(l+60*(s+60*a));return new Date(u.getTime()-d)}(e,t),{days:1}),Ee=e=>{const t=(0,Y.Z)(new Date,e);return t<=ye.dayDiff?le.HOUR:t<=me.dayDiff?le.DAY:t<=_e.dayDiff?le.WEEK:le.MONTH},Ze=()=>Intl.DateTimeFormat().resolvedOptions().timeZone,ke=Ze(),Se=(e,t=new Date,n)=>new Intl.RelativeTimeFormat(n,{numeric:"auto"}).format(-(0,Y.Z)(t,e),"days"),Te=(e,t)=>Intl.DateTimeFormat(void 0,(0,i.Z)((0,i.Z)((0,i.Z)((0,i.Z)((0,i.Z)((0,i.Z)({},t.showMinutes?{minute:"numeric"}:{}),t.showHours?{hour:"numeric"}:{}),t.showDays?{day:"numeric"}:{}),t.showMonths?{month:"long"}:{}),t.showYears?{year:"numeric"}:{}),{},{hourCycle:"h12"})).format(e),Me=({date:e,granularity:t,now:n=new Date,intl:i})=>{switch(t){case le.HOUR:return(0,Y.Z)(n,e)<2?`${r=Se(e,n,i.locale),`${r[0].toLocaleUpperCase()}${r.slice(1)}`}, ${Te(e,{showHours:!0})}`:Te(e,{showMonths:!0,showHours:!0,showDays:!0});case le.DAY:return Te(e,{showMonths:!0,showDays:!0});case le.WEEK:const t=Te(e,{showMonths:!0,showDays:!0});return i.formatMessage(de.graphGranularityWeek,{date:t});default:return Te(e,{showYears:!0,showMonths:!0})}var r},Ne=(e,t)=>(0,se.format)(t,"yyyy-MM-dd'T'HH:mm:ssxxx",{timeZone:e}),Oe=e=>{if(0==e.length)return e;const t=24-e.length,n=new Date(e[0].date);return[...function(e,t){(0,B.Z)(1,arguments);var n=e||{},i=(0,V.Z)(n.start),r=(0,V.Z)(n.end),o=i.getTime(),a=r.getTime();if(!(o<=a))throw new RangeError("Invalid interval");var s=[],l=i;l.setMinutes(0,0,0);var c=t&&"step"in t?Number(t.step):1;if(c<1||isNaN(c))throw new RangeError("`options.step` must be a number greater than 1");for(;l.getTime()<=a;)s.push((0,V.Z)(l)),l=te(l,c);return s}({start:ne(n,t),end:ne(n,1)}).map((e=>({date:Ne(ke,e),count:0}))),...e]},Ce=(e,t,n=new Date)=>{const i=function(e,t){(0,B.Z)(2,arguments);var n=(0,K.Z)(e,t)/6e4;return n>0?Math.floor(n):Math.ceil(n)}(n,e),r=G(n,e),o=(0,ie.Z)(n,e),a=function(e,t){(0,B.Z)(2,arguments);var n=(0,ie.Z)(e,t)/7;return n>0?Math.floor(n):Math.ceil(n)}(n,e),s=(0,re.Z)(n,e),l=function(e,t){(0,B.Z)(2,arguments);var n=(0,V.Z)(e),i=(0,V.Z)(t),r=(0,ae.Z)(n,i),o=Math.abs(oe(n,i));n.setFullYear("1584"),i.setFullYear("1584");var a=(0,ae.Z)(n,i)===-r,s=r*(o-a);return 0===s?0:s}(n,e);return i<1?t.formatMessage(de.lastViewedJustNow):i<60?t.formatMessage(de.lastViewedMinutesAgo,{minuteCount:i}):r<24?t.formatMessage(de.lastViewedHoursAgo,{hourCount:r}):o<7?t.formatMessage(de.lastViewedDaysAgo,{dayCount:o}):a<4?t.formatMessage(de.lastViewedWeeksAgo,{weekCount:a}):s<12?t.formatMessage(de.lastViewedMonthsAgo,{monthCount:s}):t.formatMessage(de.lastViewedYearsAgo,{yearCount:l})},Ae=(e,t,n)=>{const i=(0,j.TW)("confluence.frontend.analytics-byline-for-free-tenants"),{edition:r}=(0,R.D)();return e||((e,t)=>!t&&null===(null==e?void 0:e.contentAnalyticsViewers))(t,n)||(e=>e&&xe(e,ve))(n)||!(e=>{var t,n;return(null==e||null===(t=e.user)||void 0===t||null===(n=t.confluence)||void 0===n?void 0:n.permissionType)===ce.INTERNAL})(t)||((e,t)=>"FREE"===e&&!t)(r,i)};var Le=n(172033),Ie=n(202049),Re=n(285370);const Pe=(0,Le.is)({key:Ie.g6}),De=(0,Le.pi)({key:Re.nh}),ze=(0,Le.pi)({key:Re.Cm});var je=n(331377),Fe=n(161461);const Ve=je.ZP`query ContentAnalyticsViewersUnifiedQuery($contentId:ID!$fromDate:String){contentAnalyticsViewers(contentId:$contentId fromDate:$fromDate){count id}...UserPermissionFragment}${Fe.M}`;var Be=n(340575);const Ue=je.ZP`query AnalyticsContentQuery($contentId:ID!){singleContent(id:$contentId){id type metadata{createdDate}}}`,We=je.ZP`query AnalyticsDialogGraphQuery($contentId:ID!$graphStartTime:String!$graphGranularity:AnalyticsTimeseriesGranularity!$countStartTime:String!$timezone:String!){TimeseriesCount:pageAnalyticsTimeseriesCount(pageId:$contentId startTime:$graphStartTime eventName:[page_viewed]granularity:$graphGranularity timezone:$timezone){nodes{date count}}UserCount:pageAnalyticsCount(pageId:$contentId startTime:$countStartTime eventName:[page_viewed]uniqueBy:USER){count}AllCount:pageAnalyticsCount(pageId:$contentId startTime:$countStartTime eventName:[page_viewed]uniqueBy:ALL){count}}`,$e=je.ZP`query AnalyticsPopularQuery{popularFeed(first:10){nodes{content{id}}}}`,qe=je.ZP`query AnalyticsViewersQuery($contentId:ID!$limit:Int){singleContent(id:$contentId){id contentAnalyticsViewsByUser(limit:$limit){pageViews{userProfile{id displayName photos{value isPrimary}isActive confluence{permissionType}}lastViewedAt}}}}`,He=je.ZP`query AnalyticsNonViewersQuery($accountIds:[String]){confluenceUsers(accountIds:$accountIds){nodes{displayName profilePicture{path}permissionType ...on KnownUser{accountId}}}}`;let Ye;!function(e){e.ORIGINAL="original",e.WITH_MENTIONS="with-mentions"}(Ye||(Ye={}));const Ke=(0,o.createContext)(Ye.ORIGINAL),Xe=()=>(0,o.useContext)(Ke);var Ge=n(755181);const Qe=je.ZP`query ContentToADFQuery($contentId:ID!){content(id:$contentId){nodes{id type body{atlas_doc_format{value}}}}}`,Je=e=>{const t=(e=>{try{return JSON.parse(e)}catch(t){return{type:"doc"}}})(e),n={};return(0,Ge.f)(t,{mention:e=>{var t;const{id:i,text:r=""}=null!==(t=e.attrs)&&void 0!==t?t:{};i&&(n[i]=r.replace(/^@/,""))}}),n};let et,tt,nt;!function(e){e.ANONYMOUS="ANONYMOUS",e.APP="APP",e.EXTERNAL="EXTERNAL",e.INTERNAL="INTERNAL",e.JSD="JSD"}(et||(et={})),function(e){e.NORMAL="normal",e.GUEST="guest",e.ANONYMOUS="anonymous"}(tt||(tt={})),function(e){e.ANONYMOUS="ANONYMOUS",e.APP="APP",e.EXTERNAL="EXTERNAL",e.INTERNAL="INTERNAL",e.JSD="JSD"}(nt||(nt={}));const it={[nt.APP]:tt.NORMAL,[nt.EXTERNAL]:tt.GUEST,[nt.INTERNAL]:tt.NORMAL,[nt.JSD]:tt.NORMAL},rt=(e,{limit:t}={})=>{const{userId:n}=(0,R.D)(),[i,{data:r,loading:s,error:l}]=(0,a.td)(qe),c=(0,o.useCallback)((()=>{const n={contentId:e};t&&(n.limit=t+1),i({variables:n})}),[e,i,t]),u=(0,o.useMemo)((()=>{var e,t,n;if(!r)return null;return(null!==(e=null==r||null===(t=r.singleContent)||void 0===t||null===(n=t.contentAnalyticsViewsByUser)||void 0===n?void 0:n.pageViews)&&void 0!==e?e:[]).map((e=>{var t,n,i,r,o,a,s,l,c,u,d;if(!e.userProfile){return{id:null,name:null,avatarURL:null,accountType:tt.ANONYMOUS,lastViewedAt:e.lastViewedAt}}return{id:null===(t=e.userProfile)||void 0===t?void 0:t.id,name:null!==(n=null===(i=e.userProfile)||void 0===i?void 0:i.displayName)&&void 0!==n?n:"",avatarURL:null!==(r=null===(o=e.userProfile)||void 0===o||null===(a=o.photos)||void 0===a||null===(s=a[0])||void 0===s?void 0:s.value)&&void 0!==r?r:"",lastViewedAt:e.lastViewedAt,accountType:null!==(l=it[null===(c=e.userProfile)||void 0===c||null===(u=c.confluence)||void 0===u?void 0:u.permissionType])&&void 0!==l?l:tt.NORMAL,isDeactivated:!(null!==(d=e.userProfile)&&void 0!==d&&d.isActive)}}))}),[r]);return{error:l,isLoading:s,viewers:(0,o.useMemo)((()=>{if(!u)return null;const e=t&&u.length>t,i=u.filter((t=>t.id!==n||!e));return t?i.slice(0,t):i}),[u,t,n]),loadViewers:c}},ot={[et.APP]:tt.NORMAL,[et.EXTERNAL]:tt.GUEST,[et.INTERNAL]:tt.NORMAL,[et.JSD]:tt.NORMAL},at=(e,{viewersCountLimit:t=5,mentionsViewedCountLimit:n=5,mentionsNotViewedCountLimit:i=5}={})=>{const{isLoading:r,viewers:s,error:l,loadViewers:c}=rt(e,{limit:t}),{isLoading:u,mentionedAccountIds:d,mentionedAccountNames:f,error:h,loadMentionedAccountIds:p}=(e=>{const t=Xe(),[n,{data:i,loading:r,error:s}]=(0,a.td)(Qe,{variables:{contentId:e}});(0,o.useEffect)((()=>{t===Ye.WITH_MENTIONS&&n({variables:{contentId:e}})}),[t,n,e]);const l=(0,o.useMemo)((()=>{var e,t,n,r,o;if(!i)return null;const a=null==i||null===(e=i.content)||void 0===e||null===(t=e.nodes)||void 0===t||null===(n=t[0])||void 0===n||null===(r=n.body)||void 0===r||null===(o=r.atlas_doc_format)||void 0===o?void 0:o.value;return a?Je(a):{}}),[i]),c=(0,o.useMemo)((()=>l?Object.keys(l):null),[l]),u=(0,o.useCallback)((()=>{n({variables:{contentId:e}})}),[e,n]);return{isLoading:r,mentionedAccountIds:c,mentionedAccountNames:l,loadMentionedAccountIds:u,error:s}})(e),v=(0,o.useMemo)((()=>d?d.slice(0,400):null),[d]),{mentions:g,viewedCount:y,notViewedCount:m,loadMentions:_,isLoading:x,error:b}=(({contentId:e,mentionedAccountIds:t,mentionedAccountNames:n,viewedCountLimit:i,notViewedCountLimit:r})=>{const{userId:s}=(0,R.D)(),l=(0,o.useMemo)((()=>t?new Set(t):null),[t]),{isLoading:c,viewers:u,error:d,loadViewers:f}=rt(e),h=(0,o.useMemo)((()=>{if(!u)return null;if(!l)return null;const e=u.filter((e=>e.accountType!==tt.ANONYMOUS&&l.has(e.id)));return e.sort(((e,t)=>e.lastViewedAt<t.lastViewedAt?1:e.lastViewedAt>t.lastViewedAt?-1:0)),e}),[l,u]),[p,{data:v,loading:g,error:y}]=(0,a.td)(He),m=(0,o.useMemo)((()=>{if(!h||!t)return null;const e=new Set(h.map((e=>e.id))),n=t.filter((t=>!e.has(t))),i=r+1,o=Math.min(n.length,i);return n.slice(0,o)}),[t,r,h]),_=(0,o.useMemo)((()=>{var e,t;return m&&0===m.length?[]:v?(null!==(e=null==v||null===(t=v.confluenceUsers)||void 0===t?void 0:t.nodes)&&void 0!==e?e:[]).map((e=>{var t,n,i,r,o;return{id:null!==(t=null==e?void 0:e.accountId)&&void 0!==t?t:"",name:null!==(n=null==e?void 0:e.displayName)&&void 0!==n?n:"",avatarURL:null!==(i=null==e||null===(r=e.profilePicture)||void 0===r?void 0:r.path)&&void 0!==i?i:"",accountType:null!==(o=ot[null==e?void 0:e.permissionType])&&void 0!==o?o:tt.NORMAL}})):null}),[m,v]);(0,o.useEffect)((()=>{const e=!!_;!m||0===m.length||g||e||p({variables:{accountIds:m}})}),[g,p,m,_]);const x=(0,o.useMemo)((()=>{if(!h||!_||!l)return null;const e=h.length>i,t=h.filter((t=>!e||t.id!==s)).slice(0,i),o=new Set([...h.map((e=>e.id)),..._.map((e=>e.id))]),a=[...l].filter((e=>!o.has(e))),c=[..._,...a.map((e=>{var t;return{id:e,name:null!==(t=null==n?void 0:n[e])&&void 0!==t?t:"",avatarURL:"",accountType:tt.NORMAL}}))],u=c.length>r;return[...t,...c.filter((e=>!u||e.id!==s)).slice(0,r)]}),[l,n,r,_,s,i,h]),{viewedCount:b,notViewedCount:w}=(0,o.useMemo)((()=>h&&t?{viewedCount:h.length,notViewedCount:t.length-h.length}:{viewedCount:0,notViewedCount:0}),[t,h]);return{mentions:x,viewedCount:b,notViewedCount:w,loadMentions:f,isLoading:(0,o.useMemo)((()=>!!c||(!(!h||_)||g)),[c,g,_,h]),error:(0,o.useMemo)((()=>null!=d?d:y),[y,d])}})({contentId:e,mentionedAccountIds:v,mentionedAccountNames:f,viewedCountLimit:n,notViewedCountLimit:i});return{error:(0,o.useMemo)((()=>h||l||b),[h,b,l]),mentionedAccountIds:(0,o.useMemo)((()=>null!=v?v:[]),[v]),loadMentionedAccountIds:p,isLoadingMentionedAccountIds:u,viewers:(0,o.useMemo)((()=>null!=s?s:[]),[s]),loadViewers:c,isLoadingViewers:r,mentions:(0,o.useMemo)((()=>null!=g?g:[]),[g]),mentionedViewedCount:y,mentionedNotViewedCount:m,loadMentions:_,isLoadingMentions:x}};var st=n(264434),lt=n(962285),ct=n(358280),ut=n(612642);n(264507),n(8765),n(374396),n(167767),n(663035),n(319272),n(144961),n(413076),n(936455),n(73060),n(438633),n(374914),n(615237),n(523254),n(991532),n(868964),n(370306),n(568886),n(168571),n(698297),n(593940),n(410258),n(416473),n(234119),n(955994),n(374540),n(341645),n(953305),n(40592),n(357290),n(406634),n(143706),n(964045),n(586655),n(354326),n(896518);const dt=(0,o.forwardRef)(((e,t)=>{let{as:n="div",style:a}=e,s=(0,r.Z)(e,["as","style"]);return o.createElement(n,(0,i.Z)((0,i.Z)({},s),{},{style:(0,i.Z)((0,i.Z)({},a),{},{"--_1j2wndk":(0,lt.Z)((0,ut.Z)("elevation.surface.overlay",y.N0)),"--_1l2q16a":(0,lt.Z)((0,ut.Z)("elevation.shadow.overlay",`0 4px 8px -2px ${y.Nx}, 0 0 1px ${y.VG}`))}),ref:t,className:(0,ct.Z)(["_1bsb1kdj _1e0c1txw _ca0qgktf _u5f3gktf _n3tdgktf _19bvgktf _2lx21bp4 _vchhusvi _kqswh2mm _1reo15vq _bfhkq736 _16qs1m37 _2rko1l7b",s.className])}))}));const ft=(0,o.forwardRef)(((e,t)=>{let{as:n="div",style:a,marginTop:s,marginBottom:l}=e,c=(0,r.Z)(e,["as","style","marginTop","marginBottom"]);return o.createElement(n,(0,i.Z)((0,i.Z)({},c),{},{style:(0,i.Z)((0,i.Z)({},a),{},{"--_1mguvaz":(0,lt.Z)(s),"--_169tfqd":(0,lt.Z)(l)}),ref:t,className:(0,ct.Z)(["_19pkidpf _2hwxidpf _otyridpf _18u0idpf _19pkqwzm _otyryoks _ca0qidpf _u5f3idpf _n3tdidpf _19bvidpf",c.className])}))}));const ht=(0,o.forwardRef)(((e,t)=>{let{as:n="div",style:a,zIndex:s}=e,l=(0,r.Z)(e,["as","style","zIndex"]);return o.createElement(n,(0,i.Z)((0,i.Z)({},l),{},{style:(0,i.Z)((0,i.Z)({},a),{},{"--_tq34nb":(0,lt.Z)(s)}),ref:t,className:(0,ct.Z)(["_kqswstnw _1e0cglyw _19pk14y2 _1pbyvdn1",l.className])}))}));const pt=(0,o.forwardRef)(((e,t)=>{let{as:n="div",style:a}=e,s=(0,r.Z)(e,["as","style"]);return o.createElement(n,(0,i.Z)((0,i.Z)({},s),{},{style:a,ref:t,className:(0,ct.Z)(["_4t3i88uy",s.className])}))}));const vt=(0,o.forwardRef)(((e,t)=>{let{as:n="span",style:a}=e,s=(0,r.Z)(e,["as","style"]);return o.createElement(n,(0,i.Z)((0,i.Z)({},s),{},{style:(0,i.Z)((0,i.Z)({},a),{},{"--_1b5y5cj":(0,lt.Z)((0,ut.Z)("color.text.subtle",y.iw))}),ref:t,className:(0,ct.Z)(["_1wybdlk8 _vwz4gktf _1e0c1txw _1bah1h6o _y3gn1h6o _syaz1fw9 _k48pbfng _19pk1crf _2hwxidpf _otyr1crf _18u0idpf",s.className])}))}));const gt=(0,o.forwardRef)(((e,t)=>{let{as:n="div",style:a}=e,s=(0,r.Z)(e,["as","style"]);return o.createElement(n,(0,i.Z)((0,i.Z)({},s),{},{style:a,ref:t,className:(0,ct.Z)(["_1e0c1txw _1bah1h6o",s.className])}))}));var yt=n(218986),mt=n(772657);const _t=(0,g.iv)({backgroundColor:`var(--ds-background-selected, ${y.BA})`,color:`var(--ds-text-selected, ${y.AX})`,"&:hover":{backgroundColor:`var(--ds-background-selected, ${y.BA})`}}),xt=(0,g.iv)({backgroundColor:`var(--ds-background-input, ${y.os})`,color:`var(--ds-text, ${y.Mx})`,"&:hover":{backgroundColor:`var(--ds-background-input, ${y.gt})`}}),bt=(0,g.iv)({outline:"none",boxSizing:"border-box",padding:"4px 16px",display:"inline-flex",border:"none",borderRadius:"13px",fontSize:"14px",lineHeight:"20px",height:"28px",cursor:"pointer",userSelect:"none",whiteSpace:"nowrap",verticalAlign:"top",marginLeft:"8px","&:first-of-type":{marginLeft:"0"}}),wt=e=>{const{isSelected:t}=e,n=(0,r.Z)(e,["isSelected"]);return(0,g.tZ)(mt.Z,null,(0,g.tZ)("button",(0,u.Z)({},n,{css:[bt,t?_t:xt]})))},Et=((0,g.iv)({display:"flex",flexDirection:"row",alignItems:"center"}),(0,g.iv)({display:"inline-flex",backgroundColor:`var(--ds-background-neutral, ${y.os})`,borderRadius:"90px",marginRight:"4px"})),Zt=e=>{const{width:t,height:n}=e,i=(0,r.Z)(e,["width","height"]);return(0,g.tZ)("div",(0,u.Z)({},i,{css:[Et],style:{width:`${null!=t?t:95}px`,height:`${null!=n?n:28}px`}}))},kt=({selectedPill:e,pills:t,isLoading:n,onPillSelected:i,fireAnalyticsEvent:r,testId:a})=>{const s=(0,o.useCallback)((e=>{i(e),null==r||r(e)}),[i,r]);if(n){const e=t.map((e=>o.createElement(Zt,{key:e.name,width:e.skeletonWidth,height:28})));return o.createElement("span",{"data-testid":`${a}-skeleton`},e)}const l=t.map((t=>o.createElement(wt,{id:t.name,key:t.name,isSelected:t.name===e,onClick:()=>s(t.name),role:"tab","aria-controls":t.name,"aria-selected":t.name===e,"data-testid":t.name},t.content)));return o.createElement("span",{role:"tablist","data-testid":a},l)};n(925285),n(968617),n(927217),n(845015),n(397237),n(675262),n(841115),n(374396),n(46072),n(117978),n(362604),n(354326);const St=(0,o.forwardRef)(((e,t)=>{let{as:n="div",style:a}=e,s=(0,r.Z)(e,["as","style"]);return o.createElement(n,(0,i.Z)((0,i.Z)({},s),{},{style:a,ref:t,className:(0,ct.Z)(["_1e0c1txw _1bah1yb4",s.className])}))}));const Tt=(0,o.forwardRef)(((e,t)=>{let{as:n="h3",style:a}=e,s=(0,r.Z)(e,["as","style"]);return o.createElement(n,(0,i.Z)((0,i.Z)({},s),{},{style:a,ref:t,className:(0,ct.Z)(["_syaz1fxt _1wyb1yan _k48pbfng _1dyzvkfx _vwz4cjiy _19pk1f4h",s.className])}))}));const Mt=(0,o.forwardRef)(((e,t)=>{let{as:n=p.Z,style:a}=e,s=(0,r.Z)(e,["as","style"]);return o.createElement(n,(0,i.Z)((0,i.Z)({},s),{},{style:a,ref:t,className:(0,ct.Z)(["_1dltidpf _w8sqidpf _fjwridpf _1yxxidpf",s.className])}))}));const Nt=(0,d.defineMessages)({dialogHeader:{id:"confluence-analytics.dialog.header",defaultMessage:"Analytics"},dialogCloseAriaLabel:{id:"confluence-analytics.dialog.close-aria-label",defaultMessage:"Close Confluence Analytics nonmodal dialog"},dialogCloseLabel:{id:"confluence-analytics.dialog.close-label",defaultMessage:"Close modal"},filterViewed:{id:"confluence-analytics.filters.views",defaultMessage:"Views"},filterMentioned:{id:"confluence-analytics.filters.mentions",defaultMessage:"Mentions"}}),Ot=({error:e,isLoading:t,selectedPill:n,shouldShowPills:r,onPillSelected:a=(()=>{}),onClose:s})=>{const l=(0,f.Z)(),{edition:c}=(0,R.D)(),u=(0,o.useMemo)((()=>t||!!e),[t,e]),d=o.createElement(mt.Z,null,o.createElement(Mt,{appearance:"link",onClick:s,testId:ue.CLOSE_BUTTON},o.createElement(yt.default,{label:l.formatMessage(Nt.dialogCloseLabel),primaryColor:(0,ut.Z)("color.icon",y.Mx)}))),p=[{name:fe.VIEWS,content:o.createElement(h.Z,(0,i.Z)({},Nt.filterViewed))},...c===Be.m.PREMIUM?[{name:fe.MENTIONS,content:o.createElement(h.Z,(0,i.Z)({},Nt.filterMentioned))}]:[]];return u?o.createElement(St,null,o.createElement(kt,{isLoading:!0,pills:p,selectedPill:n,testId:ue.PILLS,onPillSelected:a}),d):r?o.createElement(St,null,o.createElement(kt,{isLoading:!1,pills:p,selectedPill:n,testId:ue.PILLS,onPillSelected:a}),d):o.createElement(St,null,o.createElement(Tt,null,o.createElement(h.Z,(0,i.Z)({},Nt.dialogHeader))),d)};Ot.displayName="AnalyticsDialogHeader",n(203800),n(488656),n(714687);const Ct=(0,o.forwardRef)(((e,t)=>{let{as:n=p.Z,style:a,hoverTextDecoration:s}=e,l=(0,r.Z)(e,["as","style","hoverTextDecoration"]);return o.createElement(n,(0,i.Z)((0,i.Z)({},l),{},{style:(0,i.Z)((0,i.Z)({},a),{},{"--_qn17rr":(0,lt.Z)(s)}),ref:t,className:(0,ct.Z)(["_1i92dlk8 _12r21nn1 _1p6m1dro",l.className])}))}));const At=({contentId:e,contentTab:t,contentType:n,onClick:i,testId:r,children:a})=>{const s=Xe(),l=(0,o.useMemo)((()=>{if(!e||!n)return null;const i="/wiki/plugins/servlet/ac/com.addonengine.analytics/analytics-content-page";if(s===Ye.WITH_MENTIONS&&t){return`${i}?${new URLSearchParams({"content.id":e,"content.type":n,"ac.view":t})}`}return`${i}?${new URLSearchParams({"content.id":e,"content.type":n})}`}),[t,e,n,s]);return l?o.createElement(Ct,{href:l,onClick:i,testId:r,shouldFitContainer:s!==Ye.WITH_MENTIONS,appearance:s===Ye.WITH_MENTIONS?"link":"default",hoverTextDecoration:s===Ye.WITH_MENTIONS?"underline":"none"},a):null};At.displayName="ContentAnalyticsLink";var Lt=n(418840);n(855923),n(342588),n(351046),n(749296),n(809601),n(133948),n(146298),n(651609),n(344173),n(333897),n(391524),n(525286),n(49423),n(761998);const It=(0,o.forwardRef)(((e,t)=>{let{as:n="div",style:a,padding:s,margin:l,borderRadius:c}=e,u=(0,r.Z)(e,["as","style","padding","margin","borderRadius"]);return o.createElement(n,(0,i.Z)((0,i.Z)({},u),{},{style:(0,i.Z)((0,i.Z)({},a),{},{"--_1kuvdc9":(0,lt.Z)(u.width),"--_da5118":(0,lt.Z)(u.height),"--_dmtww1":(0,lt.Z)(s),"--_yy1vdj":(0,lt.Z)(l),"--_15ssqfn":(0,lt.Z)((0,ut.Z)("color.skeleton",y.Zw)),"--_142a10n":(0,lt.Z)(c)}),ref:t,className:(0,ct.Z)(["_1bsbz3p1 _i0dl1wug _1o9zidpf _4t3i7i7l _ca0q1ipv _u5f31ipv _n3td1ipv _19bv1ipv _19pk9huc _2hwx9huc _otyr9huc _18u09huc _bfhk19zh _2rko1jmb",u.className])}))}));const Rt=({width:e="100%",height:t="1em",padding:n="0",margin:i="0",borderRadius:r=`${Lt.E0}px`,testId:a})=>o.createElement(It,{"data-testid":a,width:e,height:t,padding:n,margin:i,borderRadius:r});Rt.displayName="AnalyticsDialogLoadingSkeleton",n(797152),n(167854),n(319272),n(354326);const Pt=(0,o.forwardRef)(((e,t)=>{let{as:n="div",style:a,marginTop:s,marginBottom:l}=e,c=(0,r.Z)(e,["as","style","marginTop","marginBottom"]);return o.createElement(n,(0,i.Z)((0,i.Z)({},c),{},{style:(0,i.Z)((0,i.Z)({},a),{},{"--_155hmd":(0,lt.Z)(null!=s?s:"0"),"--_1d1w0rg":(0,lt.Z)(null!=l?l:"0")}),ref:t,className:(0,ct.Z)(["_1e0c1txw _1bah1h6o _19pk1bnt _otyranuf",c.className])}))}));const Dt=({isLoading:e,contentId:t,contentTab:n,contentType:i,onClickAnalyticsLink:r})=>o.createElement(Pt,null,e?o.createElement(Rt,{testId:ue.LINK_SKELETON,height:"20px",width:"80px"}):o.createElement(At,{contentId:t,contentTab:n,contentType:i,testId:ue.LINK,onClick:r},o.createElement(h.Z,{id:"confluence-analytics.view-more-insights.button",defaultMessage:"View more insights"})));Dt.displayName="AnalyticsDialogFooter";var zt=n(866706),jt=["tooltipOpen"];function Ft(){return(Ft=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function Vt(e){var t=(0,o.useState)(Ft({tooltipOpen:!1},e)),n=t[0],i=t[1],r=(0,o.useCallback)((function(e){return i("function"==typeof e?function(t){t.tooltipOpen;var n=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(t,jt);return Ft({},e(n),{tooltipOpen:!0})}:{tooltipOpen:!0,tooltipLeft:e.tooltipLeft,tooltipTop:e.tooltipTop,tooltipData:e.tooltipData})}),[i]),a=(0,o.useCallback)((function(){return i({tooltipOpen:!1,tooltipLeft:void 0,tooltipTop:void 0,tooltipData:void 0})}),[i]);return{tooltipOpen:n.tooltipOpen,tooltipLeft:n.tooltipLeft,tooltipTop:n.tooltipTop,tooltipData:n.tooltipData,updateTooltip:i,showTooltip:r,hideTooltip:a}}var Bt=n(435631),Ut=n(64172),Wt=n.n(Ut),$t=n(833486);function qt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ht(e,t){return(Ht=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Yt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Kt=function(e){var t,n;function i(){for(var t,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return Yt(qt(t=e.call.apply(e,[this].concat(i))||this),"node",void 0),t}n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,Ht(t,n);var r=i.prototype;return r.componentWillUnmount=function(){this.node&&document.body&&(document.body.removeChild(this.node),delete this.node)},r.render=function(){return this.node||"undefined"==typeof document||(this.node=document.createElement("div"),null!=this.props.zIndex&&(this.node.style.zIndex=""+this.props.zIndex),document.body.append(this.node)),this.node?$t.createPortal(this.props.children,this.node):null},i}(o.PureComponent);Yt(Kt,"propTypes",{zIndex:Wt().oneOfType([Wt().number,Wt().string])});var Xt=n(143567),Gt=n.n(Xt),Qt=["className","top","left","offsetLeft","offsetTop","style","children","unstyled","applyPositionStyle"];function Jt(){return(Jt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}var en={position:"absolute",backgroundColor:"white",color:"#666666",padding:".3rem .5rem",borderRadius:"3px",fontSize:"14px",boxShadow:"0 1px 2px rgba(33,33,33,0.2)",lineHeight:"1em",pointerEvents:"none"};function tn(e){var t=e.className,n=e.top,i=e.left,r=e.offsetLeft,a=void 0===r?10:r,s=e.offsetTop,l=void 0===s?10:s,c=e.style,u=void 0===c?en:c,d=e.children,f=e.unstyled,h=void 0!==f&&f,p=e.applyPositionStyle,v=void 0!==p&&p,g=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,Qt);return o.createElement("div",Jt({className:Gt()("visx-tooltip",t),style:Jt({top:null==n||null==l?n:n+l,left:null==i||null==a?i:i+a},v&&{position:"absolute"},!h&&u)},g),d)}function nn(){return(nn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function rn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function on(e,t){return(on=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function an(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}tn.propTypes={children:Wt().node,className:Wt().string,left:Wt().number,offsetLeft:Wt().number,offsetTop:Wt().number,top:Wt().number,applyPositionStyle:Wt().bool,unstyled:Wt().bool};var sn={top:0,right:0,bottom:0,left:0,width:0,height:0};function ln(e){var t,n;return n=t=function(t){var n,i;function r(e){var n;return an(rn(n=t.call(this,e)||this),"node",void 0),n.state={rect:void 0,parentRect:void 0},n.getRects=n.getRects.bind(rn(n)),n}i=t,(n=r).prototype=Object.create(i.prototype),n.prototype.constructor=n,on(n,i);var a=r.prototype;return a.componentDidMount=function(){var e=this;this.node=$t.findDOMNode(this),this.setState((function(){return e.getRects()}))},a.getRects=function(){if(!this.node)return this.state;var e=this.node,t=e.parentNode;return{rect:e.getBoundingClientRect?e.getBoundingClientRect():sn,parentRect:null!=t&&t.getBoundingClientRect?t.getBoundingClientRect():sn}},a.render=function(){return o.createElement(e,nn({getRects:this.getRects},this.state,this.props))},r}(o.PureComponent),an(t,"displayName","withBoundingRects("+(e.displayName||"")+")"),n}var cn=["children","getRects","left","offsetLeft","offsetTop","parentRect","rect","style","top","unstyled"];function un(){return(un=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}const dn=ln((function(e){var t,n=e.children,i=(e.getRects,e.left),r=void 0===i?0:i,a=e.offsetLeft,s=void 0===a?10:a,l=e.offsetTop,c=void 0===l?10:l,u=e.parentRect,d=e.rect,f=e.style,h=void 0===f?en:f,p=e.top,v=void 0===p?0:p,g=e.unstyled,y=void 0!==g&&g,m=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,cn);if(d&&u){var _=r,x=v,b=!1,w=!1;if(u.width){var E=_+s+d.width-u.width,Z=d.width-_-s;b=E>0&&E>Z}else{var k=_+s+d.width-window.innerWidth,S=d.width-_-s;b=k>0&&k>S}if(u.height){var T=x+c+d.height-u.height,M=d.height-x-c;w=T>0&&T>M}else w=x+c+d.height>window.innerHeight;_=b?_-d.width-s:_+s,x=w?x-d.height-c:x+c,t="translate("+(_=Math.round(_))+"px, "+(x=Math.round(x))+"px)"}return o.createElement(tn,un({style:un({left:0,top:0,transform:t},!y&&h)},m),n)}));var fn=["detectBounds","zIndex"],hn=["left","top","detectBounds","zIndex"];function pn(){return(pn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function vn(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}var gn=["#fff5f5","#ffe3e3","#ffc9c9","#ffa8a8","#ff8787","#ff6b6b","#fa5252","#f03e3e","#e03131","#c92a2a"],yn=["#fff0f6","#ffdeeb","#fcc2d7","#faa2c1","#f783ac","#f06595","#e64980","#d6336c","#c2255c","#a61e4d"],mn=["#f8f0fc","#f3d9fa","#eebefa","#e599f7","#da77f2","#cc5de8","#be4bdb","#ae3ec9","#9c36b5","#862e9c"],_n=["#e3fafc","#c5f6fa","#99e9f2","#66d9e8","#3bc9db","#22b8cf","#15aabf","#1098ad","#0c8599","#0b7285"],xn=["#fff9db","#fff3bf","#ffec99","#ffe066","#ffd43b","#fcc419","#fab005","#f59f00","#f08c00","#e67700"],bn=["#f8f9fa","#f1f3f5","#e9ecef","#dee2e6","#ced4da","#adb5bd","#868e96","#495057","#343a40","#212529"],wn=bn[7],En=[_n[9],_n[3],xn[5],gn[4],mn[8],mn[5],yn[9]];function Zn(){return(Zn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}var kn={fontFamily:"-apple-system,BlinkMacSystemFont,Roboto,Helvetica Neue,sans-serif",fontWeight:700,fontSize:12,textAnchor:"middle",pointerEvents:"none",letterSpacing:.4};function Sn(e){var t,n,i,r,o,a,s=Zn({},kn,{fill:wn,stroke:"none"},e.svgLabelBig),l=Zn({},kn,{fontWeight:200,fontSize:11,fill:wn,stroke:"none"},e.svgLabelSmall),c=Zn({color:null!=(t=null!=(n=null!=(i=null==(r=e.htmlLabel)?void 0:r.color)?i:null==(o=e.svgLabelBig)?void 0:o.fill)?n:null==(a=e.svgLabelSmall)?void 0:a.fill)?t:wn},kn,e.htmlLabel);return{backgroundColor:e.backgroundColor,colors:[].concat(e.colors),htmlLabel:Zn({},c),svgLabelSmall:Zn({},l),svgLabelBig:Zn({},s),gridStyles:Zn({stroke:e.gridColor,strokeWidth:1},e.gridStyles),axisStyles:{x:{top:{axisLabel:Zn({},s,{dy:"-0.25em"}),axisLine:Zn({stroke:e.gridColorDark,strokeWidth:2},e.xAxisLineStyles),tickLabel:Zn({},l,{dy:"-0.25em"}),tickLength:e.tickLength,tickLine:Zn({strokeWidth:1,stroke:e.gridColor},e.xTickLineStyles)},bottom:{axisLabel:Zn({},s,{dy:"-0.25em"}),axisLine:Zn({stroke:e.gridColorDark,strokeWidth:2},e.xAxisLineStyles),tickLabel:Zn({},l,{dy:"0.125em"}),tickLength:e.tickLength,tickLine:Zn({strokeWidth:1,stroke:e.gridColor},e.xTickLineStyles)}},y:{left:{axisLabel:Zn({},s,{dx:"-1.25em"}),axisLine:Zn({stroke:e.gridColor,strokeWidth:1},e.yAxisLineStyles),tickLabel:Zn({},l,{textAnchor:"end",dx:"-0.25em",dy:"0.25em"}),tickLength:e.tickLength,tickLine:Zn({strokeWidth:1,stroke:e.gridColor},e.yTickLineStyles)},right:{axisLabel:Zn({},s,{dx:"1.25em"}),axisLine:Zn({stroke:e.gridColor,strokeWidth:1},e.yAxisLineStyles),tickLabel:Zn({},l,{textAnchor:"start",dx:"0.25em",dy:"0.25em"}),tickLength:e.tickLength,tickLine:Zn({strokeWidth:1,stroke:e.gridColor},e.yTickLineStyles)}}}}}var Tn=n(426677);const Mn=o.createContext({});var Nn=n(256436);function On(){return(On=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}var Cn={x:0,y:0};function An(e,t){if(!e||!t)return null;var n,i=function(e){if(!e)return On({},Cn);if(function(e){return!!e&&"changedTouches"in e}(e))return e.changedTouches.length>0?{x:e.changedTouches[0].clientX,y:e.changedTouches[0].clientY}:On({},Cn);if(function(e){return!!e&&"clientX"in e}(e))return{x:e.clientX,y:e.clientY};var t=null==e?void 0:e.target,n=t&&"getBoundingClientRect"in t?t.getBoundingClientRect():null;return n?{x:n.x+n.width/2,y:n.y+n.height/2}:On({},Cn)}(t),r=(n=e)&&(n instanceof SVGElement||"ownerSVGElement"in n)?e.ownerSVGElement:e,o=function(e){return!!e&&"getScreenCTM"in e}(r)?r.getScreenCTM():null;if(function(e){return!!e&&"createSVGPoint"in e}(r)&&o){var a=r.createSVGPoint();return a.x=i.x,a.y=i.y,a=a.matrixTransform(o.inverse()),new Nn.Z({x:a.x,y:a.y})}var s=e.getBoundingClientRect();return new Nn.Z({x:i.x-s.left-e.clientLeft,y:i.y-s.top-e.clientTop})}function Ln(e,t){if((n=e)&&n instanceof Element&&t)return An(e,t);var n;if(function(e){return!!e&&(e instanceof Event||"nativeEvent"in e&&e.nativeEvent instanceof Event)}(e)){var i=e,r=i.target;if(r)return An(r,i)}return null}const In=(0,o.createContext)(null);function Rn(e,t,n){var i=(0,o.useContext)(In),r=(0,o.useRef)();r.current=n;var a=(0,o.useCallback)((function(e,t,n){i&&i.emit(e,{event:t,svgPoint:Ln(t),source:n})}),[i]);return(0,o.useEffect)((function(){if(i&&e&&t){var n=function(e){var n;(!r.current||null!=e&&e.source&&null!=(n=r.current)&&n.includes(e.source))&&t(e)};return i.on(e,n),function(){return null==i?void 0:i.off(e,n)}}}),[i,e,t]),i?a:null}var Pn=n(698594);function Dn(e){var t=e.children,n=(0,o.useMemo)((function(){return(0,Pn.Z)()}),[]);return o.createElement(In.Provider,{value:n},t)}const zn=(0,o.createContext)(null);var jn=n(26011),Fn=n.n(jn);function Vn(e){return null!=e&&"number"==typeof e&&!Number.isNaN(e)&&Number.isFinite(e)}function Bn(){return(Bn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function Un(e){var t=e.hideTooltipDebounceMs,n=void 0===t?400:t,i=e.children,r=Vt(void 0),a=r.tooltipOpen,s=r.tooltipLeft,l=r.tooltipTop,c=r.tooltipData,u=r.updateTooltip,d=r.hideTooltip,f=(0,o.useRef)(null),h=(0,o.useRef)((function(e){var t=e.svgPoint,n=e.index,i=e.key,r=e.datum,o=e.distanceX,a=e.distanceY;f.current&&(f.current.cancel(),f.current=null);var s=Vn(o)?o:1/0,l=Vn(a)?a:1/0,c=Math.sqrt(Math.pow(s,2)+Math.pow(l,2));u((function(e){var o,a,s,l=e.tooltipData,u=null!=l&&l.nearestDatum&&Vn(l.nearestDatum.distance)?l.nearestDatum.distance:1/0;return{tooltipOpen:!0,tooltipLeft:null==t?void 0:t.x,tooltipTop:null==t?void 0:t.y,tooltipData:{nearestDatum:(null!=(o=null==l||null==(a=l.nearestDatum)?void 0:a.key)?o:"")!==i&&u<c?null==l?void 0:l.nearestDatum:{key:i,index:n,datum:r,distance:c},datumByKey:Bn({},null==l?void 0:l.datumByKey,(s={},s[i]={datum:r,index:n,key:i},s))}}}))})),p=(0,o.useCallback)((function(){f.current=Fn()(d,n),f.current()}),[d,n]);return o.createElement(zn.Provider,{value:{tooltipOpen:a,tooltipLeft:s,tooltipTop:l,tooltipData:c,updateTooltip:u,showTooltip:h.current,hideTooltip:p}},i)}Un.propTypes={hideTooltipDebounceMs:Wt().number,children:Wt().node.isRequired};var Wn=n(86144);const $n=Sn({backgroundColor:"#fff",colors:En,tickLength:4,svgLabelSmall:{fill:bn[7]},svgLabelBig:{fill:bn[9]},gridColor:bn[5],gridColorDark:bn[9]});const qn=o.createContext($n);function Hn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Yn=function(){function e(){Hn(this,"registry",{}),Hn(this,"registryKeys",[])}var t=e.prototype;return t.registerData=function(e){var t=this;(Array.isArray(e)?e:[e]).forEach((function(e){e.key in t.registry&&null!=t.registry[e.key]&&console.debug("Overriding data registry key",e.key),t.registry[e.key]=e,t.registryKeys=Object.keys(t.registry)}))},t.unregisterData=function(e){var t=this;(Array.isArray(e)?e:[e]).forEach((function(e){delete t.registry[e],t.registryKeys=Object.keys(t.registry)}))},t.entries=function(){return Object.values(this.registry)},t.get=function(e){return this.registry[e]},t.keys=function(){return this.registryKeys},e}();var Kn={width:0,height:0,margin:{top:0,right:0,bottom:0,left:0}};var Xn=n(541887),Gn=n(951044),Qn=n(347352);function Jn(e){return"band"===(null==e?void 0:e.type)||"ordinal"===(null==e?void 0:e.type)||"point"===(null==e?void 0:e.type)}function ei(){return(ei=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function ti(e){var t,n,i,r,a,s,l,c=e.initialDimensions,u=e.theme,d=e.xScale,f=e.yScale,h=e.children,p=e.horizontal,v=void 0===p?"auto":p,g=(0,o.useContext)(qn),y=u||g,m=(t=c,n=(0,o.useState)({width:null==(null==t?void 0:t.width)?Kn.width:t.width,height:null==(null==t?void 0:t.height)?Kn.height:t.height,margin:null==(null==t?void 0:t.margin)?Kn.margin:t.margin}),i=n[0],r=n[1],a=(0,o.useCallback)((function(e){e.width===i.width&&e.height===i.height&&e.margin.left===i.margin.left&&e.margin.right===i.margin.right&&e.margin.top===i.margin.top&&e.margin.bottom===i.margin.bottom||r(e)}),[i.width,i.height,i.margin.left,i.margin.right,i.margin.bottom,i.margin.top]),[i,a]),_=m[0],x=_.width,b=_.height,w=_.margin,E=m[1],Z=Math.max(0,x-w.left-w.right),k=Math.max(0,b-w.top-w.bottom),S=(s=(0,o.useState)(Math.random())[1],l=(0,o.useMemo)((function(){return new Yn}),[]),(0,o.useMemo)((function(){return{registerData:function(){l.registerData.apply(l,arguments),s(Math.random())},unregisterData:function(){l.unregisterData.apply(l,arguments),s(Math.random())},entries:function(){return l.entries()},get:function(e){return l.get(e)},keys:function(){return l.keys()}}}),[l])),T=function(e){var t=e.dataRegistry,n=e.xRange,i=e.xScaleConfig,r=e.yRange,a=e.yScaleConfig,s=t.keys(),l=n[0],c=n[1],u=r[0],d=r[1];return{xScale:(0,o.useMemo)((function(){var e=s.map((function(e){return t.get(e)})),n=e.reduce((function(e,t){return t?e.concat(t.data.map((function(e){return t.xAccessor(e)}))):e}),[]);if(0!==n.length){var r=Jn(i)?n:(0,Qn.Z)(n),o=(0,Xn.Z)(i)?(0,Gn.Z)(ei({range:[l,c],domain:r,zero:!0},i)):(0,Gn.Z)(ei({range:[l,c],domain:r},i));return e.forEach((function(e){null!=e&&e.xScale&&(o=e.xScale(o))})),o}}),[t,i,s,l,c]),yScale:(0,o.useMemo)((function(){var e=s.map((function(e){return t.get(e)})),n=e.reduce((function(e,t){return t?e.concat(t.data.map((function(e){return t.yAccessor(e)}))):e}),[]);if(0!==n.length){var i=Jn(a)?n:(0,Qn.Z)(n),r=(0,Xn.Z)(a)?(0,Gn.Z)(ei({range:[u,d],domain:i,zero:!0},a)):(0,Gn.Z)(ei({range:[u,d],domain:i},a));return e.forEach((function(e){null!=e&&e.yScale&&(r=e.yScale(r))})),r}}),[t,a,s,u,d])}}({dataRegistry:S,xScaleConfig:d,yScaleConfig:f,xRange:[w.left,Math.max(0,x-w.right)],yRange:[Math.max(0,b-w.bottom),w.top]}),M=T.xScale,N=T.yScale,O=S.keys(),C=(0,o.useMemo)((function(){return(0,Wn.ZP)({domain:O,range:y.colors})}),[O,y.colors]),A="auto"===v?Jn(f)||"time"===f.type||"utc"===f.type:v;return o.createElement(Mn.Provider,{value:{dataRegistry:S,registerData:S.registerData,unregisterData:S.unregisterData,xScale:M,yScale:N,colorScale:C,theme:y,width:x,height:b,margin:w,innerWidth:Z,innerHeight:k,setDimensions:E,horizontal:A}},h)}function ni(e){var t=e.source,n=e.onPointerOut,i=void 0===n||n,r=e.onPointerMove,a=void 0===r||r,s=e.onPointerUp,l=void 0===s||s,c=e.onFocus,u=void 0!==c&&c,d=e.onBlur,f=void 0!==d&&d,h=Rn(),p=(0,o.useCallback)((function(e){return null==h?void 0:h("pointermove",e,t)}),[h,t]),v=(0,o.useCallback)((function(e){return null==h?void 0:h("pointerout",e,t)}),[h,t]),g=(0,o.useCallback)((function(e){return null==h?void 0:h("pointerup",e,t)}),[h,t]),y=(0,o.useCallback)((function(e){return null==h?void 0:h("focus",e,t)}),[h,t]),m=(0,o.useCallback)((function(e){return null==h?void 0:h("blur",e,t)}),[h,t]);return{onPointerMove:a?p:void 0,onFocus:u?y:void 0,onBlur:f?m:void 0,onPointerOut:i?v:void 0,onPointerUp:l?g:void 0}}ti.propTypes={children:Wt().node.isRequired,horizontal:Wt().oneOfType([Wt().bool,Wt().oneOf(["auto"])])};var ii="XYCHART_EVENT_SOURCE";function ri(e){return!!e&&("clientX"in e||"changedTouches"in e)}var oi=n(593170),ai=n(507517),si=n(71131);function li(e){var t,n,i=e.scale,r=e.accessor,o=e.scaledValue,a=e.data,s=i;if("invert"in s&&"function"==typeof s.invert){var l=(0,oi.Z)(r).left,c=Number(s.invert(o)),u=l(a,c),d=a[u-1],f=a[u];n=(t=!d||Math.abs(c-r(d))>Math.abs(c-r(f))?f:d)===d?u-1:u}else{if(!("step"in s)||void 0===s.step)return console.warn("[visx/xychart/findNearestDatum] encountered incompatible scale type, bailing"),null;var h=i.domain(),p=i.range().map(Number),v=[].concat(p).sort((function(e,t){return e-t})),g=(0,ai.Z)(v[0],v[1],s.step()),y=(0,si.Nw)(g,o),m=(p[0]<p[1]?h:h.reverse())[y-1],_=a.findIndex((function(e){return String(r(e))===String(m)}));t=a[_],n=_}return null==t||null==n?null:{datum:t,index:n,distance:Math.abs(Number(s(r(t)))-o)}}function ci(e){var t=e.xScale,n=e.xAccessor,i=e.yScale,r=e.yAccessor,o=e.point,a=e.data;if(!o)return null;var s=li({scale:t,accessor:n,scaledValue:o.x,data:a});return s?{datum:s.datum,index:s.index,distanceX:s.distance,distanceY:Math.abs(Number(i(r(s.datum)))-o.y)}:null}function ui(e){var t=e.yScale,n=e.yAccessor,i=e.xScale,r=e.xAccessor,o=e.point,a=e.data;if(!o)return null;var s=li({scale:t,accessor:n,scaledValue:o.y,data:a});return s?{datum:s.datum,index:s.index,distanceY:s.distance,distanceX:Math.abs(Number(i(r(s.datum)))-o.x)}:null}function di(){return(di=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}var fi="__POINTER_EVENTS_ALL",hi="__POINTER_EVENTS_NEAREST";function pi(e){var t=e.dataKey,n=e.findNearestDatum,i=e.onBlur,r=e.onFocus,a=e.onPointerMove,s=e.onPointerOut,l=e.onPointerUp,c=e.allowedSources,u=(0,o.useContext)(Mn),d=u.width,f=u.height,h=u.horizontal,p=u.dataRegistry,v=u.xScale,g=u.yScale,y=n||(h?ui:ci),m=(0,o.useCallback)((function(e){var n,i=e||{},r=i.svgPoint,o=i.event,a={},s=null,l=1/0;return e&&o&&r&&d&&f&&v&&g?((t===hi||t===fi?null!=(n=null==p?void 0:p.keys())?n:[]:Array.isArray(t)?t:[t]).forEach((function(e){var n=null==p?void 0:p.get(e);if(n){var i=y({dataKey:e,data:n.data,height:f,point:r,width:d,xAccessor:n.xAccessor,xScale:v,yAccessor:n.yAccessor,yScale:g});if(i&&(a[e]=di({key:e,svgPoint:r,event:o},i),t===hi)){var c,u,h=Math.sqrt((null!=(c=i.distanceX)?c:Math.pow(1/0,2))+(null!=(u=i.distanceY)?u:Math.pow(1/0,2)));s=h<l?a[e]:s,l=Math.min(l,h)}}})),(t===hi?[s]:t===fi||Array.isArray(t)?Object.values(a):[a[t]]).filter((function(e){return e}))):[]}),[t,p,v,g,d,f,y]),_=(0,o.useCallback)((function(e){a&&m(e).forEach((function(e){return a(e)}))}),[m,a]),x=(0,o.useCallback)((function(e){l&&m(e).forEach((function(e){return l(e)}))}),[m,l]),b=(0,o.useCallback)((function(e){r&&m(e).forEach((function(e){return r(e)}))}),[m,r]),w=(0,o.useCallback)((function(e){var t=null==e?void 0:e.event;t&&ri(t)&&s&&s(t)}),[s]),E=(0,o.useCallback)((function(e){var t=null==e?void 0:e.event;t&&!ri(t)&&i&&i(t)}),[i]);Rn("pointermove",a?_:void 0,c),Rn("pointerout",s?w:void 0,c),Rn("pointerup",l?x:void 0,c),Rn("focus",r?b:void 0,c),Rn("blur",i?E:void 0,c)}function vi(){return(vi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}var gi={top:50,right:50,bottom:50,left:50},yi=[ii];function mi(e){var t=e.accessibilityLabel,n=void 0===t?"XYChart":t,i=e.captureEvents,r=void 0===i||i,a=e.children,s=e.height,l=e.horizontal,c=e.margin,u=void 0===c?gi:c,d=e.onPointerMove,f=e.onPointerOut,h=e.onPointerUp,p=e.pointerEventsDataKey,v=void 0===p?"nearest":p,g=e.theme,y=e.width,m=e.xScale,_=e.yScale,x=(0,o.useContext)(Mn).setDimensions,b=(0,o.useContext)(zn),w=Rn();(0,o.useEffect)((function(){x&&null!=y&&null!=s&&y>0&&s>0&&x({width:y,height:s,margin:u})}),[x,y,s,u]);var E=ni({source:ii});return pi({dataKey:"nearest"===v?hi:fi,onPointerMove:d,onPointerOut:f,onPointerUp:h,allowedSources:yi}),x?null==y||null==s?o.createElement(Tn.Z,null,(function(t){return o.createElement(mi,vi({},e,{width:null==e.width?t.width:e.width,height:null==e.height?t.height:e.height}))})):null==b?o.createElement(Un,null,o.createElement(mi,e)):null==w?o.createElement(Dn,null,o.createElement(mi,e)):y>0&&s>0?o.createElement("svg",{width:y,height:s,"aria-label":n},a,r&&o.createElement("rect",vi({x:u.left,y:u.top,width:y-u.left-u.right,height:s-u.top-u.bottom,fill:"transparent"},E))):null:m&&_?o.createElement(ti,{xScale:m,yScale:_,theme:g,initialDimensions:{width:y,height:s,margin:u},horizontal:l},o.createElement(mi,e)):(console.warn("[@visx/xychart] XYChart: When no DataProvider is available in context, you must pass xScale & yScale config to XYChart."),null)}mi.propTypes={accessibilityLabel:Wt().string,captureEvents:Wt().bool,width:Wt().number,height:Wt().number,children:Wt().node.isRequired,horizontal:Wt().oneOfType([Wt().bool,Wt().oneOf(["auto"])]),onPointerMove:Wt().func,onPointerOut:Wt().func,onPointerUp:Wt().func,pointerEventsDataKey:Wt().oneOf(["all","nearest"])};var _i=n(318255),xi=n(904962),bi=["rows","columns","GridRowsComponent","GridColumnsComponent"];function wi(){return(wi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function Ei(e){var t=e.rows,n=void 0===t||t,i=e.columns,r=void 0===i||i,a=e.GridRowsComponent,s=e.GridColumnsComponent,l=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,bi),c=(0,o.useContext)(Mn),u=c.theme,d=c.xScale,f=c.yScale,h=c.margin,p=c.innerWidth,v=c.innerHeight,g=null==u?void 0:u.gridStyles;return o.createElement(o.Fragment,null,n&&f&&null!=p&&o.createElement(a,wi({left:null==h?void 0:h.left,lineStyle:g,width:p,scale:f},l)),r&&d&&null!=v&&o.createElement(s,wi({top:null==h?void 0:h.top,lineStyle:g,height:v,scale:d},l)))}function Zi(){return(Zi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function ki(e){return o.createElement(Ei,Zi({GridRowsComponent:_i.Z,GridColumnsComponent:xi.Z},e))}Ei.propTypes={rows:Wt().bool,columns:Wt().bool};var Si=n(859117);function Ti(){return(Ti=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function Mi(e){return function(t){var n=t.dataKey,i=t.data,r=t.xAccessor,a=t.yAccessor,s=(0,o.useContext)(Mn),l=s.xScale,c=s.yScale,u=s.dataRegistry;(0,o.useEffect)((function(){return u&&u.registerData({key:n,data:i,xAccessor:r,yAccessor:a}),function(){return null==u?void 0:u.unregisterData(n)}}),[u,n,i,r,a]);var d=null==u?void 0:u.get(n);if(!l||!c||!d)return null;var f=e;return o.createElement(f,Ti({},t,{xScale:l,yScale:c,data:d.data,xAccessor:d.xAccessor,yAccessor:d.yAccessor}))}}function Ni(e,t,n){return void 0===n&&(n="center"),function(i){var r=e(t(i));return Vn(r)?r+("start"===n?0:function(e){var t;return e&&"bandwidth"in e&&null!=(t=null==e?void 0:e.bandwidth())?t:0}(e))/("center"===n?2:1):NaN}}function Oi(e){var t,n=e.dataKey,i=e.enableEvents,r=e.findNearestDatum,a=e.onBlur,s=e.onFocus,l=e.onPointerMove,c=e.onPointerOut,u=e.onPointerUp,d=e.source,f=e.allowedSources,h=null!=(t=(0,o.useContext)(zn))?t:{},p=h.showTooltip,v=h.hideTooltip,g=(0,o.useCallback)((function(e){p(e),l&&l(e)}),[p,l]),y=(0,o.useCallback)((function(e){p(e),s&&s(e)}),[p,s]),m=(0,o.useCallback)((function(e){v(),e&&c&&c(e)}),[v,c]),_=(0,o.useCallback)((function(e){v(),e&&a&&a(e)}),[v,a]);return pi({dataKey:n,findNearestDatum:r,onBlur:i?_:void 0,onFocus:i?y:void 0,onPointerMove:i?g:void 0,onPointerOut:i?m:void 0,onPointerUp:i?u:void 0,allowedSources:f}),ni({source:d,onBlur:!!a&&i,onFocus:!!s&&i,onPointerMove:!!l&&i,onPointerOut:!!c&&i,onPointerUp:!!u&&i})}function Ci(){return(Ci=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function Ai(e){var t,n,i,r=e.colorAccessor,a=e.data,s=e.dataKey,l=e.onBlur,c=e.onFocus,u=e.onPointerMove,d=e.onPointerOut,f=e.onPointerUp,h=e.enableEvents,p=void 0===h||h,v=e.renderGlyphs,g=e.size,y=void 0===g?8:g,m=e.xAccessor,_=e.xScale,x=e.yAccessor,b=e.yScale,w=(0,o.useContext)(Mn),E=w.colorScale,Z=w.theme,k=w.horizontal,S=(0,o.useCallback)(Ni(_,m),[_,m]),T=(0,o.useCallback)(Ni(b,x),[b,x]),M=null!=(t=null!=(n=null==E?void 0:E(s))?n:null==Z||null==(i=Z.colors)?void 0:i[0])?t:"#222",N="GLYPHSERIES_EVENT_SOURCE-"+s,O=Oi({dataKey:s,enableEvents:p,onBlur:l,onFocus:c,onPointerMove:u,onPointerOut:d,onPointerUp:f,source:N,allowedSources:[ii,N]}),C=(0,o.useMemo)((function(){return a.map((function(e,t){var n,i=S(e);if(!Vn(i))return null;var o=T(e);return Vn(o)?{key:""+t,x:i,y:o,color:null!=(n=null==r?void 0:r(e,t))?n:M,size:"function"==typeof y?y(e):y,datum:e}:null})).filter((function(e){return e}))}),[M,r,a,S,T,y]);return o.createElement(o.Fragment,null,v(Ci({glyphs:C,xScale:_,yScale:b,horizontal:k},O)))}Ai.propTypes={colorAccessor:Wt().func,size:Wt().oneOfType([Wt().number,Wt().func]),renderGlyphs:Wt().func.isRequired};Mi(Ai);var Li=["colorAccessor","curve","data","dataKey","onBlur","onFocus","onPointerMove","onPointerOut","onPointerUp","enableEvents","xAccessor","xScale","yAccessor","yScale","PathComponent"];function Ii(){return(Ii=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function Ri(e){var t,n,i,r=e.colorAccessor,a=e.curve,s=e.data,l=e.dataKey,c=e.onBlur,u=e.onFocus,d=e.onPointerMove,f=e.onPointerOut,h=e.onPointerUp,p=e.enableEvents,v=void 0===p||p,g=e.xAccessor,y=e.xScale,m=e.yAccessor,_=e.yScale,x=e.PathComponent,b=void 0===x?"path":x,w=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,Li),E=(0,o.useContext)(Mn),Z=E.colorScale,k=E.theme,S=(0,o.useCallback)(Ni(y,g),[y,g]),T=(0,o.useCallback)(Ni(_,m),[_,m]),M=(0,o.useCallback)((function(e){return Vn(y(g(e)))&&Vn(_(m(e)))}),[y,g,_,m]),N=null!=(t=null!=(n=null==Z?void 0:Z(l))?n:null==k||null==(i=k.colors)?void 0:i[0])?t:"#222",O="LINESERIES_EVENT_SOURCE-"+l,C=Oi({dataKey:l,enableEvents:v,onBlur:c,onFocus:u,onPointerMove:d,onPointerOut:f,onPointerUp:h,source:O,allowedSources:[ii,O]}),A=Boolean(u||c),L=(0,o.useCallback)((function(e){var t=e.glyphs;return A?t.map((function(e){return o.createElement(o.Fragment,{key:e.key},function(e){var t=e.key,n=e.color,i=e.x,r=e.y,a=e.size,s=e.onBlur,l=e.onFocus,c=e.onPointerMove,u=e.onPointerOut,d=e.onPointerUp;return o.createElement("circle",{className:"visx-circle-glyph",key:t,tabIndex:s||l?0:void 0,fill:n,r:a/2,cx:i,cy:r,onBlur:s,onFocus:l,onPointerMove:c,onPointerOut:u,onPointerUp:d})}(Ii({},e,{color:"transparent",onFocus:C.onFocus,onBlur:C.onBlur})))})):null}),[A,C.onFocus,C.onBlur]);return o.createElement(o.Fragment,null,o.createElement(Si.Z,Ii({x:S,y:T,defined:M,curve:a},w),(function(e){var t,n=e.path;return o.createElement(b,Ii({stroke:null!=(t=null==r?void 0:r(l))?t:N,strokeWidth:2,fill:"transparent",strokeLinecap:"round"},w,{d:n(s)||""},C))})),A&&o.createElement(Ai,{dataKey:l,data:s,xAccessor:g,yAccessor:m,xScale:y,yScale:_,renderGlyphs:L}))}Ri.propTypes={colorAccessor:Wt().func};const Pi=Mi(Ri);function Di(e){return o.createElement(Pi,e)}var zi=n(965128),ji=n.n(zi),Fi=n(57502),Vi=n(956797),Bi=n(626032),Ui=["from","to","fill","className","innerRef"];function Wi(){return(Wi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function $i(e){var t=e.from,n=void 0===t?{x:0,y:0}:t,i=e.to,r=void 0===i?{x:1,y:1}:i,a=e.fill,s=void 0===a?"transparent":a,l=e.className,c=e.innerRef,u=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,Ui),d=n.x===r.x||n.y===r.y;return o.createElement("line",Wi({ref:c,className:ji()("visx-line",l),x1:n.x,y1:n.y,x2:r.x,y2:r.y,fill:s,shapeRendering:d?"crispEdges":"auto"},u))}var qi=n(72234),Hi=n.n(qi),Yi=n(999217),Ki="__react_svg_text_measurement_id";const Xi=n.n(Yi)()((function(e,t){try{var n=document.getElementById(Ki);if(!n){var i=document.createElementNS("http://www.w3.org/2000/svg","svg");i.style.width="0",i.style.height="0",i.style.position="absolute",i.style.top="-100%",i.style.left="-100%",(n=document.createElementNS("http://www.w3.org/2000/svg","text")).setAttribute("id",Ki),i.appendChild(n),document.body.appendChild(i)}return Object.assign(n.style,t),n.textContent=e,n.getComputedTextLength()}catch(r){return null}}),(function(e,t){return e+"_"+JSON.stringify(t)}));var Gi=["verticalAnchor","scaleToFit","angle","width","lineHeight","capHeight","children","style"];function Qi(e){return"number"==typeof e}function Ji(e){return"number"==typeof e&&Number.isFinite(e)||"string"==typeof e}function er(e){var t=e.verticalAnchor,n=void 0===t?"end":t,i=e.scaleToFit,r=void 0!==i&&i,a=e.angle,s=e.width,l=e.lineHeight,c=void 0===l?"1em":l,u=e.capHeight,d=void 0===u?"0.71em":u,f=e.children,h=e.style,p=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,Gi),v=p.x,g=void 0===v?0:v,y=p.y,m=void 0===y?0:y,_=!Ji(g)||!Ji(m),x=(0,o.useMemo)((function(){return{wordsWithWidth:(null==f?[]:f.toString().split(/(?:(?!\u00A0+)\s+)/)).map((function(e){return{word:e,wordWidth:Xi(e,h)||0}})),spaceWidth:Xi("",h)||0}}),[f,h]),b=x.wordsWithWidth,w=x.spaceWidth,E=(0,o.useMemo)((function(){return _?[]:s||r?b.reduce((function(e,t){var n=t.word,i=t.wordWidth,o=e[e.length-1];if(o&&(null==s||r||(o.width||0)+i+w<s))o.words.push(n),o.width=o.width||0,o.width+=i+w;else{var a={words:[n],width:i};e.push(a)}return e}),[]):[{words:null==f?[]:f.toString().split(/(?:(?!\u00A0+)\s+)/)}]}),[_,s,r,f,b,w]),Z=(0,o.useMemo)((function(){return _?"":"start"===n?Hi()("calc("+d+")"):"middle"===n?Hi()("calc("+(E.length-1)/2+" * -"+c+" + ("+d+" / 2))"):Hi()("calc("+(E.length-1)+" * -"+c+")")}),[_,n,d,E.length,c]),k=(0,o.useMemo)((function(){var e=[];if(_)return"";if(Qi(g)&&Qi(m)&&Qi(s)&&r&&E.length>0){var t=E[0].width||1,n="shrink-only"===r?Math.min(s/t,1):s/t,i=n,o=g-n*g,l=m-i*m;e.push("matrix("+n+", 0, 0, "+i+", "+o+", "+l+")")}return a&&e.push("rotate("+a+", "+g+", "+m+")"),e.length>0?e.join(" "):""}),[_,g,m,s,r,E,a]);return{wordsByLines:E,startDy:Z,transform:k}}var tr=["dx","dy","textAnchor","innerRef","innerTextRef","verticalAnchor","angle","lineHeight","scaleToFit","capHeight","width"];function nr(){return(nr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}var ir={overflow:"visible"};function rr(e){var t=e.dx,n=void 0===t?0:t,i=e.dy,r=void 0===i?0:i,a=e.textAnchor,s=void 0===a?"start":a,l=e.innerRef,c=e.innerTextRef,u=(e.verticalAnchor,e.angle,e.lineHeight),d=void 0===u?"1em":u,f=(e.scaleToFit,e.capHeight,e.width,function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,tr)),h=f.x,p=void 0===h?0:h,v=f.fontSize,g=er(e),y=g.wordsByLines,m=g.startDy,_=g.transform;return o.createElement("svg",{ref:l,x:n,y:r,fontSize:v,style:ir},y.length>0?o.createElement("text",nr({ref:c,transform:_},f,{textAnchor:s}),y.map((function(e,t){return o.createElement("tspan",{key:t,x:p,dy:0===t?m:d},e.words.join(" "))}))):null)}const or={top:"top",left:"left",right:"right",bottom:"bottom"};function ar(){return(ar=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function sr(e){var t=e.hideTicks,n=e.horizontal,i=e.orientation,r=e.tickClassName,a=e.tickComponent,s=e.tickLabelProps,l=e.tickStroke,c=void 0===l?"#222":l,u=e.tickTransform,d=e.ticks,f=e.strokeWidth,h=e.tickLineProps;return d.map((function(e){var l,d=e.value,p=e.index,v=e.from,g=e.to,y=e.formattedValue,m=null!=(l=s[p])?l:{},_=Math.max(10,"number"==typeof m.fontSize&&m.fontSize||0),x=g.y+(n&&i!==or.top?_:0);return o.createElement(Fi.Z,{key:"visx-tick-"+d+"-"+p,className:ji()("visx-axis-tick",r),transform:u},!t&&o.createElement($i,ar({from:v,to:g,stroke:c,strokeWidth:f,strokeLinecap:"square"},h)),a?a(ar({},m,{x:g.x,y:x,formattedValue:y})):o.createElement(rr,ar({x:g.x,y:x},m),y))}))}function lr(){return(lr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}var cr={textAnchor:"middle",fontFamily:"Arial",fontSize:10,fill:"#222"};function ur(e){var t=e.axisFromPoint,n=e.axisLineClassName,i=e.axisToPoint,r=e.hideAxisLine,a=e.hideTicks,s=e.horizontal,l=e.label,c=void 0===l?"":l,u=e.labelClassName,d=e.labelOffset,f=void 0===d?14:d,h=e.labelProps,p=void 0===h?cr:h,v=e.orientation,g=void 0===v?or.bottom:v,y=e.scale,m=e.stroke,_=void 0===m?"#222":m,x=e.strokeDasharray,b=e.strokeWidth,w=void 0===b?1:b,E=e.tickClassName,Z=e.tickComponent,k=e.tickLineProps,S=e.tickLabelProps,T=void 0===S?function(){return cr}:S,M=e.tickLength,N=void 0===M?8:M,O=e.tickStroke,C=void 0===O?"#222":O,A=e.tickTransform,L=e.ticks,I=e.ticksComponent,R=void 0===I?sr:I,P=L.map((function(e){var t=e.value,n=e.index;return T(t,n,L)})),D=Math.max.apply(Math,[10].concat(P.map((function(e){return"number"==typeof e.fontSize?e.fontSize:0}))));return o.createElement(o.Fragment,null,R({hideTicks:a,horizontal:s,orientation:g,scale:y,tickClassName:E,tickComponent:Z,tickLabelProps:P,tickStroke:C,tickTransform:A,ticks:L,strokeWidth:w,tickLineProps:k}),!r&&o.createElement($i,{className:ji()("visx-axis-line",n),from:t,to:i,stroke:_,strokeWidth:w,strokeDasharray:x}),c&&o.createElement(rr,lr({className:ji()("visx-axis-label",u)},function(e){var t,n,i,r=e.labelOffset,o=e.labelProps,a=e.orientation,s=e.range,l=e.tickLabelFontSize,c=e.tickLength,u=a===or.left||a===or.top?-1:1;if(a===or.top||a===or.bottom){var d=a===or.bottom&&"number"==typeof o.fontSize?o.fontSize:0;t=(Number(s[0])+Number(s[s.length-1]))/2,n=u*(c+r+l+d)}else t=u*((Number(s[0])+Number(s[s.length-1]))/2),n=-(c+r),i="rotate("+90*u+")";return{x:t,y:n,transform:i}}({labelOffset:f,labelProps:p,orientation:g,range:y.range(),tickLabelFontSize:D,tickLength:N}),p),c))}var dr=n(580799);function fr(e,t){var n=e.x,i=e.y;return new Nn.Z(t?{x:n,y:i}:{x:i,y:n})}var hr=["children","axisClassName","hideAxisLine","hideTicks","hideZero","left","numTicks","orientation","rangePadding","scale","tickFormat","tickLength","tickValues","top"];function pr(){return(pr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function vr(e){var t=e.children,n=void 0===t?ur:t,i=e.axisClassName,r=e.hideAxisLine,a=void 0!==r&&r,s=e.hideTicks,l=void 0!==s&&s,c=e.hideZero,u=void 0!==c&&c,d=e.left,f=void 0===d?0:d,h=e.numTicks,p=void 0===h?10:h,v=e.orientation,g=void 0===v?or.bottom:v,y=e.rangePadding,m=void 0===y?0:y,_=e.scale,x=e.tickFormat,b=e.tickLength,w=void 0===b?8:b,E=e.tickValues,Z=e.top,k=void 0===Z?0:Z,S=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,hr),T=null!=x?x:function(e){return"tickFormat"in e?e.tickFormat():dr.Z}(_),M=g===or.left,N=g===or.top,O=N||g===or.bottom,C=function(e,t){void 0===t&&(t="center");var n=e;if("start"!==t&&"bandwidth"in n){var i=n.bandwidth();return"center"===t&&(i/=2),n.round()&&(i=Math.round(i)),function(e){var t=n(e);return"number"==typeof t?t+i:t}}return e}(_),A=M||N?-1:1,L=_.range(),I=fr({x:Number(L[0])+.5-m,y:0},O),R=fr({x:Number(L[L.length-1])+.5+m,y:0},O),P=(null!=E?E:(0,Vi.Z)(_,p)).filter((function(e){return!u||0!==e&&"0"!==e})).map((function(e,t){return{value:e,index:t}})),D=P.map((function(e){var t=e.value,n=e.index,i=(0,Bi.Z)(C(t));return{value:t,index:n,from:fr({x:i,y:0},O),to:fr({x:i,y:w*A},O),formattedValue:T(t,n,P)}}));return o.createElement(Fi.Z,{className:ji()("visx-axis",i),top:k,left:f},n(pr({},S,{axisFromPoint:I,axisToPoint:R,hideAxisLine:a,hideTicks:l,hideZero:u,horizontal:O,numTicks:p,orientation:g,rangePadding:m,scale:_,tickFormat:T,tickLength:w,tickPosition:C,tickSign:A,ticks:D})))}var gr=["AxisComponent"];function yr(){return(yr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function mr(e){var t,n,i,r,a,s,l,c=e.AxisComponent,u=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,gr),d=(0,o.useContext)(Mn),f=d.theme,h=d.xScale,p=d.yScale,v=d.margin,g=d.width,y=d.height,m=u.orientation,_=(0,o.useMemo)((function(){var e,t,n,i;return"left"===m||"right"===m?null==f||null==(e=f.axisStyles)||null==(t=e.y)?void 0:t[m]:null==f||null==(n=f.axisStyles)||null==(i=n.x)?void 0:i[m]}),[f,m]),x=(0,o.useMemo)((function(){return u.tickLabelProps||_?function(e,t,n){return yr({},null==_?void 0:_.tickLabel,{width:"left"===m||"right"===m?null==v?void 0:v[m]:void 0},null==u.tickLabelProps?void 0:u.tickLabelProps(e,t,n))}:void 0}),[u.tickLabelProps,_,m,v]),b="bottom"===m?(null!=y?y:0)-(null!=(t=null==v?void 0:v.bottom)?t:0):"top"===m&&null!=(n=null==v?void 0:v.top)?n:0,w="left"===m?null!=(i=null==v?void 0:v.left)?i:0:"right"===m?(null!=g?g:0)-(null!=(r=null==v?void 0:v.right)?r:0):0,E="left"===m||"right"===m?p:h;return E?o.createElement(c,yr({top:b,left:w,labelProps:null==_?void 0:_.axisLabel,stroke:null==_||null==(a=_.axisLine)?void 0:a.stroke,strokeWidth:null==_||null==(s=_.axisLine)?void 0:s.strokeWidth,tickLength:null==_?void 0:_.tickLength,tickStroke:null==_||null==(l=_.tickLine)?void 0:l.stroke},u,{tickLabelProps:x,scale:E})):null}function _r(){return(_r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function xr(e){return o.createElement(mr,_r({AxisComponent:vr},e))}var br=n(852665);const wr=o.createElement(h.Z,{id:"confuence-analytics-chart.accessible-table.no-view-count-data",defaultMessage:"No views",description:"Text to display in the analytics chart accessible table for when there is no view count for the date in this row."}),Er=({data:e})=>o.createElement(br.Z,null,o.createElement("table",{role:"table"},o.createElement("caption",null,o.createElement(h.Z,{id:"confuence-analytics-chart.accessible-table.caption",defaultMessage:"Page views",description:"Caption for the analytics chart accessible table."})),o.createElement("thead",null,o.createElement("tr",null,o.createElement("th",null,o.createElement(h.Z,{id:"confuence-analytics-chart.accessible-table.header.date",defaultMessage:"Date",description:"Table heading for the date column on the analytics chart for page views."})),o.createElement("th",null,o.createElement(h.Z,{id:"confuence-analytics-chart.accessible-table.header.view-count",defaultMessage:"Views",description:"Table heading for the view count column on the analytics chart for page views."})))),o.createElement("tbody",null,e.map((e=>o.createElement("tr",{key:e.x},o.createElement("td",null,e.x),o.createElement("td",null,e.y?e.tooltip.text:wr)))))));var Zr=n(99898),kr=n.n(Zr);function Sr(e){var t=e.top,n=void 0===t?0:t,i=e.left,r=void 0===i?0:i,a=e.className,s=e.children;return o.createElement(Fi.Z,{className:kr()("visx-glyph",a),top:n,left:r},s)}Sr.propTypes={top:Wt().number,left:Wt().number,className:Wt().string,children:Wt().node};const Tr=(0,g.iv)({flexDirection:"row",padding:"0px 4px",height:"20px",boxShadow:"var(--ds-shadow-overflow, 0px 3px 5px rgba(9, 30, 66, 0.2), 0px 0px 1px rgba(9, 30, 66, 0.31))",borderRadius:"3px",fontFamily:(0,c.I8)(),fontSize:"14px",fontWeight:400,lineHeight:"20px",letterSpacing:"0px",textAlign:"center",color:`var(--ds-text, ${y.D2})`}),Mr=e=>{const{backgroundColor:t}=e,n=(0,r.Z)(e,["backgroundColor"]);return(0,g.tZ)("div",(0,u.Z)({},n,{css:[Tr],style:{background:null!=t?t:"transparent"}}))},Nr=(0,g.iv)({display:"flex",borderTop:`1.5px solid var(--ds-border, ${y.YI})`,backgroundColor:`var(--ds-border, ${y.YI})`}),Or=e=>{const{isFirstLine:t,width:n}=e,i=(0,r.Z)(e,["isFirstLine","width"]);return(0,g.tZ)("div",(0,u.Z)({},i,{css:[Nr],style:{width:`${null!=n?n:360}px `,marginTop:t?0:32}}))},Cr=(0,g.iv)({fontSize:"14px",lineHeight:"20px",display:"flex",justifyContent:"center",textAlign:"center",color:`var(--ds-opacity-loading, ${y.iw})`,fontWeight:500,margin:"12px 0px"}),Ar=e=>(0,g.tZ)("span",(0,u.Z)({},e,{css:[Cr]})),Lr=({color:e,size:t=24})=>(0,g.tZ)(Sr,{left:-t/2,top:-t/2},(0,g.tZ)("svg",{width:t,height:t,viewBox:`0 0 ${t} ${t}`,fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,g.tZ)("circle",{cx:t/2,cy:t/2,r:"4",fill:"var(--ds-surface-overlay-hovered, white)"}),(0,g.tZ)("circle",{cx:t/2,cy:t/2,r:"8",stroke:e,strokeOpacity:"0.2",strokeWidth:"8"}),(0,g.tZ)("circle",{cx:t/2,cy:t/2,r:"4.625",fill:"var(--ds-surface-overlay-hovered, white)",stroke:e,strokeWidth:"2"}))),Ir=(0,g.iv)({display:"flex",flexDirection:"column"}),Rr=e=>(0,g.tZ)("div",(0,u.Z)({},e,{css:[Ir]})),Pr=(0,g.iv)({position:"relative",marginBottom:"12px"}),Dr=e=>{const{width:t,height:n,zIndex:i}=e,o=(0,r.Z)(e,["width","height","zIndex"]);return(0,g.tZ)("div",(0,u.Z)({},o,{css:[Pr],style:{width:t,height:n,zIndex:i}}))},zr=(0,g.iv)({fontSize:"14px",fontWeight:500,lineHeight:"20px",textAlign:"left",color:`var(--ds-text-subtle, ${y.iw})`}),jr=e=>(0,g.tZ)("div",(0,u.Z)({},e,{css:[zr]})),Fr=(0,g.iv)({position:"relative",display:"flex",flexDirection:"row",justifyContent:"space-between"}),Vr=e=>{const{width:t}=e,n=(0,r.Z)(e,["width"]);return(0,g.tZ)("div",(0,u.Z)({},n,{css:[Fr],style:{width:`${t}px`}}))},Br=ln((e=>{let t,{children:n,getRects:a,left:s=0,parentRect:l,rect:c,style:d=en,top:f=0,unstyled:h=!1}=e,p=(0,r.Z)(e,["children","getRects","left","parentRect","rect","style","top","unstyled"]);if(c&&l){let e=s,n=f,i=!1,r=!1;const o=.75,a=.5,u=c.width*o;if(l.width){const t=e+u-l.width,n=u-e;i=t>0&&t>n}else{const t=e+u-window.innerWidth,n=u-e;i=t>0&&t>n}if(l.height){const e=n+c.height-l.height,t=c.height-n;r=e>0&&e>t}else r=n+c.height>window.innerHeight;const d=e-c.width*a;e=i?e-c.width:d>0?d:e,n=r?n-c.height:n,e=Math.round(e),n=Math.round(n),t=`translate(${e}px, ${n}px)`}return o.createElement(tn,(0,u.Z)({style:(0,i.Z)({left:0,top:0,transform:t},!h&&d)},p),n)})),Ur=(0,d.defineMessages)({viewsOverall:{id:"confluence-analytics-chart.tooltip.views-overall",defaultMessage:"{count, plural, one {1 view} other {{count} views}}"},viewsTodaySoFar:{id:"confluence-analytics-chart.tooltip.views-today-so-far",defaultMessage:"{count, plural, one {1 view so far} other {{count} views so far}}"},noViewsData:{id:"confluence-analytics-chart.tooltip.no-views-data",defaultMessage:"No data"},defaultLoadingText:{id:"confluence-analytics-chart.default-loading-text",defaultMessage:"Refreshing analytics data..."}}),Wr=(e,t,n,r)=>{const o=(n-2*r)/(t.length-1),a=parseInt((e/o).toFixed(0)),s=a>=t.length?t.length-1:a;return(0,i.Z)((0,i.Z)({},t[s]),{},{xPos:s*o+r})},$r=({data:e,loadingState:t,height:n,width:r,testId:a,subLabelTag:s,styledDetails:l,dateRangeLabel:c,zIndex:d="auto",isPercent:p,customTooltipOverallMessage:v,customTooltipSoFarMessage:g})=>{var m,_,x,b,w;const{showYAxis:E,lineColor:Z,accessoryColor:k}=l,{isLoading:S,loadingText:T}=t,M=null!=r?r:500,N=null!=n?n:200,O=(0,o.useMemo)((()=>e.reduce(((e,t)=>{var n;return Math.max(null!==(n=t.value)&&void 0!==n?n:0,e)}),0)),[e]),[C,A]=(0,o.useState)(0);(0,o.useEffect)((()=>{const e=()=>{const e=window.scrollX;A(e)},t=()=>{Fn()(e,250)};return e(),window.addEventListener("resize",t),()=>{window.removeEventListener("resize",t)}}),[]);const L=(0,o.useMemo)((()=>e.every((t=>t.value===e[0].value))),[e]),{hideTooltip:I,tooltipData:R,tooltipOpen:P,showTooltip:D,tooltipTop:z,tooltipLeft:j}=Vt(),{containerRef:F,containerBounds:V}=function(e){var t=void 0===e?{}:e,n=t.detectBounds,i=void 0===n||n,r=t.zIndex,a=vn(t,fn),s=(0,Bt.Z)(a),l=s[0],c=s[1],u=s[2],d=(0,o.useMemo)((function(){return function(e){var t=e.left,n=void 0===t?0:t,a=e.top,s=void 0===a?0:a,l=e.detectBounds,u=e.zIndex,d=vn(e,hn),f=null==u?r:u,h=(null==l?i:l)?dn:tn,p=n+(c.left||0)+window.scrollX,v=s+(c.top||0)+window.scrollY;return o.createElement(Kt,{zIndex:f},o.createElement(h,pn({left:p,top:v},d)))}}),[i,r,c.left,c.top]);return{containerRef:l,containerBounds:c,forceRefreshBounds:u,TooltipInPortal:d}}({detectBounds:!0}),B=(0,o.useCallback)(((e,t,n,i,r)=>({x:n,y:L&&0!==t?e/2:e-r-i/(0===t?1:t)*(e-2*r)})),[L]),U=(0,o.useMemo)((()=>Sn({backgroundColor:k,colors:[Z],gridColor:`var(--ds-background-accent-gray-subtlest, ${y.IR})`,gridColorDark:"transparent",tickLength:8,gridStyles:{padding:0}})),[k,Z]),W=(0,o.useCallback)(((t,n)=>{const i=n===e.length-1,r=null===t.value,a=t.value?t.value:0,s=g?g(a):o.createElement(h.Z,(0,u.Z)({},Ur.viewsTodaySoFar,{values:{count:a}})),l=v?v(a):o.createElement(h.Z,(0,u.Z)({},Ur.viewsOverall,{values:{count:a}})),c=r?o.createElement(h.Z,(0,u.Z)({},Ur.noViewsData,{values:{count:a}})):i?s:l,d=p?`${a}%`:c;return{x:t.date,y:a,tooltip:{text:d,backgroundColor:null===t.value?`var(--ds-background-accent-gray-subtlest, ${y.IR})`:k}}}),[k,v,g,e.length,p]),$=(0,o.useMemo)((()=>e.map(W)),[e,W]),q=null!==(m=$[0])&&void 0!==m?m:1,H=[(0,i.Z)((0,i.Z)({},q),{y:q.y?0===q.y?1:2*q.y:1})],{formatMessage:Y}=(0,f.Z)(),K=(0,o.useCallback)((e=>{var t;const n=e.pageX-C-V.left,i=e.pageY-V.top,r=Wr(n,$,M,2);D({tooltipLeft:n,tooltipTop:i,tooltipData:{svgPoint:B(N,O,r.xPos,null!==(t=r.y)&&void 0!==t?t:0,2),datum:r,key:`${Math.random()}`}})}),[N,M,V.left,V.top,B,O,D,$,C]),X=(0,o.useCallback)((e=>{if("event"in e){const t=e.event.currentTarget.getBoundingClientRect(),n=e.event.currentTarget.parentElement.getBoundingClientRect(),i=t.x-n.x+t.width/2,r=t.y-n.y+t.height/2;D({tooltipLeft:i,tooltipTop:r,tooltipData:{svgPoint:{x:i,y:r},datum:Wr(i,$,M,2),key:`${Math.random()}`}})}}),[D,M,$]),G=(0,o.useCallback)((()=>{I()}),[I]);if(S){const e=3,t=null!=T?T:Y(Ur.defaultLoadingText);return o.createElement("div",{"data-testid":a},[...Array(e)].map(((e,t)=>o.createElement(Or,{isFirstLine:0===t,width:M,key:t}))),o.createElement(Ar,null,t))}if(!$)throw new Error("Data for analytics chart failed to be provided.");const Q={xAccessor:e=>e.x,yAccessor:e=>e.y};return o.createElement(o.Fragment,null,o.createElement(Er,{data:$}),o.createElement(Rr,{"aria-hidden":!0},o.createElement(Dr,{width:M,height:N,zIndex:d,"data-testid":a},o.createElement("div",{ref:F,onPointerMove:K,onPointerOut:G},o.createElement(mi,{theme:U,height:N,width:M,xScale:{type:"band",paddingInner:1,round:!0},yScale:{type:"linear"},margin:{top:2,left:2,bottom:2,right:2}},o.createElement(ki,{columns:!1,numTicks:4,strokeWidth:2,lineStyle:{color:`var(--ds-background-accent-gray-subtlest, ${y.IR})`}}),o.createElement(Di,(0,u.Z)({dataKey:"LineSeries",data:$},Q,{curve:zt.Z,strokeWidth:2,onFocus:X,onBlur:G})),L&&o.createElement(Di,(0,u.Z)({dataKey:"MaxPoint",data:H},Q,{colorAccessor:()=>"transparent"})),E&&o.createElement(xr,{orientation:"left",hideTicks:!0,hideAxisLine:!0,numTicks:3,tickLabelProps:()=>({fill:`var(--ds-background-accent-gray-subtler, ${y.hH})`,fontSize:12,fontWeight:400,textAnchor:"end"})}))),P&&o.createElement(o.Fragment,null,o.createElement(tn,{className:"visx-crosshair visx-crosshair-vertical",left:null==R||null===(_=R.svgPoint)||void 0===_?void 0:_.x,top:0,offsetLeft:0,offsetTop:0,style:{position:"absolute",pointerEvents:"none",fontSize:0,lineHeight:0,color:`var(--ds-text-subtlest, ${y.gt})`,width:"2px",zIndex:d}},o.createElement("svg",{width:"1",height:N,overflow:"visible"},o.createElement("line",{x1:0,x2:0,y1:0,y2:N,strokeWidth:1.5,stroke:`var(--ds-border, ${y.gt})`}))),o.createElement(tn,{className:"visx-tooltip-glyph",left:null==R||null===(x=R.svgPoint)||void 0===x?void 0:x.x,top:null==R||null===(b=R.svgPoint)||void 0===b?void 0:b.y,offsetLeft:0,offsetTop:0,style:{position:"absolute",pointerEvents:"none",fontSize:0,lineHeight:0,zIndex:d}},o.createElement("svg",{overflow:"visible",style:{width:"24px",height:"24px"}},o.createElement(Lr,{color:Z,size:24}))),o.createElement(dn,{key:Math.random(),top:z,left:j,style:(0,i.Z)((0,i.Z)({},en),{},{boxShadow:"none",backgroundColor:"transparent",zIndex:d})},o.createElement(Mr,{backgroundColor:null==R?void 0:R.datum.tooltip.backgroundColor,"data-testid":"analytics-chart-tooltip"},null==R?void 0:R.datum.tooltip.text)))),o.createElement(Vr,{width:M},P&&o.createElement(Br,{key:Math.random(),left:null==R||null===(w=R.svgPoint)||void 0===w?void 0:w.x,offsetLeft:0,offsetTop:0,style:{color:`var(--ds-text-subtle, ${y.iw})`,fontWeight:500,fontSize:"14px",boxShadow:"none",pointerEvents:"none"}},R.datum.x),!P&&o.createElement(o.Fragment,null,o.createElement(jr,null,c),null!=s?s:null))))};var qr=n(57047);const Hr=(0,g.iv)({display:"inline-flex",alignSelf:"center"}),Yr=(0,g.iv)({"&:hover":{textDecoration:"none"},"&:visited":{textDecoration:"none"}}),Kr=e=>{const{children:t,href:n}=e,i=(0,r.Z)(e,["children","href"]);return(0,g.tZ)("a",(0,u.Z)({href:n,css:[Hr,Yr]},i),t)},Xr=(0,g.iv)({display:"inline-flex",alignItems:"center",paddingLeft:"6px",paddingRight:"4px",borderRadius:"3px",backgroundColor:`var(--ds-background-accent-yellow-subtle, ${y.ii})`,color:`var(--ds-text-accent-yellow, ${y.eR})`,"&:hover":{backgroundColor:`var(--ds-background-accent-yellow-subtle, ${y.cS})`,color:`var(--ds-text-accent-yellow, ${y.Rw})`}}),Gr=(0,g.iv)({margin:"0px",paddingLeft:"2px"}),Qr=e=>{const{text:t}=e,n=(0,r.Z)(e,["text"]);return(0,g.tZ)("span",(0,u.Z)({css:[Xr]},n),(0,g.tZ)(qr.default,{size:"small",label:""}),(0,g.tZ)("p",{css:[Gr]},t))},Jr=(0,d.defineMessages)({label:{id:"confluence-popular-tag.label",defaultMessage:"Popular"}}),eo=({testId:e,href:t})=>{const{formatMessage:n}=(0,f.Z)();return o.createElement(Kr,{href:t,target:"_blank",rel:"noopener noreferrer","data-testid":e},o.createElement(Qr,{text:n(Jr.label)}))},to=({testId:e,href:t})=>o.createElement(eo,{testId:e,href:t});var no=n(426266),io=n(171945);const ro=(0,g.iv)({display:"flex",flexDirection:"column",alignItems:"center"}),oo=e=>(0,g.tZ)("div",(0,u.Z)({},e,{css:[ro]})),ao=(0,g.iv)(io.aR()),so=(0,g.iv)(ao,{fontWeight:400,display:"flex",alignItems:"center",margin:0,height:"40px",color:`var(--ds-text, ${y.q2})`}),lo=e=>(0,g.tZ)("label",(0,u.Z)({},e,{css:[so]})),co=(0,g.iv)({display:"flex",alignItems:"center",fontFamily:(0,c.I8)(),fontSize:`${(0,c._V)()}px`,color:`var(--ds-text, ${y.Mx})`,lineHeight:"14px"}),uo=e=>(0,g.tZ)("label",(0,u.Z)({},e,{css:[co]})),fo=(0,g.iv)({display:"flex",backgroundColor:`var(--ds-skeleton, ${y.YI})`,width:"40px",borderRadius:"3px",alignItems:"center"}),ho=e=>{const{height:t,marginTop:n}=e,i=(0,r.Z)(e,["height","marginTop"]);return(0,g.tZ)("div",(0,u.Z)({},i,{css:[fo],style:{height:`${t}px`,marginTop:`${n}px`}}))},po=o.createElement(oo,null,o.createElement(ho,{height:28,marginTop:4}),o.createElement(ho,{height:14,marginTop:8})),vo=({value:e,metric:t,isLoading:n,testId:i})=>{const r=(0,f.Z)(),a="number"==typeof e?((e,t)=>{try{return Intl.NumberFormat(e,{notation:"compact",compactDisplay:"short"}).format(t).toLocaleLowerCase()}catch(n){return`${t}`}})(r.locale,e):e,s=i&&n?`${i}-skeleton`:i,l=n?po:o.createElement(oo,null,o.createElement(lo,null,a),o.createElement(uo,null,t));return o.createElement("div",{"data-testid":s},l)};n(520219),n(895316),n(8765),n(354326);const go=(0,o.forwardRef)(((e,t)=>{let{as:n="div",style:a}=e,s=(0,r.Z)(e,["as","style"]);return o.createElement(n,(0,i.Z)((0,i.Z)({},s),{},{style:a,ref:t,className:(0,ct.Z)(["_1e0c1txw _19pk1crf _otyr7vkz",s.className])}))}));const yo=(0,o.forwardRef)(((e,t)=>{let{as:n="div",style:a}=e,s=(0,r.Z)(e,["as","style"]);return o.createElement(n,(0,i.Z)((0,i.Z)({},s),{},{style:a,ref:t,className:(0,ct.Z)(["_1bsbmgvx",s.className])}))}));const mo=({isLoading:e,viewsCount:t,uniqueViewsCount:n})=>o.createElement(go,null,o.createElement(yo,null,o.createElement(vo,{value:t,metric:o.createElement(h.Z,{id:"confluence-analytics.metrics.views-all-time",defaultMessage:"views (all-time)"}),isLoading:e,testId:ue.INFO_PANEL_1})),o.createElement(yo,null,o.createElement(vo,{value:n,metric:o.createElement(h.Z,{id:"confluence-analytics.metrics.unique-viewers-all-time",defaultMessage:"unique viewers (all-time)"}),isLoading:e,testId:ue.INFO_PANEL_2})));mo.displayName="AnalyticsDialogInfoPanel",n(525286),n(167767),n(999258),n(405848),n(456928),n(362604),n(31155),n(115152),n(523254),n(991532),n(868964),n(370306),n(698297),n(593940),n(410258),n(416473),n(357290),n(354326),n(939300),n(297368);const _o=(0,o.forwardRef)(((e,t)=>{let{as:n="ul",style:a}=e,s=(0,r.Z)(e,["as","style"]);return o.createElement(n,(0,i.Z)((0,i.Z)({},s),{},{style:a,ref:t,className:(0,ct.Z)(["_2mzuglyw _1x8w1vji _1e0c1txw _2lx21bp4 _19pkidpf _2hwxidpf _otyridpf _18u0idpf _ca0qidpf _u5f3idpf _n3tdidpf _19bvidpf",s.className])}))}));const xo=(0,o.forwardRef)(((e,t)=>{let{as:n="li",style:a}=e,s=(0,r.Z)(e,["as","style"]);return o.createElement(n,(0,i.Z)((0,i.Z)({},s),{},{style:a,ref:t,className:(0,ct.Z)(["_19pkidpf _2hwxidpf _otyridpf _18u0idpf _ca0qidpf _u5f3idpf _n3tdidpf _19bvidpf",s.className])}))}));const bo=(0,o.forwardRef)(((e,t)=>{let{as:n="div",style:a}=e,s=(0,r.Z)(e,["as","style"]);return o.createElement(n,(0,i.Z)((0,i.Z)({},s),{},{style:a,ref:t,className:(0,ct.Z)(["_18u0yjp0 _1e0c1txw _2lx2vrvc _1bah1yb4 _4cvr1h6o _80om73ad",s.className])}))}));const wo=(0,o.forwardRef)(((e,t)=>{let{as:n="span",style:a}=e,s=(0,r.Z)(e,["as","style"]);return o.createElement(n,(0,i.Z)((0,i.Z)({},s),{},{style:(0,i.Z)((0,i.Z)({},a),{},{"--_1b5y5cj":(0,lt.Z)((0,ut.Z)("color.text.subtle",y.iw))}),ref:t,className:(0,ct.Z)(["_1wyb1skh _syaz1fw9 _1o9zidpf",s.className])}))}));var Eo=n(41595),Zo=n(103206),ko=n(636612),So=n(580241);const To="24px",Mo="14px",No=(0,d.defineMessages)({anonymous:{id:"confluence-analytics.dialog.user-list.anonymous-user-name",defaultMessage:"Anonymous"},deactivated:{id:"confluence-analytics.dialog.user-list.deactivated-user-label",defaultMessage:"Deactivated"},guest:{id:"confluence-analytics.dialog.user-list.guest-user-label",defaultMessage:"Guest"}}),Oo=({isLoading:e,account:t})=>{var n;const r=(0,f.Z)(),a=(0,o.useMemo)((()=>e?null:t.accountType===tt.ANONYMOUS?r.formatMessage(No.anonymous):t.isDeactivated?`${t.name} (${r.formatMessage(No.deactivated)})`:t.name),[null==t?void 0:t.accountType,null==t?void 0:t.isDeactivated,null==t?void 0:t.name,r,e]),s=(0,o.useMemo)((()=>e?null:null!=t&&t.lastViewedAt?Ce(new Date(t.lastViewedAt),r):null),[null==t?void 0:t.lastViewedAt,r,e]),l=(0,o.useMemo)((()=>{const e=[a,s].filter(Boolean);if(0!==e.length)return e.join(", ")}),[a,s]);return o.createElement(xo,{"aria-label":l},o.createElement(bo,null,o.createElement(Eo.Z,{avatar:e?o.createElement(Rt,{width:To,height:To,margin:"2px",borderRadius:"50%"}):o.createElement(ko.S,{userId:t.id,src:null!==(n=t.avatarURL)&&void 0!==n?n:"",isAnonymous:t.accountType===tt.ANONYMOUS,canViewProfile:!0,size:"small"}),primaryText:e?o.createElement(Rt,{width:"160px",height:Mo}):o.createElement(So.t,{userId:t.id,isAnonymous:t.accountType===tt.ANONYMOUS,canViewProfile:!0},o.createElement(o.Fragment,null,o.createElement("span",null,a)," ",t.accountType===tt.GUEST&&o.createElement(Zo.Z,{appearance:"new"},o.createElement(h.Z,(0,i.Z)({},No.guest)))))}),e?o.createElement(wo,null,o.createElement(Rt,{width:"48px",height:Mo})):o.createElement(wo,null,s)))};Oo.displayName="AnalyticsDialogUserListRow";const Co=({isLoading:e,accounts:t,ariaLabel:n})=>{const i=(0,f.Z)();return o.createElement(_o,{role:e?"alert":void 0,"aria-busy":e,"aria-live":"polite","aria-label":e?i.formatMessage({id:"confluence-analytics.dialog.user-list.loading-label",defaultMessage:"Loading",description:"Text read by screen readers when a user list for the analytics dialog is loading."}):n,"data-testid":ue.USER_LIST},e?Array(5).fill(null).map(((e,t)=>o.createElement(Oo,{key:`loading-${t}`,isLoading:!0}))):t.map(((e,t)=>o.createElement(Oo,{key:e.accountType===tt.ANONYMOUS?`anonymous-${t}`:e.id,isLoading:!1,account:e}))))};Co.displayName="AnalyticsDialogUserList";var Ao=n(600888);n(524220),n(374396),n(167767),n(663035),n(867667),n(818060),n(353898),n(895316),n(406329),n(130033),n(379617),n(456928),n(357290),n(354326);const Lo=(0,o.forwardRef)(((e,t)=>{let{as:n="div",style:a}=e,s=(0,r.Z)(e,["as","style"]);return o.createElement(n,(0,i.Z)((0,i.Z)({},s),{},{style:a,ref:t,className:(0,ct.Z)(["_1e0c1txw _2lx21bp4 _4cvr1h6o _19pkgktf",s.className])}))}));const Io=(0,o.forwardRef)(((e,t)=>{let{as:n="img",style:a}=e,s=(0,r.Z)(e,["as","style"]);return o.createElement(n,(0,i.Z)((0,i.Z)({},s),{},{style:a,ref:t,className:(0,ct.Z)(["_1bsbckbl _4t3ivbgk _otyr7vkz",s.className])}))}));const Ro=(0,o.forwardRef)(((e,t)=>{let{as:n="div",style:a}=e,s=(0,r.Z)(e,["as","style"]);return o.createElement(n,(0,i.Z)((0,i.Z)({},s),{},{style:(0,i.Z)((0,i.Z)({},a),{},{"--_1b5y5cj":(0,lt.Z)((0,ut.Z)("color.text.subtle",y.iw))}),ref:t,className:(0,ct.Z)(["_1bsb1178 _1ltv1ylp _154io7ol _y3gn1h6o _syaz1fw9 _k48pbfng",s.className])}))}));const Po=(0,o.forwardRef)(((e,t)=>{let{as:n="div",style:a}=e,s=(0,r.Z)(e,["as","style"]);return o.createElement(n,(0,i.Z)((0,i.Z)({},s),{},{style:a,ref:t,className:(0,ct.Z)(["_1e0c1txw _n3td7vkz _2lx21bp4",s.className])}))}));const Do=()=>o.createElement(Lo,null,o.createElement(Io,{src:Ao}),o.createElement(Po,null,o.createElement(Ro,null,o.createElement(h.Z,(0,i.Z)({},de.errorMessage))),o.createElement(Ro,null,o.createElement(h.Z,(0,i.Z)({},de.errorSuggestion)))));Do.displayName="AnalyticsDialogError";const zo=360,jo=64,Fo=(0,C.P)({attribution:A.x.CC_ANALYTICS})((({isLoading:e,graphData:t,variant:n,loadingText:i,isPopularContent:r,timeseriesGraphData:a,timeseriesDateRangeLabel:s,zIndex:l,viewers:c,error:u})=>{var d,h,p,v;const g=(0,f.Z)(),{edition:m}=(0,R.D)();return o.createElement(o.Fragment,null,u&&o.createElement(O.X,{error:u},o.createElement(Do,null)),!u&&o.createElement(o.Fragment,null,o.createElement(mo,{isLoading:e,viewsCount:null!==(d=null==t||null===(h=t.AllCount)||void 0===h?void 0:h.count)&&void 0!==d?d:0,uniqueViewsCount:null!==(p=null==t||null===(v=t.UserCount)||void 0===v?void 0:v.count)&&void 0!==p?p:0}),o.createElement(ft,{marginBottom:"20px"},o.createElement($r,{data:a,styledDetails:{showYAxis:!0,lineColor:n===Ye.ORIGINAL?(0,ut.Z)("color.chart.success",y.eE):(0,ut.Z)("color.chart.brand",y.VY),accessoryColor:n===Ye.ORIGINAL?(0,ut.Z)("color.background.accent.green.subtlest",y.ER):(0,ut.Z)("color.chart.information",y.BA)},width:zo,height:jo,loadingState:{isLoading:e,loadingText:i},testId:ue.CHART,dateRangeLabel:s,subLabelTag:r&&o.createElement(to,{href:no.v.POPULAR.pattern}),zIndex:l})),"PREMIUM"===m&&n===Ye.WITH_MENTIONS&&o.createElement(ft,{marginBottom:"16px"},o.createElement(Co,{accounts:c,isLoading:e,ariaLabel:g.formatMessage({id:"confluence-analytics.dialog.viewers-list.label",defaultMessage:"Viewers",description:"Text read by screen readers describing the list of viewers for the page being viewed."})}))))}));var Vo=n(475117);n(761998),n(462265),n(689797),n(243222),n(246136),n(982154),n(234119),n(615237),n(846519),n(114486),n(394015);const Bo=(0,o.forwardRef)(((e,t)=>{let{as:n="span",style:a,fillColor:s}=e,l=(0,r.Z)(e,["as","style","fillColor"]);return o.createElement(n,(0,i.Z)((0,i.Z)({},l),{},{style:(0,i.Z)((0,i.Z)({},a),{},{"--_10f7tqg":(0,lt.Z)(s)}),ref:t,className:(0,ct.Z)(["_1e0c1ule _4t3ii2wt _kqswstnw _2rko1l7b _y44v1f1h _11q71f7x",l.className])}))}));const Uo=(0,o.forwardRef)(((e,t)=>{let{as:n="span",style:a,fillColor:s}=e,l=(0,r.Z)(e,["as","style","fillColor"]);return o.createElement(n,(0,i.Z)((0,i.Z)({},l),{},{style:(0,i.Z)((0,i.Z)({},a),{},{"--_10f7tqg":(0,lt.Z)(s)}),ref:t,className:(0,ct.Z)(["_1e0c1ule _4t3ii2wt _kqswstnw _2rko1l7b _y44v1ejr _11q71f7x",l.className])}))}));const Wo=(0,o.forwardRef)(((e,t)=>{let{as:n="span",style:a,fillColor:s}=e,l=(0,r.Z)(e,["as","style","fillColor"]);return o.createElement(n,(0,i.Z)((0,i.Z)({},l),{},{style:(0,i.Z)((0,i.Z)({},a),{},{"--_10f7tqg":(0,lt.Z)(s),"--_1kuvdc9":(0,lt.Z)(l.width)}),ref:t,className:(0,ct.Z)(["_1e0c1ule _4t3ii2wt _kqswstnw _2rko1l7b _v564calv _11q71f7x _1bsbz3p1",l.className])}))}));n(424840),n(373828),n(664806),n(156704),n(341645),n(234119),n(811771),n(953305),n(846519),n(520700);const $o=({appearance:e="default",customFillColor:t,ariaLabel:n,isIndeterminate:i=!1,testId:r="progress-bar",value:a=0})=>{if(a<0||a>1)throw new Error(`Illegal progress bar value supplied: ${a}`);const s=i?0:Math.max(0,Math.min(a,1)),l=(0,o.useMemo)((()=>({default:(0,ut.Z)("color.background.neutral.bold",y.Mx),success:(0,ut.Z)("color.background.success.bold",y.eE),inverse:(0,ut.Z)("elevation.surface","white"),custom:t})),[t]);return o.createElement("div",{role:"progressbar","aria-label":n,"aria-valuemin":0,"aria-valuenow":s,"aria-valuemax":1,tabIndex:0,"data-testid":r,className:(0,ct.Z)(["_1bsb1osq _4t3ii2wt _kqswh2mm _11q7mq1e _2rko1l7b _1reo15vq _18m915vq _1iwv10lx _aaku10lx _11o91hi5"]),style:{"--_3or6ws":(0,lt.Z)((0,ut.Z)("color.background.neutral",y.bt)),"--_1a0nf9b":(0,lt.Z)(null),"--_awqgq2":(0,lt.Z)(null)}},i?o.createElement(o.Fragment,null,o.createElement(Bo,{fillColor:l[e]}),o.createElement(Uo,{fillColor:l[e]})):o.createElement(Wo,{width:100*Number(a)+"%",fillColor:l[e]}))};$o.displayName="ProgressBar",n(28553),n(258e3),n(475825),n(282622),n(435747),n(138599),n(135290),n(112044),n(349245),n(381221),n(111863),n(280566),n(260717),n(111421),n(726696),n(473375),n(31155),n(408535),n(319272),n(698297),n(746237),n(410258),n(936017),n(144961),n(264507),n(8765),n(379177),n(285531),n(701555),n(902174),n(813946),n(482032),n(374396),n(722812),n(117978),n(552185),n(413076),n(577103),n(456928),n(663035),n(357290),n(354326);const qo=(0,o.forwardRef)(((e,t)=>{let{as:n="div",style:a}=e,s=(0,r.Z)(e,["as","style"]);return o.createElement(n,(0,i.Z)((0,i.Z)({},s),{},{style:a,ref:t,className:(0,ct.Z)(["_1e0c1txw _2lx21bp4",s.className])}))}));const Ho=(0,o.forwardRef)(((e,t)=>{let{as:n="div",style:a}=e,s=(0,r.Z)(e,["as","style"]);return o.createElement(n,(0,i.Z)((0,i.Z)({},s),{},{style:a,ref:t,className:(0,ct.Z)(["_y3gn1h6o",s.className])}))}));const Yo=(0,o.forwardRef)(((e,t)=>{let{as:n="div",style:a}=e,s=(0,r.Z)(e,["as","style"]);return o.createElement(n,(0,i.Z)((0,i.Z)({},s),{},{style:a,ref:t,className:(0,ct.Z)(["_1e0c1txw _2lx21bp4 _4cvr1h6o _1tketudo",s.className])}))}));const Ko=(0,o.forwardRef)(((e,t)=>{let{as:n="span",style:a}=e,s=(0,r.Z)(e,["as","style"]);return o.createElement(n,(0,i.Z)((0,i.Z)({},s),{},{style:(0,i.Z)((0,i.Z)({},a),{},{"--_9eu1jn":(0,lt.Z)((0,ut.Z)("color.text.subtle",y.Mx))}),ref:t,className:(0,ct.Z)(["_1wybdlk8 _syazsstu",s.className])}))}));const Xo=(0,o.forwardRef)(((e,t)=>{let{as:n="label",style:a}=e,s=(0,r.Z)(e,["as","style"]);return o.createElement(n,(0,i.Z)((0,i.Z)({},s),{},{style:a,ref:t,className:(0,ct.Z)(["_syaz1fxt _1wyb3wvj _k48pbfng _1dyzz5jk _vwz41fiz _19pk1ex1",s.className])}))}));const Go=(0,o.forwardRef)(((e,t)=>{let{as:n="label",style:a}=e,s=(0,r.Z)(e,["as","style"]);return o.createElement(n,(0,i.Z)((0,i.Z)({},s),{},{style:a,ref:t,className:(0,ct.Z)(["_syaz1fxt _1wybubh0 _k48pbfng _1dyzz5jk _vwz41s8f _19pk1ylp",s.className])}))}));const Qo=(0,o.forwardRef)(((e,t)=>{let{as:n="div",style:a}=e,s=(0,r.Z)(e,["as","style"]);return o.createElement(n,(0,i.Z)((0,i.Z)({},s),{},{style:a,ref:t,className:(0,ct.Z)(["_19pk1crf _otyr1crf",s.className])}))}));const Jo=(0,o.forwardRef)(((e,t)=>{let{as:n="div",style:a}=e,s=(0,r.Z)(e,["as","style"]);return o.createElement(n,(0,i.Z)((0,i.Z)({},s),{},{style:a,ref:t,className:(0,ct.Z)(["_1e0c1txw _2lx2vrvc _4cvr1h6o _j7hqohll _5sag9cwz _1pgl5ucs _7hjf1yy8 _tip8kb7n _1o51q7pw _1y0co91m _19pk1crf",s.className])}))}));const ea=(0,o.forwardRef)(((e,t)=>{let{as:n="div",style:a}=e,s=(0,r.Z)(e,["as","style"]);return o.createElement(n,(0,i.Z)((0,i.Z)({},s),{},{style:a,ref:t,className:(0,ct.Z)(["_19bv7vkz _tzy4idpf _j7hqhw9g _5sag188d _1pgl5ucs _ju251bs3 _7hjf1yy8 _tip8kb7n _1o51q7pw _1y0co91m",s.className])}))}));const ta=(0,o.forwardRef)(((e,t)=>{let{as:n="div",style:a}=e,s=(0,r.Z)(e,["as","style"]);return o.createElement(n,(0,i.Z)((0,i.Z)({},s),{},{style:a,ref:t,className:(0,ct.Z)(["_j7hqh26j _5sag188d _1pgl5ucs _ju25idpf _7hjf1yy8 _tip8kb7n _1o51q7pw _1y0co91m",s.className])}))}));const na=({seenMentionedUsersCount:e,totalMentionedUsersCount:t,isLoading:n})=>{const r=(0,f.Z)(),a=r.formatMessage(de.dialogProgressbarAriaLabel),s=r.formatMessage(de.dialogProgressbarCountAriaLabel,{seenMentionedUsersCount:e,totalMentionedUsersCount:t}),l=e===t,c=(0,o.useMemo)((()=>{const e={appearance:"custom",customFillColor:(0,ut.Z)("color.chart.brand",y.VY)};return l?{appearance:"success"}:e}),[l]);return o.createElement(qo,null,o.createElement(Yo,null,n||e!==t?o.createElement("span",{"aria-label":s},o.createElement(Ho,{"aria-hidden":!0},n?o.createElement(gt,{style:{marginBottom:"8px"}},o.createElement(Rt,{height:"28px",width:"40px",borderRadius:"3px"})):o.createElement(o.Fragment,null,o.createElement(Xo,null,e,"/"),o.createElement(Go,null,t))),o.createElement(Ho,{"aria-hidden":!0},o.createElement(Ko,null,n?o.createElement(Rt,{height:"20px",width:"120px",borderRadius:"3px"}):o.createElement(h.Z,(0,i.Z)((0,i.Z)({},de.dialogMentionedUsersViewed),{},{values:{seenMentionedUsersCount:e}}))))):o.createElement(Jo,null,o.createElement(ta,null,o.createElement(Vo.default,{label:"",size:"xlarge",primaryColor:(0,ut.Z)("color.icon.success",y.eE)})),o.createElement(ea,null,o.createElement(h.Z,(0,i.Z)((0,i.Z)({},de.dialogMentionedUsersAllSeen),{},{values:{totalMentionedUsersCount:t,totalMentionedUsersElement:o.createElement("strong",null,t)}})),o.createElement("span",null," ")))),o.createElement(Qo,{allMentionsHaveSeen:l},n?o.createElement(Rt,{height:"6px",width:"360px",borderRadius:"10px"}):o.createElement($o,(0,i.Z)({ariaLabel:a,value:e/t},c))))};na.displayName="AnalyticsDialogUserProgress";const ia=(e,t)=>{switch(t.type){case"expand":return Object.keys(e).reduce(((e,n)=>(0,i.Z)((0,i.Z)({},e),{},{[n]:t.payload===n})),(0,i.Z)((0,i.Z)({},e),{},{[t.payload]:!0}));case"collapse":return(0,i.Z)((0,i.Z)({},e),{},{[t.payload]:!1});default:return e}};n(492989),n(144961),n(374396),n(413076),n(663035),n(834960),n(181884),n(586793),n(135290),n(612974),n(156704),n(341645),n(297274),n(772541),n(593940),n(416473),n(506840),n(698297),n(664115),n(410258),n(526881),n(456928),n(362604),n(354326),n(167767),n(88331),n(189725),n(94974),n(949112),n(410613);const ra=(0,o.forwardRef)(((e,t)=>{let{as:n="div",style:a}=e,s=(0,r.Z)(e,["as","style"]);return o.createElement(n,(0,i.Z)((0,i.Z)({},s),{},{style:a,ref:t,className:(0,ct.Z)(["_19pk7vkz",s.className])}))}));const oa=(0,o.forwardRef)(((e,t)=>{let{as:n="div",style:a}=e,s=(0,r.Z)(e,["as","style"]);return o.createElement(n,(0,i.Z)((0,i.Z)({},s),{},{style:a,ref:t,className:(0,ct.Z)(["",s.className])}))}));const aa=(0,o.forwardRef)(((e,t)=>{let{as:n="div",style:a}=e,s=(0,r.Z)(e,["as","style"]);return o.createElement(n,(0,i.Z)((0,i.Z)({},s),{},{style:(0,i.Z)((0,i.Z)({},a),{},{"--_1b5y5cj":(0,lt.Z)((0,ut.Z)("color.text.subtle",y.iw))}),ref:t,className:(0,ct.Z)(["_1wyb1jqr _k48pni7l _1dyzidpf _vwz41clk _19pk7vkz _syaz1fw9 _1e0c1txw _1bah1yb4 _4cvr1h6o _19pkftgi _2hwxidpf _otyrftgi _18u0idpf _80omtlke",s.className])}))}));const sa=(0,o.forwardRef)(((e,t)=>{let{as:n="div",style:a}=e,s=(0,r.Z)(e,["as","style"]);return o.createElement(n,(0,i.Z)((0,i.Z)({},s),{},{style:a,ref:t,className:(0,ct.Z)(["_1e0c1txw _1bah1yb4 _4cvr1h6o _19pkidpf _2hwxidpf _otyridpf _18u0idpf _1p1dangw",s.className])}))}));const la=(0,o.forwardRef)(((e,t)=>{let{as:n="div",style:a,isExpanded:s}=e,l=(0,r.Z)(e,["as","style","isExpanded"]);return o.createElement(n,(0,i.Z)((0,i.Z)({},l),{},{style:a,ref:t,className:(0,ct.Z)(["_v56414fr _1reo15vq _18m915vq",s?"_tzy4kb7n":"_tzy4idpf",s?"_c71l8stt":"_c71lidpf",l.className])}))}));const ca=(0,o.forwardRef)(((e,t)=>{let{as:n="div",style:a}=e,s=(0,r.Z)(e,["as","style"]);return o.createElement(n,(0,i.Z)((0,i.Z)({},s),{},{style:a,ref:t,className:(0,ct.Z)(["_2hwxftgi",s.className])}))}));const ua=(0,o.forwardRef)(((e,t)=>{let{as:n="div",style:a}=e,s=(0,r.Z)(e,["as","style"]);return o.createElement(n,(0,i.Z)((0,i.Z)({},s),{},{style:(0,i.Z)((0,i.Z)({},a),{},{"--_1b5y5cj":(0,lt.Z)((0,ut.Z)("color.text.subtle",y.iw))}),ref:t,className:(0,ct.Z)(["_otyrftgi _y3gn1h6o _1wybdlk8 _k48pbfng _syaz1fw9 _vwz4gktf _16jlkb7n",s.className])}))}));var da=n(231307),fa=n.n(da),ha=n(615139),pa=n(288815);const va=({color:e})=>o.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24px",fill:"none",height:"24px"},o.createElement("circle",{cx:"50%",cy:"50%",r:"4",fill:e}));va.displayName="Indicator";const ga=({label:e,count:t,totalCount:n,isExpanded:i,onToggle:r,indicatorColor:a,isLoading:s,loadingHeading:l,children:c})=>{const u=(0,f.Z)(),d=u.formatMessage({id:"confluence-analytics.dialog.mentions-list.expand",defaultMessage:"expand",description:"Label for expanding a collapsed panel of content."}),h=u.formatMessage({id:"confluence-analytics.dialog.mentions-list.collapse",defaultMessage:"collapse",description:"Label for collapsing an expanded panel of content."}),v=(0,o.useMemo)((()=>`${e} (${t}/${n})`),[e,t,n]);return o.createElement(oa,null,o.createElement(aa,{role:"heading",onClick:s?fa():r,"aria-expanded":i},s&&l?l:o.createElement(o.Fragment,null,o.createElement(sa,null,s?o.createElement(o.Fragment,null,o.createElement(ca,null,o.createElement(Rt,{width:"12px",height:"12px",margin:"2px",borderRadius:"50%"})),o.createElement(Rt,{width:"80px",height:"16px"})):o.createElement(o.Fragment,null,o.createElement(va,{color:a})," ",v)),o.createElement(sa,null,s?o.createElement(Rt,{width:"16px",height:"16px"}):o.createElement(p.Z,{appearance:"subtle",spacing:"none",iconBefore:i?o.createElement(ha.default,{label:h}):o.createElement(pa.default,{label:d})})))),o.createElement(la,{isExpanded:i},c))};let ya;ga.displayName="ExpansionPanel",function(e){e.VIEWED="viewed",e.NOT_VIEWED="not-viewed"}(ya||(ya={}));const ma=({mentionedAccounts:e,seenMentionedUsersCount:t,unseenMentionedUsersCount:n,isLoading:r,error:a})=>{const l=(0,f.Z)(),c=(0,o.useMemo)((()=>e.filter((e=>!!e.lastViewedAt))),[e]),u=(0,o.useMemo)((()=>e.filter((e=>!e.lastViewedAt))),[e]),{createAnalyticsEvent:d}=(0,s._)(),p=(0,o.useCallback)(((t,n)=>{d({type:"sendUIEvent",data:{source:"analyticsPageModal",action:n?"expanded":"closed",actionSubject:"mentionedList",actionSubjectId:"analytics",attributes:{mentionedCount:e.length,mentionedViewedCount:c.length,mentionedList:t}}}).fire()}),[d,e.length,c.length]),v=l.formatMessage(de.viewedMentionsLabel),g=l.formatMessage(de.notViewedMentionsLabel),{state:m,toggle:_}=(e=>{const[t,n]=(0,o.useReducer)(ia,null!=e?e:{}),i=(0,o.useCallback)((e=>{const i=t[e];n({type:i?"collapse":"expand",payload:e})}),[t]);return{state:t,toggle:i}})({[ya.VIEWED]:!0}),x=!!m[ya.VIEWED],b=!!m[ya.NOT_VIEWED],w=(0,o.useCallback)((()=>{_(ya.VIEWED),p(ya.VIEWED,!x)}),[_,p,x]),E=(0,o.useCallback)((()=>{_(ya.NOT_VIEWED),p(ya.NOT_VIEWED,!b)}),[_,p,b]),Z=(0,o.useMemo)((()=>t+n),[t,n]);(0,o.useEffect)((()=>{r||ze.stop()}),[r]);const k=t===e.length;return a?o.createElement(O.X,{error:a},o.createElement(Do,null)):o.createElement(ra,null,o.createElement(ft,{marginBottom:"16px"},o.createElement(na,{seenMentionedUsersCount:t,totalMentionedUsersCount:Z,isLoading:r})),o.createElement(ft,null,o.createElement(ga,{label:v,count:t,totalCount:Z,isExpanded:x,onToggle:w,indicatorColor:k?(0,ut.Z)("color.icon.success",y.eE):(0,ut.Z)("color.icon.brand",y.VY),isLoading:r,loadingHeading:o.createElement(ua,null,o.createElement(h.Z,(0,i.Z)({},de.dialogLoadingText)))},o.createElement(Co,{accounts:c,isLoading:r,ariaLabel:v}))),o.createElement(ft,{marginTop:r?"4px":"0px",marginBottom:r?"20px":"16px"},o.createElement(ga,{label:g,count:n,totalCount:Z,isExpanded:b,onToggle:E,indicatorColor:(0,ut.Z)("color.icon.subtle",y.gt),isLoading:r},o.createElement(Co,{accounts:u,isLoading:r,ariaLabel:g}))))};ma.displayName="DialogMentionsTab";const _a=(0,C.P)({attribution:A.x.CC_ANALYTICS})(ma),xa={years:1},ba=(0,C.P)({attribution:A.x.CC_ANALYTICS})((({contentId:e,onClose:t,referenceDate:n,selectedPill:r,onPillSelected:l,requestBylineCountRefetch:c,zIndex:u})=>{var d,h,p;const v=(0,o.useMemo)((()=>U((0,$.Z)(new Date,1),n)?new Date:n),[n]),g=Xe(),{edition:y}=(0,R.D)(),m=(0,o.useContext)(S.F),_=(0,f.Z)(),{data:x,loading:b,error:w}=(0,a.aM)(Ue,{variables:{contentId:e},onCompleted:()=>{c(),F()}}),{popularFeedError:E,popularFeedLoading:Z,isPopularContent:k}=(e=>{const{data:t,loading:n,error:i}=(0,a.aM)($e,{context:{single:!0}});return{popularFeedError:i,popularFeedLoading:n,isPopularContent:(0,o.useMemo)((()=>{var n,i;return new Set((null!==(n=null==t||null===(i=t.popularFeed)||void 0===i?void 0:i.nodes)&&void 0!==n?n:[]).map((e=>e.content.id))).has(e)}),[t,e])}})(e),M=(0,o.useMemo)((()=>{var e,t;return new Date(null==x||null===(e=x.singleContent)||void 0===e||null===(t=e.metadata)||void 0===t?void 0:t.createdDate)}),[x]),N=(0,o.useMemo)((()=>((e,t,n=new Date)=>{const i=we(n,e);return U(i,t)?i:t})(xa,M,v)),[M,v]),[O,{data:C,loading:A,error:D,called:j}]=(0,a.td)(We),F=(0,o.useCallback)((()=>{O({variables:{contentId:e,graphStartTime:N.toISOString(),graphGranularity:Ee(N),countStartTime:M.toISOString(),timezone:Ze()}})}),[e,M,N,O]),{createAnalyticsEvent:V}=(0,s._)(),B=null==x||null===(d=x.singleContent)||void 0===d?void 0:d.type,W=(0,o.useMemo)((()=>{var e;const t=(0,Y.Z)(new Date,M)<1,n=(null==C||null===(e=C.TimeseriesCount)||void 0===e?void 0:e.nodes)||[];return(({graphData:e,granularity:t,now:n=new Date,intl:i})=>e.map((e=>({date:Me({date:new Date(e.date),granularity:t,now:n,intl:i}),value:e.count}))))({graphData:t?Oe(n):n,granularity:Ee(N),intl:_})}),[M,N,C,_]),q=(0,o.useMemo)((()=>isNaN(N.valueOf())?"":(({fromDate:e,toDate:t,now:n=new Date,intl:i})=>{const r=G(n,e),o=n=>Te(n,{showMonths:!0,showDays:!0,showYears:!(0,Q.Z)(e,t)}),a=Te(e,{showHours:!0,showMinutes:!0});if(r<=24){const t=Se(e,n,i.locale);return i.formatMessage(de.graphCreatedAtDateTimeLabel,{date:t,time:a})}if(r<48){const t=o(e);return i.formatMessage(de.graphCreatedAtDateTimeLabel,{date:t,time:a})}{const r=o(e),a=o(t),s=Se(t,n,i.locale);return i.formatMessage(de.graphDateToDateTimeLabel,{fromDate:r,toDate:a,toTime:s})}})({fromDate:new Date(N),toDate:n,intl:_})),[N,n,_]),{error:H,mentionedAccountIds:K,loadMentionedAccountIds:X,isLoadingMentionedAccountIds:J,viewers:ee,loadViewers:te,isLoadingViewers:ne,mentions:ie,loadMentions:re,isLoadingMentions:oe,mentionedViewedCount:ae,mentionedNotViewedCount:se}=at(e);(0,o.useEffect)((()=>{if(g===Ye.WITH_MENTIONS&&y===Be.m.PREMIUM)switch(X(),r){case fe.VIEWS:te();break;case fe.MENTIONS:re()}}),[X,re,te,r,g,y]);const le=(0,o.useCallback)(((e,t,n)=>{var r,o;V({type:"sendUIEvent",data:(0,i.Z)({source:t,action:"clicked",actionSubject:"button",actionSubjectId:e},n?{attributes:{pillType:n,viewUserCount:ee.length,viewCount:null!==(r=null==C||null===(o=C.AllCount)||void 0===o?void 0:o.count)&&void 0!==r?r:0,mentionedCount:K.length,mentionedViewedCount:ae,didAllMentionedUsersView:ae===K.length}}:{})}).fire()}),[V,null==C||null===(h=C.AllCount)||void 0===h?void 0:h.count,K.length,ae,ee.length]),ce=(0,o.useMemo)((()=>b||!j||A||J||ne||oe),[b,A,j,J,ne,oe]),ve=null!==(p=null!=w?w:D)&&void 0!==p?p:H,ge=(0,o.useMemo)((()=>g===Ye.WITH_MENTIONS&&y===Be.m.PREMIUM&&K.length>0),[g,y,K.length]),ye=(0,o.useMemo)((()=>ge&&!ce&&!ve),[ve,ce,ge]),me=(0,o.useRef)(!0),_e=_.formatMessage((0,i.Z)({},de.dialogContainerAriaLabel)),{client:xe}=z({ssrEventCaptureKey:st.F5,ssrBestEffortTaskName:P}),{wasSSRBestEffortSuccessful:ke}=xe;(0,o.useEffect)((()=>{ve?be(ve)?((0,L.Xb)(ve),m.abort({name:T.Wip,reason:ve})):m.fail({name:T.Wip,error:ve}):ce||Z||m.succeed({name:T.Wip})}),[ve,ce,Z,m]),(0,o.useEffect)((()=>{E&&(0,L.Xb)(E)}),[E]),(0,o.useEffect)((()=>{if(!ce&&!Z&&me.current){var e,t;const n={customData:{clicked_during_ssr:"number"==typeof(0,I.es)(st.Xm)}};De.stop(n),(0,I.tl)([st.Xm]),V({type:"sendScreenEvent",data:{name:"analyticsPageModal",attributes:{arePillsShown:ye,isPopularTagShown:k,createdAtDate:M,contentType:B,pillCategory:r,areMentionsShown:ie.length>0,viewUserCount:ee.length,viewCount:null!==(e=null==C||null===(t=C.AllCount)||void 0===t?void 0:t.count)&&void 0!==e?e:0,mentionedCount:K.length,mentionedViewedCount:ae,didAllMentionedUsersView:ae===K.length}}}).fire(),me.current=!1}}),[ce,Z,k,M,B,V,r,C,ee,ke,ye,ie.length,K.length,ae]);const Ne=(0,o.useCallback)((e=>{l(e),le("analyticsFilter","analyticsPageModal",e),e==fe.MENTIONS&&ze.start()}),[l,le]),Ce=(0,o.useMemo)((()=>{if(!me.current)return;const e=null!=r?r:fe.VIEWS,t=he[e];return _.formatMessage(t)}),[r,_]),Ae=(0,o.useCallback)((()=>{le("viewAnalytics","pageAnalyticsScreen")}),[le]),Le={[fe.VIEWS]:o.createElement(Fo,{isLoading:ce,graphData:C,variant:g,loadingText:Ce,isPopularContent:k,timeseriesGraphData:W,timeseriesDateRangeLabel:q,zIndex:u,viewers:ee,error:ve}),[fe.MENTIONS]:o.createElement(_a,{mentionedAccounts:ie,seenMentionedUsersCount:ae,unseenMentionedUsersCount:se,startDate:M,contentId:e,isLoading:oe,error:ve})};return o.createElement(o.Fragment,null,o.createElement(dt,{role:"dialog","data-testid":ue.DIALOG,"aria-label":_e,"aria-modal":"true"},o.createElement(Ot,{error:ve,isLoading:b,selectedPill:r,shouldShowPills:ge,onPillSelected:Ne,onClose:t}),o.createElement("div",{role:"tabpanel","aria-labelledby":r},Le[r]),o.createElement(Dt,{isLoading:b,contentId:e,contentTab:pe[r],contentType:B,onClickAnalyticsLink:Ae})))})),wa=({zIndex:e})=>{const t=Xe(),{edition:n}=(0,R.D)(),r="PREMIUM"===n&&t===Ye.WITH_MENTIONS;return o.createElement(ht,{zIndex:e,"data-testid":ue.DIALOG_SKELETON},o.createElement(dt,{role:"dialog"},o.createElement(Ot,{isLoading:!0,shouldShowPills:r,selectedPill:fe.VIEWS}),o.createElement(mo,{isLoading:!0,viewsCount:0,uniqueViewsCount:0}),o.createElement(ft,{marginBottom:"16px"},o.createElement(pt,null)),o.createElement(vt,null,o.createElement(h.Z,(0,i.Z)({},he[fe.VIEWS]))),r&&o.createElement(ft,{marginBottom:"16px"},o.createElement(Co,{accounts:[],isLoading:!0})),o.createElement(Dt,{isLoading:!0,contentId:"",contentType:""})))};wa.displayName="AnalyticsDialogSsr";const Ea=(0,C.P)({attribution:A.x.CC_ANALYTICS})((({contentId:e})=>{const{featureFlagClient:t}=(0,R.D)(),{client:n,server:u}=z({ssrEventCaptureKey:st.F5,ssrBestEffortTaskName:P}),{onSSRCapturedEvent:d,wasSSRRendered:f,wasSSRBestEffortSuccessful:h,wasSSREventTriggered:p}=n;(0,o.useEffect)((()=>{h&&Pe.markFMP((0,I.es)("CFP-63.ssr-ttr"))}),[h]);const v=(0,o.useMemo)((()=>t.getBooleanValue("confluence.frontend.confluence-analytics-dialog-with-mentions",{default:!1,shouldTrackExposureEvent:!0})?Ye.WITH_MENTIONS:Ye.ORIGINAL),[t]),g=(0,o.useContext)(S.F),[y,m]=(0,o.useState)(p(D.Q.CLICK)),[_,x]=(0,o.useState)(fe.VIEWS),[b,w]=(0,o.useState)(new Date),[E,Z]=(0,o.useState)(!1),C=(0,o.useCallback)((()=>{Z(!0)}),[Z]);(0,o.useEffect)((()=>{w(new Date),Z(!1),x(fe.VIEWS),f||m(!1)}),[e,f]);const{createAnalyticsEvent:A}=(0,s._)();(0,o.useEffect)((()=>{A({type:"sendTrackEvent",data:{action:"displayed",actionSubject:"analytics",actionSubjectId:e,objectId:e,source:"confluence-frontend"}}).fire(),g.start({name:T.cP4})}),[e,A,g]);const j=e=>{A({type:"sendUIEvent",data:{action:"dismissed",actionSubject:"analyticsPageModal",actionSubjectId:"analytics",objectId:e,source:"analyticsPageModal"}}).fire(),m(!1)},F=(0,o.useCallback)((()=>{const t=(0,I.es)(st.Xm)?{startTime:(0,I.es)(st.Xm)}:{};De.start(t),m(!0),A({type:"sendUIEvent",data:{action:"clicked",actionSubject:"AnalyticsButton",source:"viewPageScreen",objectId:e,attributes:{from:"fromByline",isSSR:h}}}).fire(),g.start({name:T.Wip})}),[e,A,g,h]),V=(0,o.useCallback)((()=>{A({type:"sendUIEvent",data:{action:"hovered",actionSubject:"AnalyticsButton",source:"page",objectId:e,attributes:{from:"fromByline",isSSR:h,tabFocus:!1}}}).fire()}),[e,h,A]),B=(0,o.useCallback)((()=>{A({type:"sendUIEvent",data:{action:"hovered",actionSubject:"AnalyticsButton",source:"page",objectId:e,attributes:{from:"fromByline",isSSR:h,tabFocus:!0}}}).fire()}),[e,h,A]),{data:U,loading:W,error:$,refetch:q}=(0,a.aM)(Ve,{variables:{contentId:e},context:{single:!0}}),H=(0,o.useRef)(!1);(0,o.useEffect)((()=>{E&&!H.current?(q({contentId:e}),H.current=!0):!E&&H.current&&(H.current=!1)}),[e,q,E]),(0,o.useEffect)((()=>{$&&be($)&&(g.abort({name:T.cP4,reason:$.name}),(0,L.Xb)($))}),[$,g]),(0,o.useEffect)((()=>{W||$||g.succeed({name:T.cP4})}),[$,g,W]);const Y=Ae(W,U,$),K=(e=>{var t;return(null==e||null===(t=e.contentAnalyticsViewers)||void 0===t?void 0:t.count)||0})(U);return(0,o.useEffect)((()=>{d(D.Q.CLICK,F)}),[d,F]),(0,o.useEffect)((()=>{d(D.Q.HOVER,V)}),[d,V]),(0,o.useEffect)((()=>{d(D.Q.FOCUS,B)}),[d,B]),o.createElement(o.Fragment,null,u.isRenderingSSR&&o.createElement(Ke.Provider,{value:v},o.createElement(wa,{zIndex:c.ug.dialog()})),o.createElement(l.Z,{isOpen:y,onClose:()=>{j(e)},placement:"bottom",trigger:e=>{let{"aria-expanded":t}=e,n=(0,r.Z)(e,["aria-expanded"]);return o.createElement("span",(0,i.Z)((0,i.Z)({},n),{},{onMouseOver:V,onFocus:B}),o.createElement(M.q,{metric:Pe,isCustomStart:!h}),$&&o.createElement(O.X,{error:$}),!Y&&o.createElement(o.Fragment,null,o.createElement(k,{count:K,onClick:F,isBylineComponent:!0,testId:st.u0.BYLINE}),o.createElement(N.M,{metric:Pe})))},content:()=>o.createElement(Ke.Provider,{value:v},o.createElement(ba,{contentId:e,onClose:()=>{j(e)},referenceDate:b,selectedPill:_,onPillSelected:x,requestBylineCountRefetch:C,zIndex:c.ug.dialog()})),zIndex:c.ug.dialog()}))}))},67976:(e,t,n)=>{"use strict";let i;n.d(t,{Q:()=>i}),function(e){e.CLICK="click",e.HOVER="hover",e.FOCUS="focus"}(i||(i={}))},511461:(e,t,n)=>{"use strict";n.d(t,{k:()=>a});var i=n(122551),r=n(72055);const o=()=>null,a=({attribution:e,children:t,onError:n})=>i.createElement(r.O,{attribution:e,renderOnError:o,onError:n},t);a.displayName="TransparentErrorBoundary"},801683:(e,t,n)=>{"use strict";n.d(t,{P:()=>s,m:()=>l});var i=n(991332),r=n(122551),o=n(806297),a=n(511461);function s(e){return c(o.S,e)}function l(e){return c(a.k,e)}function c(e,t){return function(n){return o=>r.createElement(e,(0,i.Z)({},t),r.createElement(n,(0,i.Z)({},o)))}}},528365:(e,t,n)=>{"use strict";n.d(t,{tl:()=>s,tv:()=>l,Oi:()=>c,es:()=>u,So:()=>d,_N:()=>h});var i=n(991332),r=n(917068),o=n(443033),a=n(596207);const s=e=>{window.performance&&window.performance.clearMarks&&e.forEach((e=>window.performance.clearMarks(e)))},l=e=>{if(window.performance&&window.performance.getEntriesByName){const t=window.performance.getEntriesByName(e);return t&&t[0]}},c=(e,t)=>{const n=l(e),i=l(t);if(n&&i)return Math.abs(n.startTime-i.startTime)},u=e=>{const t=l(e);if(t)return t.startTime},d=({subject:e,subjectId:t=""})=>{const n=`${e}.${t}.start`;s([n,`${e}.${t}.end`]),window.performance.mark(n)},f=async({details:e,subject:t,subjectId:n,includeFeatureFlags:s})=>{const l=`${t}.${n}.end`;window.performance.mark(l);const u=c(`${t}.${n}.start`,l);if(void 0!==u)try{const a=(0,o.getAnalyticsWebClient)(),l=s?(0,r.g)():Promise.resolve({featureFlags:{}}),[c,{featureFlags:d}]=await Promise.all([a,l]),f=((e={})=>Object.keys(e).filter((t=>e[t])).reduce(((t,n)=>(t[n]=e[n],t)),{}))(d);c.sendOperationalEvent({tags:["performance"],source:"confluence-frontend",action:"done",actionSubject:t,actionSubjectId:n,attributes:(0,i.Z)({featureFlags:f,duration:u},e)})}catch(d){(0,a.U)().submitError(d,{attribution:"unknown"})}},h=({subject:e,subjectId:t="",details:n={},includeFeatureFlags:i=!1})=>{l(`${e}.${t}.end`)||f({details:n,includeFeatureFlags:i,subject:e,subjectId:t})}},510555:(e,t,n)=>{"use strict";n.d(t,{jb:()=>a,g6:()=>s,bs:()=>c,Es:()=>u,Nd:()=>d,RW:()=>f});const i=(0,n(616158).j)("session-data"),r="confluence-frontend-next.featureFlagLocalOverrides",o=(()=>{try{const e="__random__local__storage__test__key__";return window.localStorage.setItem(e,e),window.localStorage.removeItem(e),!0}catch(e){return!1}})(),a=()=>{let e;e=o?window.localStorage.getItem(r):window.sessionStorage.getItem(r);try{return e?JSON.parse(e):{}}catch(t){return{}}},s=()=>o?null!=window.localStorage.getItem(r):null!=window.sessionStorage.getItem(r),l=e=>{const t=e(a());if(Object.keys(t).length)if(o)try{window.localStorage.setItem(r,JSON.stringify(t))}catch(n){i.error`Unable to set local storage. key = "${r}", value = "${JSON.stringify(t)}"`}else window.sessionStorage.setItem(r,JSON.stringify(t));else o?window.localStorage.removeItem(r):window.sessionStorage.removeItem(r);return t},c=(e,t)=>l((n=>(n[e]=t,n))),u=e=>l((t=>(delete t[e],t))),d=()=>l((()=>({}))),f=(e,t)=>{if(!s())return e;const n=a();return Object.keys(e).reduce(((i,r)=>(i[r]=t(r,n,e),i)),{})}},917068:(e,t,n)=>{"use strict";n.d(t,{e:()=>d,g:()=>u});var i=n(29298),r=n(122551),o=n(913879),a=n(158238),s=n(991332),l=n(997811),c=n(115181);const u=()=>window.__SESSION_DATA_PROMISE__?window.__SESSION_DATA_PROMISE__:window.__SESSION_DATA_PROMISE__=(0,o.LW)(async function(e={}){if(window.USE_MOCKED_SESSION_DATA)return new Promise((e=>{window.MOCK_SESSION_DATA_RESOLVE=e}));if(window.__SESSION_DATA__)return window.__SESSION_DATA__;const t=window.GLOBAL_APOLLO_CLIENT_URI||"/cgraphql";return window.__SESSION_DATA__=c.H.run("fetch:SessionDataQuery",(()=>fetch(`${t}?q=SessionDataQuery`,(0,l.I)({method:"POST",credentials:"include",referrerPolicy:"same-origin",headers:(0,s.Z)({"X-APOLLO-OPERATION-NAME":"SessionDataQuery","Content-Type":"application/json"},e.headers),body:JSON.stringify({query:"\nquery SessionDataQuery @SLA {\n  tenant {\n    shard\n    cloudId\n    environment\n    activationId\n    editions {\n      edition\n    }\n  }\n  userForAnalytics: user {\n    id\n  }\n  user(current: true) {\n    id\n    displayName\n    confluence {\n      accountId\n      userKey\n      locale\n    }\n    timeZone\n  }\n  featureFlags(extraTargeting: true) {\n    nodes {\n      id\n      value\n      explanation {\n        ruleIndex\n        ruleId\n        kind\n      }\n    }\n  }\n}\n"})})).then((async e=>{if(!e.ok)throw new Error(`Cannot load session data: ${e.statusText}`);const t=(await e.json()).data;return window.__SESSION_DATA__=t,t}))))}().then(a.K));class d extends r.Component{constructor(e){super(e),(0,i.Z)(this,"_mount",void 0),(0,i.Z)(this,"state",{});const t=u();this._mount=!0,(0,o.wp)(t)?this.state={sessionData:(0,o.NA)(t)}:t.then((e=>{this._mount&&this.setState({sessionData:e})}))}componentWillUnmount(){this._mount=!1}render(){const{sessionData:e}=this.state;return e?this.props.children(e):!0===this.props.renderChildrenWhenLoading?this.props.children({loading:!0}):null}}d.displayName="SessionData"},505841:(e,t,n)=>{"use strict";n.d(t,{B:()=>x});var i=n(991332),r=n(69210),o=n(405124),a=n.n(o),s=n(937613),l=n(443033);const c={sendOperationalEvent:e=>(0,l.getAnalyticsWebClient)().then((t=>{t.sendOperationalEvent(e)}))},u=(0,r.default)(((e={})=>new s.Z({flags:e,analyticsHandler:c})),a());var d=n(510555),f=n(596207);let h={},p={};const v=(e,t)=>{const n=(e=>{if(!e&&!window.location.href)return{};const t=new URL(e||window.location.href);return new URLSearchParams(t.search)})(t);for(const i in h)void 0!==e[i]&&("true"!==n.get(h[i])?"false"===n.get(h[i])&&(e[i]=!1):e[i]=!0)};function g(e){return"true"===e||"false"!==e&&("object"==typeof e?JSON.stringify(e):e)}function y(e,t){return e.reduce(((e,n)=>(e[n.id]=t(n),e)),{})}const m=(e,t,n)=>t.hasOwnProperty(e)?(0,i.Z)((0,i.Z)({},n[e]),{},{value:t[e]}):n[e];function _(e){return"object"==typeof e&&"value"in e?(0,i.Z)((0,i.Z)({},e.explanation?{explanation:(0,i.Z)({},e.explanation)}:{}),{},{value:g(e.value)}):{value:g(e),explanation:void 0}}const x=(0,r.default)(((e,t)=>{const n=e?y(e,_):{},i=(0,d.RW)(n,m),r=u();r.setFlags(i);const{original:o,withOverrides:a}=(e=>{const t=y(e,(e=>g(e.value)));return{original:t,withOverrides:(0,d.RW)(t,((e,t,n)=>t.hasOwnProperty(e)?t[e]:n[e]))}})(e);return((e,t)=>{for(const r in p){const o=e[p[r].rolloutFF];if("string"==typeof o)try{const i=JSON.parse(o);var n;e[r]=t?e[r]&&(i.enabledLastDigits.includes(t.substr(-1))||(null===(n=i.enabledUserIds)||void 0===n?void 0:n.includes(t))):e[r]&&i.includeAnonUsers}catch(i){(0,f.U)().submitError(i,{attribution:"backbone"})}}})(a,t),v(a),{originalFeatureFlags:o,featureFlagsWithOverrides:a,featureFlagClient:r}}))},755181:(e,t,n)=>{"use strict";n.d(t,{f:()=>r});var i=n(991332);function r(e,t){return o(e,{node:void 0},t,0,0)}function o(e,t,n,r,a){const s=n[e.type]||n.any;let l=(0,i.Z)({},e);if(s){const n=s((0,i.Z)({},l),t,r,a);if(!1===n)return!1;l=n||e}return l.content&&(l.content=l.content.reduce(((e,i,r)=>{if(!i)return e;const s=o(i,{node:l,parent:t},n,r,a+1);return!1!==s&&e.push(s),e}),[])),l}},41595:(e,t,n)=>{"use strict";n.d(t,{Z:()=>v});var i=n(991332),r=n(122551),o=n(321534),a=n(131436),s=n(676424),l=n(961086);const c=(e,t)=>(0,o.iv)((0,i.Z)((0,i.Z)({display:"block",margin:"var(--ds-space-0, 0px)",color:`var(--ds-text, ${a.xA})`},t&&{overflowX:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}),e&&{color:`var(--ds-text-subtlest, ${a.iw})`,fontSize:"0.85em"})),u=({isSecondary:e,children:t,shouldTruncate:n})=>(0,o.tZ)("span",{css:c(e,n)},t);var d=n(553454);const f=(0,o.iv)({minWidth:0,maxWidth:"100%",paddingLeft:"var(--ds-space-100, 8px)",flex:"1 1 100%",lineHeight:"1.4"}),h=(e,{backgroundColor:t,isInteractive:n,isDisabled:i})=>e`
    align-items: center;
    background-color: ${t};
    border-radius: ${(0,s.E0)()}px;
    border: ${l.YF}px solid transparent;
    box-sizing: border-box;
    color: inherit;
    display: flex;
    font-size: inherit;
    font-style: normal;
    font-weight: normal;
    line-height: 1;
    outline: none;
    margin: ${"var(--ds-space-0, 0px)"};
    padding: ${"var(--ds-space-050, 4px)"};
    text-align: left;
    text-decoration: none;
    width: 100%;

    ${n&&`\n        :hover {\n          background-color: var(--ds-background-neutral-subtle-hovered, ${(0,a.$n)()});\n          cursor: pointer;\n          text-decoration: none;\n        }\n\n        :focus {\n          outline: none;\n          border-color: var(--ds-border-focused, ${a.VY});\n        }\n\n        :active {\n          background-color: var(--ds-background-neutral-subtle-pressed, ${(0,a.hu)()});\n        }\n      `}

    ${i&&"\n        cursor: not-allowed;\n        opacity: var(--ds-opacity-disabled, 0.5);\n        pointer-events: none;\n      "}
  `,p=(0,r.forwardRef)((({avatar:e,backgroundColor:t="transparent",children:n,isTruncationDisabled:a,href:s,isDisabled:l,onClick:c,primaryText:p,secondaryText:v,target:g,testId:y,label:m},_)=>(0,o.tZ)(o.ms,null,(({css:x})=>{const b=(0,i.Z)((0,i.Z)((0,i.Z)((0,i.Z)({ref:_,className:h(x,{backgroundColor:t,isInteractive:Boolean(c||s),isDisabled:l})},l?{disabled:!0}:(0,i.Z)((0,i.Z)({},s&&(0,d.LR)(s,g)),c&&!s?(0,d._m)(c):{onClick:c})),y&&((e,t)=>t?{testId:`${e}--itemInner`}:{"data-testid":`${e}--itemInner`})(y,n)),(c||s)&&{"aria-label":m}),{},{children:(0,o.tZ)(r.Fragment,null,e,(0,o.tZ)("div",{css:f},(0,o.tZ)(u,{shouldTruncate:!a},p),(0,o.tZ)(u,{isSecondary:!0,shouldTruncate:!a},v)))});return n?n(b):(0,r.createElement)((0,d.hQ)(l,s,c),b)}))));p.displayName="AvatarItem";const v=p},475117:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,r=(i=n(122551))&&i.__esModule?i:{default:i},o=n(386056);const a=e=>r.default.createElement(o.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><g fill-rule="evenodd"><circle fill="currentColor" cx="12" cy="12" r="10"/><path d="M9.707 11.293a1 1 0 10-1.414 1.414l2 2a1 1 0 001.414 0l4-4a1 1 0 10-1.414-1.414L11 12.586l-1.293-1.293z" fill="inherit"/></g></svg>'},e));a.displayName="CheckCircleIcon";var s=a;t.default=s},615139:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,r=(i=n(122551))&&i.__esModule?i:{default:i},o=n(386056);const a=e=>r.default.createElement(o.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M8.292 10.293a1.009 1.009 0 000 1.419l2.939 2.965c.218.215.5.322.779.322s.556-.107.769-.322l2.93-2.955a1.01 1.01 0 000-1.419.987.987 0 00-1.406 0l-2.298 2.317-2.307-2.327a.99.99 0 00-1.406 0z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));a.displayName="ChevronDownIcon";var s=a;t.default=s},218986:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,r=(i=n(122551))&&i.__esModule?i:{default:i},o=n(386056);const a=e=>r.default.createElement(o.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M12 10.586L6.707 5.293a1 1 0 00-1.414 1.414L10.586 12l-5.293 5.293a1 1 0 001.414 1.414L12 13.414l5.293 5.293a1 1 0 001.414-1.414L13.414 12l5.293-5.293a1 1 0 10-1.414-1.414L12 10.586z" fill="currentColor"/></svg>'},e));a.displayName="CrossIcon";var s=a;t.default=s},284469:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,r=(i=n(122551))&&i.__esModule?i:{default:i},o=n(386056);const a=e=>r.default.createElement(o.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><g fill="currentColor"><path d="M21 17H4.995C4.448 17 4 16.548 4 15.991V6a1 1 0 10-2 0v9.991A3.004 3.004 0 004.995 19H21a1 1 0 000-2zm-3-8v3a1 1 0 002 0V8a1 1 0 00-1-1h-4a1 1 0 000 2h3z"/><path d="M13.293 13.707a1 1 0 001.414 0l4-4a1 1 0 10-1.414-1.414L14 11.586l-2.293-2.293a1 1 0 00-1.414 0l-4 4a1 1 0 001.414 1.414L11 11.414l2.293 2.293z"/></g></svg>'},e));a.displayName="GraphLineIcon";var s=a;t.default=s},57047:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,r=(i=n(122551))&&i.__esModule?i:{default:i},o=n(386056);const a=e=>r.default.createElement(o.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><g fill="currentColor" fill-rule="evenodd"><path d="M19 7c1.105.003 2 .899 2 2.006v9.988A2.005 2.005 0 0118.994 21H9.006A2.005 2.005 0 017 19h11c.555 0 1-.448 1-1V7zM3 5.006C3 3.898 3.897 3 5.006 3h9.988C16.102 3 17 3.897 17 5.006v9.988A2.005 2.005 0 0114.994 17H5.006A2.005 2.005 0 013 14.994V5.006zM5 5v10h10V5H5z" fill-rule="nonzero"/><path d="M9.577 6.77l-.814 1.743-1.867.287a.473.473 0 00-.263.794l1.365 1.405-.317 1.955a.465.465 0 00.686.487L10 12.535l1.633.906a.465.465 0 00.686-.487l-.317-1.955 1.364-1.405a.47.47 0 00-.263-.794l-1.866-.287-.815-1.743A.468.468 0 0010 6.5c-.175 0-.343.1-.423.27z"/></g></svg>'},e));a.displayName="HighlightsIcon";var s=a;t.default=s},852665:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(321534);const r=(0,i.iv)({width:"1px",height:"1px",padding:"0",position:"absolute",border:"0",clip:"rect(1px, 1px, 1px, 1px)",overflow:"hidden",whiteSpace:"nowrap"}),o=({children:e,testId:t,role:n,id:o})=>(0,i.tZ)("span",{id:o,"data-testid":t,css:r,role:n},e)},600888:(e,t,n)=>{"use strict";e.exports=n.p+"EYmo3j5SbB.svg"},424115:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return-(0,r.default)(e,t)};var i,r=(i=n(654753))&&i.__esModule?i:{default:i};e.exports=t.default},250230:(e,t,n)=>{"use strict";e.exports={format:n(401663),formatInTimeZone:n(849655),getTimezoneOffset:n(424115),toDate:n(807911),utcToZonedTime:n(463425),zonedTimeToUtc:n(344440)}},344440:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){if("string"==typeof e&&!e.match(o.default)){var s=(0,i.default)(n);return s.timeZone=t,(0,r.default)(e,s)}var l=(0,r.default)(e,n),c=Date.UTC(l.getFullYear(),l.getMonth(),l.getDate(),l.getHours(),l.getMinutes(),l.getSeconds(),l.getMilliseconds()),u=(0,a.default)(t,new Date(c));return new Date(c+u)};var i=s(n(783372)),r=s(n(807911)),o=s(n(266604)),a=s(n(654753));function s(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}}]);
//# sourceMappingURL=32651.Gi7bLQmjK2.js.map