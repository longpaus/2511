(self._cf=self._cf||[]).push([[79715],{307271:(e,t,n)=>{"use strict";n.d(t,{s:()=>s});var o=n(122551),a=n(474258),r=n.n(a),i=n(38952),l=n(60244);function s(e){var t=e.children,n=e.innerRef,a=o.useContext(i.mq),s=o.useCallback((function(e){(0,l.k$)(n,e),(0,l.DL)(a,e)}),[n,a]);return o.useEffect((function(){return function(){return(0,l.k$)(n,null)}}),[]),o.useEffect((function(){r()(Boolean(a),"`Reference` should not be used outside of a `Manager` component.")}),[a]),(0,l.$p)(t)({ref:s})}},461654:e=>{e.exports=function(e,t){t=t||{};var n,o,a,r=e.ownerDocument||e,i=[],l=[],s=function(e){var t=[];function n(o,a){if(o===e.documentElement)return!1;for(var r=0,i=t.length;r<i;r++)if(t[r][0]===o)return t[r][1];var l=!1;return"none"===(a=a||e.defaultView.getComputedStyle(o)).display?l=!0:o.parentNode&&(l=n(o.parentNode)),t.push([o,l]),l}return function(t){if(t===e.documentElement)return!1;var o=e.defaultView.getComputedStyle(t);return!!n(t,o)||"hidden"===o.visibility}}(r),c=["input","select","a[href]","textarea","button","[tabindex]"],u=e.querySelectorAll(c.join(","));if(t.includeContainer){var d=Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector;c.some((function(t){return d.call(e,t)}))&&(u=Array.prototype.slice.apply(u)).unshift(e)}for(var p=0,f=u.length;p<f;p++)n=u[p],o=parseInt(n.getAttribute("tabindex"),10),(a=isNaN(o)?n.tabIndex:o)<0||"INPUT"===n.tagName&&"hidden"===n.type||n.disabled||s(n,r)||(0===a?i.push(n):l.push({index:p,tabIndex:a,node:n}));var m=l.sort((function(e,t){return e.tabIndex===t.tabIndex?e.index-t.index:e.tabIndex-t.tabIndex})).map((function(e){return e.node}));return Array.prototype.push.apply(m,i),m}},450227:(e,t,n)=>{"use strict";n.r(t),n.d(t,{MenuComponent:()=>C,SpaceViewsMenu:()=>h});var o=n(991332),a=n(122551),r=n(464984),i=n(883383),l=n(603494),s=n(621070),c=n(280202),u=n(824464),d=n(281743),p=n(112261),f=n(28201),m=n(857937),v=n(977650);const b=(0,f.ui)({__loadable_id__:"l2OT9",name:"SpaceViewsMenuContentLoader",loader:async()=>(await Promise.all([n.e(61769),n.e(20223)]).then(n.bind(n,545641))).SpaceViewsMenuContent}),y=(0,m.r)((async()=>(await Promise.all([n.e(78248),n.e(54936),n.e(11216),n.e(30186)]).then(n.bind(n,943799))).fireSpaceViewsOptionClickedAnalytics)),g=(0,m.r)((async()=>(await Promise.all([n.e(78248),n.e(54936),n.e(11216),n.e(30186)]).then(n.bind(n,943799))).fireSpaceViewsTriggerClickedAnalytics)),k=(0,r.defineMessages)({menuTooltip:{id:"space-views.space.menu.tooltip",defaultMessage:"View pages differently"}}),C=({selection:e,setSelection:t,intl:n})=>{const[r,l]=(0,a.useState)(!1),f=(0,a.useCallback)((()=>{l(!1)}),[l]),{createAnalyticsEvent:m}=(0,s._)(),C=(0,a.useRef)(null),h=(e=>{{const[t,n]=(0,a.useState)(!1),o=new IntersectionObserver((([e])=>n(e.isIntersecting)));return(0,a.useEffect)((()=>(o.observe(e.current),()=>{o.disconnect()}))),t}})(C);(0,a.useEffect)((()=>{h||r&&l(!1)}),[h,r]);const x=y(m,e),w=(0,a.useCallback)((e=>{t(e),l(!1),x(e)}),[t,x]),E=g(m,e),O=(0,a.useCallback)((e=>{e.stopPropagation(),e.preventDefault(),l((e=>!e)),E()}),[E]);return a.createElement("div",{ref:C},a.createElement(u.Z,{isOpen:r,onClose:f,content:t=>a.createElement(b,(0,o.Z)({selection:e,setSelection:w,intl:n},t)),trigger:e=>a.createElement("div",{onClick:e=>e.preventDefault()},a.createElement(p.Z,{content:a.createElement(i.Z,(0,o.Z)({},k.menuTooltip)),hideTooltipOnMouseDown:!0},a.createElement(v.j2,(0,o.Z)((0,o.Z)({},e),{},{onClick:O,isOpen:r,"aria-label":n.formatMessage(k.menuTooltip)}),a.createElement(d.default,{label:"",size:"medium"}))),a.createElement(c.Z,{isTinted:!1,shouldAllowClickThrough:!r,onBlanketClicked:f})),placement:"bottom-start"}))};C.displayName="MenuComponent";const h=(0,l.ZP)(C)},280202:(e,t,n)=>{"use strict";n.d(t,{Z:()=>y});var o=n(991332),a=n(122551),r=n(321534),i=n(781578),l=n(437705),s=n(131436),c=n(529845),u=n(676424);const d={componentName:"blanket",packageName:"@atlaskit/blanket",packageVersion:"12.3.5"},p=(0,r.iv)({position:"fixed",zIndex:u.ug.blanket(),top:0,right:0,bottom:0,left:0,overflowY:"auto",pointerEvents:"initial"}),f=(0,r.iv)({pointerEvents:"none"}),m=(0,r.iv)({backgroundColor:"transparent"}),v={light:(0,r.iv)({backgroundColor:`var(--ds-blanket, ${s.Kz})`}),dark:(0,r.iv)({backgroundColor:`var(--ds-blanket, ${s.dU})`})},b=(0,a.memo)((0,a.forwardRef)((function({shouldAllowClickThrough:e=!1,isTinted:t=!1,onBlanketClicked:n=l.Z,testId:s,children:u,analyticsContext:b},y){const{mode:g}=(0,c.m)(),k=(0,i.B)((0,o.Z)({fn:n,action:"clicked",analyticsData:b},d)),C=(0,a.useCallback)((e=>e.currentTarget===e.target?k(e):void 0),[k]),h=e?void 0:C;return(0,r.tZ)("div",{role:"presentation",css:[p,e&&f,v[g],!t&&m],onClick:h,"data-testid":s,ref:y},u)})));b.displayName="Blanket";const y=b},281743:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,a=(o=n(122551))&&o.__esModule?o:{default:o},r=n(386056);const i=e=>a.default.createElement(r.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><g fill="currentColor" fill-rule="evenodd"><circle cx="5" cy="12" r="2"/><circle cx="12" cy="12" r="2"/><circle cx="19" cy="12" r="2"/></g></svg>'},e));i.displayName="MoreIcon";var l=i;t.default=l},824464:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});const o=n(657881).G},657881:(e,t,n)=>{"use strict";n.d(t,{G:()=>h});var o=n(122551),a=n(321534),r=n(38952),i=n(307271),l=n(52054),s=n(676424),c=n(953307),u=n(485855),d=n(131436);const p=({children:e,update:t})=>{const n=(0,o.useRef)(!0);return(0,o.useLayoutEffect)((()=>{n.current?n.current=!1:t()}),[t]),o.createElement(o.Fragment,null,e)};var f=n(451598),m=n(437705);var v=n(450509),b=n.n(v);const y=(0,a.iv)({display:"block",boxSizing:"border-box",zIndex:s.ug.layer(),flex:"1 1 auto",backgroundColor:`var(--ds-surface-overlay, ${d.N0})`,borderRadius:`${(0,s.E0)()}px`,boxShadow:`var(--ds-shadow-overlay, 0 4px 8px -2px ${d.Nx}, 0 0 1px ${d.VG})`,overflow:"auto",":focus":{outline:"none"}}),g=(0,o.forwardRef)(((e,t)=>(0,a.tZ)("div",(0,c.Z)({css:y},e,{ref:t}))));const k=function({isOpen:e,id:t,offset:n,testId:r,content:i,fallbackPlacements:l,onClose:s,boundary:c,rootBoundary:d,shouldFlip:v,placement:y="auto",popupComponent:k=g,autoFocus:C=!0,triggerRef:h,shouldUseCaptureOnOutsideClick:x}){const[w,E]=(0,o.useState)(null),[O,Z]=(0,o.useState)(null);(({popupRef:e,initialFocusRef:t})=>{(0,o.useEffect)((()=>{if(!e)return m.Z;const n={clickOutsideDeactivates:!0,escapeDeactivates:!0,initialFocus:t||e,fallbackFocus:e,returnFocusOnDeactivate:!0},o=b()(e,n);let a=requestAnimationFrame((()=>{a=null,o.activate()}));return()=>{null!=a&&(cancelAnimationFrame(a),a=null),o.deactivate()}}),[e,t])})({initialFocusRef:O,popupRef:w}),(({isOpen:e,onClose:t,popupRef:n,triggerRef:a,shouldUseCaptureOnOutsideClick:r})=>{(0,o.useEffect)((()=>{if(!e||!n)return m.Z;const o=e=>{t&&t(e)};return(0,f.Ev)(window,[{type:"click",listener:e=>{const{target:t}=e;if(!document.body.contains(t))return;const r=n&&n.contains(t),i=a&&a.contains(t);r||i||o(e)},options:{capture:r}},{type:"keydown",listener:e=>{const{key:t}=e;"Escape"!==t&&"Esc"!==t||o(e)}}])}),[e,t,n,a,r])})({isOpen:e,onClose:s,popupRef:w,triggerRef:h,shouldUseCaptureOnOutsideClick:x});const I=(0,o.useMemo)((()=>[{name:"flip",enabled:v,options:{rootBoundary:d,boundary:c,fallbackPlacements:l}}]),[v,d,c,l]);return(0,a.tZ)(u.r,{placement:y,offset:n,modifiers:I},(({ref:n,style:o,placement:l,update:c})=>(0,a.tZ)(k,{id:t,"data-placement":l,"data-testid":r,ref:e=>{e&&("function"==typeof n?n(e):n.current=e,E(e))},style:o,tabIndex:C?0:void 0},(0,a.tZ)(p,{update:c},i({update:c,isOpen:e,onClose:s,setInitialFocusRef:Z})))))},C=s.ug.layer(),h=(0,o.memo)((({isOpen:e,id:t,offset:n,testId:s,trigger:c,content:u,onClose:d,boundary:p,rootBoundary:f="viewport",shouldFlip:m=!0,placement:v="auto",fallbackPlacements:b,popupComponent:y,autoFocus:g=!0,zIndex:h=C,shouldUseCaptureOnOutsideClick:x=!1})=>{const[w,E]=(0,o.useState)(null);return(0,a.tZ)(r.dK,null,(0,a.tZ)(i.s,null,(({ref:n})=>c({ref:t=>{t&&e&&("function"==typeof n?n(t):n.current=t,E(t))},"aria-controls":t,"aria-expanded":e,"aria-haspopup":!0}))),e&&(0,a.tZ)(l.Z,{zIndex:h},(0,a.tZ)(k,{content:u,isOpen:e,placement:v,fallbackPlacements:b,boundary:p,rootBoundary:f,shouldFlip:m,offset:n,popupComponent:y,id:t,testId:s,onClose:d,autoFocus:g,shouldUseCaptureOnOutsideClick:x,triggerRef:w})))}))}}]);
//# sourceMappingURL=79715.RNJKBasLiG.js.map