"use strict";(self._cf=self._cf||[]).push([[12288],{44865:(e,t,r)=>{r.d(t,{Z:()=>x});var n=r(484612),a=r(15732),c=r(996189),i=r(220926),o=r(515819),s=r(839870),u=r(220287),l=r(29298),d=r(122551),f=r(64172),p=r.n(f),y=r(782380);function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,u.Z)(e);if(t){var a=(0,u.Z)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,s.Z)(this,r)}}var m={getAtlaskitAnalyticsContext:p().func,getAtlaskitAnalyticsEventHandlers:p().func},b=function(){return[]},h=function(e){(0,o.Z)(r,e);var t=v(r);function r(e){var c;return(0,a.Z)(this,r),c=t.call(this,e),(0,l.Z)((0,i.Z)(c),"getChildContext",(function(){return{getAtlaskitAnalyticsContext:c.getAnalyticsContext}})),(0,l.Z)((0,i.Z)(c),"getAnalyticsContext",(function(){var e=c.props.data,t=c.context.getAtlaskitAnalyticsContext,r=void 0===t?b:t;return[].concat((0,n.Z)(r()),[e])})),(0,l.Z)((0,i.Z)(c),"getAnalyticsEventHandlers",(function(){var e=c.context.getAtlaskitAnalyticsEventHandlers;return(void 0===e?b:e)()})),c.contextValue={getAtlaskitAnalyticsContext:c.getAnalyticsContext,getAtlaskitAnalyticsEventHandlers:c.getAnalyticsEventHandlers},c}return(0,c.Z)(r,[{key:"render",value:function(){var e=this.props.children;return d.createElement(y.Z.Provider,{value:this.contextValue},e)}}]),r}(d.Component);(0,l.Z)(h,"contextTypes",m),(0,l.Z)(h,"childContextTypes",m);const A=h;var C=r(701986),E=r(315741);const g=function(e){var t=e.data,r=e.children,a=(0,E.V)(t),c=(0,C.O)(),i=(0,d.useCallback)((function(){return[].concat((0,n.Z)(c.getAtlaskitAnalyticsContext()),[a.current])}),[c,a]),o=(0,d.useMemo)((function(){return{getAtlaskitAnalyticsContext:i,getAtlaskitAnalyticsEventHandlers:c.getAtlaskitAnalyticsEventHandlers}}),[c,i]);return d.createElement(y.Z.Provider,{value:o},r)};var Z;const x="undefined"!=typeof process&&null!==process&&null!==(Z=process.env)&&void 0!==Z&&Z.ANALYTICS_NEXT_MODERN_CONTEXT?g:A},130860:(e,t,r)=>{r.d(t,{Z:()=>d});var n=r(953307),a=r(122551),c=r(90055),i=r(29298),o=r(930769);function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){(0,i.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,r=(0,c._)(),n=r.createAnalyticsEvent,s=(0,a.useRef)({}),l=(0,a.useMemo)((function(){var r=s.current;return Object.keys(r).filter((function(t){return!(t in e)})).forEach((function(e){return delete r[e]})),Object.keys(e).reduce((function(a,c){var s=e[c];if(!["object","function"].includes((0,o.Z)(s)))return a;var l=t[c];if(c in r&&r[c].eventCreator===s&&r[c].propValue===l)return u(u({},a),{},(0,i.Z)({},c,r[c].wrappedCallback));var d=function(){var e="function"==typeof s?s(n,t):n(s);if(l&&"function"==typeof l){for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];l.apply(void 0,a.concat([e]))}};return r[c]={eventCreator:s,wrappedCallback:d,propValue:l},u(u({},a),{},(0,i.Z)({},c,d))}),{})}),[e,t,n,s]);return{patchedEventProps:l}}const d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t){var r=(0,a.forwardRef)((function(r,i){var o=l(e,r).patchedEventProps,s=(0,c._)().createAnalyticsEvent;return a.createElement(t,(0,n.Z)({},r,o,{createAnalyticsEvent:s,ref:i}))}));return r.displayName="WithAnalyticsEvents(".concat(t.displayName||t.name,")"),r}}},60876:(e,t,r)=>{r.d(t,{Z:()=>n});const n=function(e){return function(t){return function(r){var n=r(t),a=n.clone();return a&&a.fire(e),n}}}},373839:(e,t,r)=>{r.d(t,{Rq:()=>n,go:()=>a,Jj:()=>c,LD:()=>i,gK:()=>o,eN:()=>s,oH:()=>u,G4:()=>l,CV:()=>d,dG:()=>f});class n extends Error{constructor(e,t){super(e),this.primaryReason=e,this.secondaryError=t,Object.setPrototypeOf(this,new.target.prototype),"captureStackTrace"in Error&&Error.captureStackTrace(this,new.target)}}class a extends n{constructor(e,t){super(e,t),this.primaryReason=e,this.secondaryError=t}}class c extends n{constructor(e,t){super(e,t),this.primaryReason=e,this.secondaryError=t}}class i extends n{constructor(e,t){super(e,t),this.primaryReason=e,this.secondaryError=t}}class o extends n{constructor(e){super((e=>{switch(e){case"cache-remote":return"cache-remote-uri";case"cache-local":return"cache-local-uri";case"external":return"external-uri";case"local":return"local-uri";case"remote":return"remote-uri";default:return"unknown-uri"}})(e))}}function s(e){return e instanceof n}const u=e=>e instanceof a,l=e=>s(e)&&"local-preview-unsupported"===e.primaryReason;const d=(e,t,r)=>s(t)?r&&t.primaryReason!==e?new n(e,t.secondaryError):t:new n(e,t),f=e=>e&&"upload"===e.primaryReason},411299:(e,t,r)=>{r.d(t,{tH:()=>d,s:()=>f,A7:()=>p,De:()=>y,DU:()=>v,dl:()=>m,np:()=>b,C2:()=>h,dO:()=>Z,dg:()=>x,rw:()=>R,Ln:()=>O,Iw:()=>j,Jn:()=>w,LO:()=>k,Jo:()=>T});var n=r(991332),a=r(612972),c=r(388484),i=r(316864),o=r(632490),s=r(60876),u=r(373839);const l={newCardExperience:!0,captions:!0,timestampOnVideo:!0,observedWidth:!0,mediaInline:!1,folderUploads:!1,memoryCacheLogging:!0,fetchFileStateAfterUpload:!0},d=(0,i.q8)(l),f=(0,i.WH)(l),p=(e,t)=>({fileMediatype:e.mediaType,fileMimetype:e.mimeType,fileId:e.id,fileSize:e.size,fileStatus:t}),y=e=>({eventType:"screen",action:"viewed",actionSubject:"mediaCardRenderScreen",name:"mediaCardRenderScreen",attributes:{type:e.fileMediatype,fileAttributes:e}}),v=(e,t,r)=>({eventType:"operational",action:"commenced",actionSubject:"mediaCardRender",attributes:{fileAttributes:e,performanceAttributes:t,traceContext:{traceId:r.traceId}}}),m=(e,t,r,n,a)=>({eventType:"operational",action:"succeeded",actionSubject:"mediaCardRender",attributes:{fileAttributes:e,performanceAttributes:t,status:"success",ssrReliability:r,traceContext:n,metadataTraceContext:a}}),b=e=>({eventType:"operational",action:"cache-hit",actionSubject:"mediaCardCache",attributes:{cardPreviewAttributes:e}}),h=e=>({eventType:"operational",action:"Remote-success",actionSubject:"mediaCardCache",attributes:{cardPreviewAttributes:e}}),A=e=>(0,u.eN)(e)?e.primaryReason:"nativeError",C=e=>{if((0,u.eN)(e)&&e.secondaryError){const t=(0,a.r)(e.secondaryError);if("unknown"!==t)return t}return"nativeError"},E=e=>(0,u.eN)(e)&&e.secondaryError?e.secondaryError.message:e.message,g=e=>{var t;if((0,u.eN)(e)&&e.secondaryError&&(0,c.N)(e.secondaryError))return null===(t=e.secondaryError.metadata)||void 0===t?void 0:t.traceContext},Z=e=>{if((0,u.eN)(e)&&e.secondaryError&&(0,c.N)(e.secondaryError))return e.secondaryError.metadata},x=(e,t)=>({failReason:A(e),error:C(e),errorDetail:E(e),metadataTraceContext:null!=t?t:g(e)}),R=(e,t,r,a,c,i)=>({eventType:"operational",action:"failed",actionSubject:"mediaCardRender",attributes:(0,n.Z)((0,n.Z)({fileAttributes:e,performanceAttributes:t,status:"fail"},x(r,i)),{},{request:Z(r),ssrReliability:a,traceContext:c})}),O=(e,t,r,a,c,i)=>({eventType:"operational",action:"nonCriticalFail",actionSubject:"mediaCardRender",attributes:(0,n.Z)((0,n.Z)({fileAttributes:t,status:"fail"},x(r,i)),{},{request:Z(r),ssrReliability:a,traceContext:c,cardStatus:e})}),j=(e,t,r,n,a)=>({eventType:"operational",action:"failed",actionSubject:"mediaCardRender",attributes:{fileAttributes:e,performanceAttributes:t,status:"fail",failReason:"failed-processing",ssrReliability:r,traceContext:n,metadataTraceContext:a}}),w=e=>({eventType:"ui",action:"copied",actionSubject:"file",actionSubjectId:e,attributes:{}});function k(e,t){if(t){t(e).fire(o.Q)}}const T=e=>(0,s.Z)(o.Q)(e)},612972:(e,t,r)=>{function n(e){return e instanceof Object&&"attributes"in e&&e.attributes instanceof Object&&"reason"in e.attributes&&e instanceof Error}function a(e){return n(e)?e.attributes.reason:"unknown"}r.d(t,{a:()=>n,r:()=>a})},632490:(e,t,r)=>{r.d(t,{Q:()=>n});const n="media"},299774:(e,t,r)=>{r.d(t,{z:()=>u});var n=r(991332),a=r(953307),c=r(122551),i=r(44865),o=r(533988),s=r(316864);const u=(e,t={})=>r=>{const u=(0,c.forwardRef)(((u,l)=>{const{featureFlags:d}=u,{filterFeatureFlags:f}=t,p=(0,c.useMemo)((()=>{const t={featureFlags:f&&d?((e,t)=>e.reduce(((e,r)=>(0,n.Z)((0,n.Z)({},e),{},{[r]:(0,s.OC)(r,t)})),{}))(f,d):d};return(0,n.Z)((0,n.Z)({},e),{},{[o.R]:(0,n.Z)({},t)})}),[f,d]);return c.createElement(i.Z,{data:p},c.createElement(r,(0,a.Z)({},u,{ref:l})))}));return u.displayName=`WithMediaAnalyticsContext(${r.displayName||r.name})`,u}}}]);
//# sourceMappingURL=12288.Jknrroecjz.js.map