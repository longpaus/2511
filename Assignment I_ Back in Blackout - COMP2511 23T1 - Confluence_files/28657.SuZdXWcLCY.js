"use strict";(self._cf=self._cf||[]).push([[28657],{324577:(e,t,n)=>{n.d(t,{Y:()=>l,$:()=>s});var o=n(122551),a=n(499082),i=n(728504),r=n(787632);const l=(0,o.createContext)({isReactionsEnabled:!1});l.displayName="CommentContext";const s=({contentId:e,children:t})=>{const{data:n}=(0,a.aM)(r.f,{variables:{contentId:e,location:i.SB},fetchPolicy:"cache-first"});let s=!1;return n&&(s=n.webPanels&&n.webPanels.length>0),o.createElement(l.Provider,{value:{isReactionsEnabled:s}},t)};s.displayName="CommentContextProvider"},330384:(e,t,n)=>{n.d(t,{gu:()=>a,ou:()=>i,X6:()=>r,a1:()=>l});var o=n(331377);const a=o.ZP`fragment authorFragment on AtlassianUser{displayName photos{isPrimary value}id}`,i=o.ZP`fragment commentDataFragment on Comment{id ancestors{id}author{type displayName profilePicture{path}...on KnownUser{accountId permissionType}...on User{accountId permissionType}}body(representation:ATLAS_DOC_FORMAT){value}contentStatus isLikedByCurrentUser likeCount links{webui}parentId permissions{isEditable isRemovable}version{friendlyWhen number when by{type displayName ...on KnownUser{accountId}...on User{accountId}}}}`,r=(o.ZP`fragment contentCommentListFragment on PaginatedContentList{count pageInfo{hasNextPage endCursor}}`,o.ZP`fragment commentListFragment on PaginatedCommentList{totalCount pageInfo{hasNextPage endCursor}}`),l=o.ZP`fragment contentFragment on Content{id operations{operation targetType}space{id homepageId}type history{createdBy{...on KnownUser{accountId}...on User{accountId}}}}`},292004:(e,t,n)=>{n.d(t,{q:()=>i});var o=n(331377),a=n(330384);const i=o.ZP`query CommentsSectionQuery($offset:String$first:Long$contentId:ID!$isPoweredByConfluenceMobileEnabled:Boolean=false){comments(pageId:$contentId type:FOOTER depth:ALL first:$first after:$offset){...commentListFragment edges{cursor node{...commentDataFragment reactionsSummary(pageId:$contentId contentType:"page" childType:"comment"){ari containerAri reactionsCount reactionsSummaryForEmoji{id emojiId count reacted}}commentSource@include(if:$isPoweredByConfluenceMobileEnabled)}}}content(id:$contentId){nodes{...contentFragment}}user(current:true){...authorFragment}}${a.gu}${a.a1}${a.X6}${a.ou}`},588745:(e,t,n)=>{n.d(t,{t:()=>o});const o={HEADER:"header",FOOTER:"footer"}},455522:(e,t,n)=>{n.d(t,{CW:()=>o,Sg:()=>a});const o="confluence.frontend.page.editorconversion",a="confluence.frontend.fabric.editor.all-pages"},664199:(e,t,n)=>{n.d(t,{K:()=>r});var o=n(29298),a=n(507080);const i={isSurveyTriggered:!1,source:""};class r extends a.W2{constructor(...e){super(...e),(0,o.Z)(this,"state",i),(0,o.Z)(this,"triggerSurvey",(({source:e})=>{this.setState({isSurveyTriggered:!0,source:e})})),(0,o.Z)(this,"resetTrigger",(()=>{this.state.isSurveyTriggered&&this.setState((e=>({isSurveyTriggered:!1,source:e.source})))}))}}},454454:(e,t,n)=>{n.d(t,{A:()=>o});const o=n(331377).ZP`query OnboardingLabelsQuery($contentId:ID!$status:[String]){content(id:$contentId status:$status){nodes{id labels{nodes{id label}}}}}`},515137:(e,t,n)=>{n.d(t,{o:()=>a,K:()=>i});var o=n(331377);const a=o.ZP`query GetOnboardingState($key:[String]){onboardingState(key:$key){key value}}`,i=o.ZP`mutation SetOnboardingState($key:String$value:String)@experimental{experimentalSetOnboardingState(key:$key value:$value){key value}}`},555543:(e,t,n)=>{n.d(t,{c:()=>o});const o={PERSISTENT_UPGRADE_EXPERIMENT:"confluence.frontend.growth.experiments.persistent.upgrade",ONBOARDING_EXP_FLAG:"confluence.frontend.onboarding.experience",ADMIN_QUICKSTART_V2:"confluence.frontend.onboarding.admin-quickstart-v2",MIGRATIONS_QUICKSTART:"confluence.frontend.onboarding.migrations.quickstart",CACHE_ONBOADING_STATE:"confluence.frontend.onboarding.cache.state",INVITE_DOMAIN_ACCESS:"confluence.frontend.onboarding-invite-domain-access",SWITCHER_JOINABLE_PRODUCTS_FF:"confluence.frontend.enable.joinable-products",NTH_USER_QUICKSTART:"confluence.frontend.onboarding.nth.user.quickstart",JSW_XFLOW_USER_QUICKSTART:"confluence.frontend.onboarding.xflow.jsw",EDITOR_ONBOARDING_USER_TAGGING:"confluence.frontend.onboarding.editor-onboarding.user-tagging",EASY_MENTIONS_PLACEHOLDER_FEATURE_FLAG:"confluence.frontend.easy.mentions.placeholder",MIGRATIONS_USER_TAGGING:"confluence.frontend.onboarding.migrations.user-tagging",MIGRATIONS_SITE_TRAITS:"confluence.frontend.onboarding.migrations.site-traits",IMPORT_RELEVANCE:"confluence.frontend.onboarding.import-relevance"}},392852:(e,t,n)=>{n.d(t,{F:()=>a,z:()=>i});var o=n(555543);const{EDITOR_ONBOARDING_USER_TAGGING:a}=o.c,i=(e,t=!0)=>e.getBooleanValue(a,{default:!1,shouldTrackExposureEvent:t})},485226:(e,t,n)=>{n.d(t,{C:()=>i});var o=n(555543);const{ONBOARDING_EXP_FLAG:a}=o.c,i=(e,t=!0)=>e.getBooleanValue(a,{default:!1,shouldTrackExposureEvent:t})},206638:(e,t,n)=>{n.d(t,{Hi:()=>s,Gs:()=>c,Si:()=>d,B8:()=>u,wA:()=>m});var o=n(331377),a=n(499082),i=n(401487),r=n(158466),l=n(515137);const s=e=>{const t={},{onboardingState:n}=e||{};return void 0!==n&&n.forEach((({key:e,value:n})=>{const o=e.split(":")[1];n&&(/(true|false)/g.test(n)?t[o]="true"===n:t[o]=n)})),t},c=()=>{const[e,{error:t}]=(0,a.Db)(l.K,{update(e,{data:t}){const n=t.experimentalSetOnboardingState,{key:a,value:i}=n;e.writeFragment({id:a,fragment:o.ZP`fragment myKey on OnboardingState{key value}`,data:{key:a,value:i,__typename:"OnboardingState"}})},onError:e=>{"unauthorized"===e.graphQLErrors[0].message&&(0,i.Xb)(e)}});return{setOnboardingState:({key:t,value:n})=>e({variables:{key:t,value:n},optimisticResponse:{experimentalSetOnboardingState:{key:t,value:n,__typename:"OnboardingState"}}}),error:t}},d=(e,t=!1)=>{const{isLoggedIn:n,isLicensed:o}=(0,r.D)(),i=t||(!n||!o),{data:s,error:c,loading:d,refetch:u}=(0,a.aM)(l.o,{variables:{key:e},skip:i});return{data:s,error:c,loading:d,refetch:u}},u=async(e,t)=>await e.query({query:l.o,variables:{key:t}}),m=async(e,{key:t,value:n})=>await e.mutate({mutation:l.K,variables:{key:t,value:n},update(e){e.writeFragment({id:t,fragment:o.ZP`fragment myKey on OnboardingState{key value}`,data:{key:t,value:n,__typename:"OnboardingState"}})}})},451745:(e,t,n)=>{n.d(t,{g:()=>s});var o=n(499082),a=n(213489),i=n(401487),r=n(454454),l=n(134431);const s=e=>{var t,n,s,c;const{contentId:d,skip:u}=e,{data:m,loading:g,error:f}=(0,o.aM)(r.A,{variables:{contentId:d,status:["current","draft"]},skip:u}),E=(null==m||null===(t=m.content)||void 0===t||null===(n=t.nodes)||void 0===n||null===(s=n[0])||void 0===s||null===(c=s.labels)||void 0===c?void 0:c.nodes)||[],p=Boolean(E.find((e=>(null==e?void 0:e.label)===l.z7)));return f&&(0,a.T)(f)&&(0,i.Xb)(f),{isOnboardingTemplate:p,labelsData:m,labelsLoading:g,labelsError:f}}},449577:(e,t,n)=>{n.d(t,{n:()=>o});const o=n(331377).ZP`fragment inlineCommentFragment on Comment{id body(representation:ATLAS_DOC_FORMAT){value}contentStatus links{webui}location{...on InlineComment{type inlineMarkerRef inlineResolveProperties{resolvedTime resolvedUser}}}parentId permissions{isEditable isRemovable isResolvable}version{when number}author{displayName profilePicture{path}permissionType ...on KnownUser{accountId}...on User{accountId}}}`},4521:(e,t,n)=>{n.d(t,{n:()=>i});var o=n(331377),a=n(449577);const i=o.ZP`query InlineCommentsQuery($pageId:ID!$isPoweredByConfluenceMobileEnabled:Boolean=false){content(id:$pageId){nodes{id type space{id}operations{operation targetType}}}comments(pageId:$pageId type:UNRESOLVED depth:ROOT first:1000){nodes{...inlineCommentFragment replies{...inlineCommentFragment commentSource@include(if:$isPoweredByConfluenceMobileEnabled)}commentSource@include(if:$isPoweredByConfluenceMobileEnabled)}}}${a.n}`},892637:(e,t,n)=>{n.d(t,{O:()=>s,t:()=>c});var o=n(991332),a=n(415911),i=n(122551),r=n(358280),l=n(28201);n(579982),n(520700);const s=(0,i.forwardRef)(((e,t)=>{let{as:n="div",style:l}=e,s=(0,a.Z)(e,["as","style"]);return i.createElement(n,(0,o.Z)((0,o.Z)({},s),{},{style:l,ref:t,className:(0,r.Z)(["_1bsb1osq _4t3i1ylp",s.className])}))}));const c=(0,l.ZR)({__loadable_id__:"u3HL8",name:"ViewPageLabelsLoader",loading:()=>i.createElement(s,null),loader:async()=>(await Promise.all([n.e(12705),n.e(61769),n.e(54936),n.e(61201),n.e(55356),n.e(48661)]).then(n.bind(n,291597))).ViewPageLabels})},943876:(e,t,n)=>{n.d(t,{N:()=>o});const o=n(331377).ZP`fragment LocalActivityContentFragment on Content{id title hasRestrictions hasInheritedRestrictions space{id key}properties(keys:["emoji-title-published" "emoji-title-draft"]){nodes{id value key version{number}}}}`},184764:(e,t,n)=>{n.d(t,{o:()=>r});var o=n(122551),a=n(236928),i=n(458140);const r=({contentId:e})=>(l(e),null),l=e=>{const{track:t}=(0,i.c)();(0,o.useEffect)((()=>{t(e,a.X.viewed)}),[t,e])}},236928:(e,t,n)=>{let o;n.d(t,{X:()=>o}),function(e){e.deleted="deleted",e.viewed="viewed"}(o||(o={}))},438812:(e,t,n)=>{n.d(t,{o:()=>f,d:()=>m});var o=n(122551),a=n(499082),i=n(331377),r=n(943876);const l=i.ZP`query LocalActivityQuery{localActivity{id action timestamp content{...LocalActivityContentFragment __typename}__typename}}${r.N}`,s=i.ZP`query DehydratedLocalActivityQuery{localActivity{id action timestamp content{id __typename}__typename}}`;var c=n(236928);const d=new Set,u=e=>d.has(e.content.id||""),m=({filters:e,skip:t}={})=>{const{data:n}=(0,a.aM)(l,{fetchPolicy:"cache-only",skip:t}),i=(0,o.useCallback)((e=>{d.add(e)}),[]),r={viewedEvents:[],deletedContentIds:new Set,markAsConsistent:i};return((null==n?void 0:n.localActivity)||[]).forEach((t=>{g(t,e)&&(t.action===c.X.viewed?r.viewedEvents.push(t):t.action===c.X.deleted&&r.deletedContentIds.add(t.content.id||""))})),r},g=(e,t)=>{var n;return!u(e)&&(!t||t.spaceKey===(null===(n=e.content.space)||void 0===n?void 0:n.key))},f=({contentId:e,action:t},n)=>{let o=[];try{const e=n.readQuery({query:s});o=(null==e?void 0:e.localActivity.filter((e=>!u(e))).slice(0,99))||[]}catch(i){}d.clear();const a={localActivity:[{id:`${e}-${t}`,action:t,timestamp:(new Date).toISOString(),content:{id:e,__typename:"Content"},__typename:"LocalActivityEvent"},...o]};n.writeQuery({query:s,data:a})}},458140:(e,t,n)=>{n.d(t,{c:()=>r});var o=n(122551),a=n(499082),i=n(438812);const r=()=>{const e=(0,a.xJ)();return{track:(0,o.useCallback)(((t,n)=>{(0,i.o)({contentId:t,action:n},e)}),[e])}}},910328:(e,t,n)=>{n.d(t,{a:()=>i});var o=n(122551),a=n(621070);const i=()=>{const{createAnalyticsEvent:e}=(0,a._)();return{fireGetEditorOnboardingStateFailed:(0,o.useCallback)((t=>{e({type:"sendOperationalEvent",data:{action:"failed",actionSubject:"getOnboardingState",actionSubjectId:"editorOnboarding",source:t}}).fire()}),[e]),fireEditorPublishSuccessFlagViewed:(0,o.useCallback)((t=>{e({type:"sendScreenEvent",data:{name:"onboardingEditorPublishSuccessFlag",attributes:{type:t}}}).fire()}),[e]),fireEditorPublishSuccessFlagLinkCopied:(0,o.useCallback)((()=>{e({type:"sendUIEvent",data:{source:"onboardingEditorPublishSuccessFlag",actionSubject:"button",action:"copyLink",actionSubjectId:"onboardingEditorPublishSuccessFlag"}}).fire()}),[e]),fireEditorModalPromptClosed:(0,o.useCallback)((()=>{e({type:"sendUIEvent",data:{source:"onboardingEditorModalPrompt",actionSubject:"button",action:"clicked",actionSubjectId:"closeButton"}}).fire()}),[e]),fireEditorModalPromptPublished:(0,o.useCallback)((()=>{e({type:"sendUIEvent",data:{source:"onboardingEditorModalPrompt",actionSubject:"button",action:"clicked",actionSubjectId:"publishButton"}}).fire()}),[e])}}},673009:(e,t,n)=>{let o;n.d(t,{H:()=>o}),function(e){e.ENROLLED="enrolled",e.NOT_ENROLLED="not-enrolled",e.CONTROL="control",e.EXPERIMENT="experiment",e.EXPERIMENT_VARIATION_1="experiment-1",e.EXPERIMENT_VARIATION_2="experiment-2"}(o||(o={}))},77243:(e,t,n)=>{n.d(t,{G:()=>o});const o={MIGRATIONS_QUICKSTART:"confluence.frontend.onboarding.migrations.quickstart",ONBOARDING_STATE_REFACTOR:"confluence.frontend.onboarding.onboarding-state-refactor",SIMPLIFY_ADMIN_SETUP:"confluence.frontend.onboarding.simplify.admin.setup",REMOVE_ROLE_SCREEN:"confluence.frontend.onboarding.remove.role.screen",NTH_USER_QUICKSTART_V2:"confluence.frontend.onboarding.nth-user-quickstart-v2",ACCOUNT_SETUP_MODAL:"confluence.frontend.onboarding.account-setup-modal",REMOVE_SINGLE_SPACE_SELECTION:"confluence.frontend.onboarding.skip-single-space-selection",PERSISTENT_INVITE:"confluence.frontend.onboarding.persistent-invite",PERSISTENT_INVITE_CALIBRATION:"confluence.frontend.onboarding.persistent-invite.calibration",REVAMP_INVITE_MODAL:"confluence.frontend.onboarding.revamp-invite-modal",IMPORT_RELEVANCE:"confluence.frontend.onboarding.import-relevance",SKIP_SPACE_NAMING:"confluence.frontend.onboarding.skip-space-naming",UPDATE_PERSONAL_SPACE_CREATION:"confluence.frontend.onboarding.update.personal.space.creation",CONTEXTUAL_INVITE_PROMPT:"confluence.frontend.onboarding.contextual-invite-prompt",HOME_AS_LANDING_PAGE:"confluence.frontend.onboarding.home-as-landing-page",INTENT_QUESTIONS_GATING:"confluence.frontend.onboarding.intent-questions.gating",INTENT_QUESTIONS_GATING_CALIBRATION:"confluence.frontend.onboarding.intent-questions.gating.calibration",INTENT_QUESTIONS_VARIATION:"confluence.frontend.onboarding.intent-questions.variation",INTENT_QUESTIONS_VARIATION_CALIBRATION:"confluence.frontend.onboarding.intent-questions.variation.calibration"}},197250:(e,t,n)=>{n.d(t,{q:()=>a});var o=n(673009);const a=(e,t,n)=>e.getVariantValue(t,{default:o.H.NOT_ENROLLED,oneOf:Object.values(o.H),shouldTrackExposureEvent:n})},142271:(e,t,n)=>{n.d(t,{w:()=>i});var o=n(673009),a=n(197250);const i=(e,t,n,i=!0)=>{const r=(0,a.q)(e,t,Boolean(i));return r===o.H.ENROLLED||r===o.H.EXPERIMENT&&/^en/i.test(n)}},362265:(e,t,n)=>{n.d(t,{VE:()=>a,S$:()=>i});var o=n(28201);const a=(0,o.ui)({__loadable_id__:"xEtN9",name:"EndOfPageRecommendation",loader:async()=>(await Promise.all([n.e(12705),n.e(61769),n.e(78248),n.e(54936),n.e(11216),n.e(89990),n.e(12953),n.e(91306),n.e(96207),n.e(99319),n.e(46003),n.e(40611),n.e(93964),n.e(38639),n.e(28201),n.e(1054),n.e(84786),n.e(43101),n.e(24751),n.e(33079),n.e(77586),n.e(15677),n.e(80241),n.e(86888),n.e(49149),n.e(33839),n.e(76793),n.e(16602),n.e(34015),n.e(95831),n.e(85803)]).then(n.bind(n,822066))).EndOfPageRecommendation}),i=(0,o.ZR)({__loadable_id__:"jnk_j",name:"EndOfPageRecAdminConfig",loader:async()=>(await Promise.all([n.e(12705),n.e(61769),n.e(78248),n.e(54936),n.e(11216),n.e(61201),n.e(96207),n.e(99319),n.e(46003),n.e(28201),n.e(84786),n.e(34015),n.e(58274)]).then(n.bind(n,501780))).EndOfPageRecAdminConfig})},114782:(e,t,n)=>{n.d(t,{M:()=>r,X:()=>l});var o=n(122551),a=n(28201),i=n(983259);const r=(0,a.ZR)({__loadable_id__:"hSxvO",name:"ReactionsLoader",loading:()=>o.createElement(i.n,{useAccuratePills:!0}),loader:async()=>(await Promise.all([n.e(61769),n.e(78248),n.e(54936),n.e(11216),n.e(89990),n.e(12953),n.e(96207),n.e(99319),n.e(38639),n.e(28201),n.e(84786),n.e(15677),n.e(11385),n.e(94338)]).then(n.bind(n,559861))).Reactions}),l=(0,a.y$)({__loadable_id__:"D7M-3",name:"ReactionsLoaderBackground",loading:()=>o.createElement(i.n,null),loader:async()=>(await Promise.all([n.e(61769),n.e(78248),n.e(54936),n.e(11216),n.e(89990),n.e(12953),n.e(96207),n.e(99319),n.e(38639),n.e(28201),n.e(84786),n.e(15677),n.e(11385),n.e(94338)]).then(n.bind(n,559861))).Reactions})},66866:(e,t,n)=>{n.d(t,{b:()=>i});var o=n(122551),a=n(772610);const i=()=>{const{getQueryParams:e}=(0,o.useContext)(a.M),{action:t,contentId:n,contentType:i,focusedCommentId:r}=e(),l=t&&"react"===t;return{focusedPageReactionsId:l&&i&&("page"===i||"blogpost"===i)&&n?n:void 0,focusedCommentReactionsId:l&&r?r:void 0}}},843392:(e,t,n)=>{let o,a;n.d(t,{S:()=>o,d:()=>a}),function(e){e.PAGE="page",e.BLOGPOST="blogpost",e.PAGE_COMMENT="page-comment",e.INLINE_COMMENT="inline-comment",e.EDITOR_INLINE_COMMENT="editor-inline-comment",e.FEED_PAGE="feed-page",e.FEED_BLOGPOST="feed-blogpost",e.FEED_COMMENT="feed-comment"}(o||(o={})),function(e){e.PAGE="page",e.BLOGPOST="blogpost",e.SPACE="space"}(a||(a={}))},243433:(e,t,n)=>{n.d(t,{k:()=>r});var o=n(122551),a=n(772610),i=n(756680);const r=({isSmooth:e})=>{const{getHash:t,getQueryParams:n}=(0,o.useContext)(a.M),r=(0,o.useRef)(t),l=(0,o.useRef)(n);return r.current=t,l.current=n,(0,o.useEffect)((()=>{const t=r.current(),n=l.current();t.length>0||["focusedCommentId"].some((e=>Boolean(n[e])))||(0,i.nK)(e)}),[r,l,e]),null}},753612:(e,t,n)=>{n.d(t,{P:()=>r});var o=n(122551),a=n(607213),i=n(933083);const r=({contentId:e,spaceKey:t,banner:n,hasByLineContributors:r,hasByLineExtensions:l,headingContainer:s})=>{const{versionOverride:c,embeddedContentRender:d}=(0,i.I)();return o.createElement(a.wW,{banner:n,contentId:e,spaceKey:t,headingContainer:s},o.createElement(a.TA,{contentId:e,versionOverride:c,embeddedContentRender:d,hasByLineContributors:r,hasByLineExtensions:l}))}},628657:(e,t,n)=>{n.d(t,{j:()=>$e});var o=n(991332),a=n(122551),i=n(17786),r=n(28201);const l=(0,r.ui)({__loadable_id__:"EBZub",name:"MobilePromo",loader:async()=>(await Promise.all([n.e(61769),n.e(78248),n.e(11216),n.e(89990),n.e(12953),n.e(83632)]).then(n.bind(n,258287))).WebToMobileQrCodePromoModal});var s=n(827704),c=n(155615);const d=(0,r.ZR)({__loadable_id__:"zb6ts",name:"CustomHeaderFooterLoader",loader:async()=>(await Promise.all([n.e(12705),n.e(27980)]).then(n.bind(n,457733))).CustomHeaderFooter});(0,r.y$)({__loadable_id__:"VYyg4",name:"CustomHeaderFooterBackgroundLoader",loader:async()=>(await Promise.all([n.e(12705),n.e(27980)]).then(n.bind(n,457733))).CustomHeaderFooter});var u=n(588745),m=n(184764),g=n(626166),f=n(876441),E=n(730983),p=n(243433),b=n(158466),y=n(483565),v=n(485226),I=n(392852),_=n(362265);const C=(0,r.ZR)({__loadable_id__:"qRlSS",name:"InlineCommentsHighlighterLoader",loader:async()=>(await n.e(3071).then(n.bind(n,449328))).InlineCommentsHighlighter});var T=n(892637),S=n(324577);const h=(0,r.ui)({__loadable_id__:"3Ayom",loader:async()=>(await Promise.all([n.e(61769),n.e(94106)]).then(n.bind(n,50011))).AutoConversion,name:"AutoConversion"});var P=n(455522);var A=n(470675),N=n(753612),R=n(507080);const O=(0,r.y$)({__loadable_id__:"1H6AN",name:"EditorSatisfactionSurvey",loader:async()=>(await n.e(79150).then(n.bind(n,253742))).EditorSatisfactionSurvey});var w=n(313873),k=n(664199),L=n(961634),F=n(213489),M=n(206638),D=n(134431),Z=n(451745),x=n(185346),G=n(415911),B=n(358280),$=n(464984),U=n(883383),X=n(274479),q=n(588022),K=n(590804),H=n(131436),V=n(451379),Q=n(199319),j=n(142271),W=n(77243),z=n(579849),Y=n(609145),J=n(405665),ee=n(910328);n(943373),n(777226);const te=(0,$.defineMessages)({flagTitleMessage:{id:"onboarding-editor.success.flag.title",defaultMessage:"You published your first page! {emoji}"},flagContentMessage:{id:"onboarding-editor.success.flag.content",defaultMessage:"Share it with your team to get feedback or kickstart a conversation."},flagCopyLinkAction:{id:"onboarding-editor.success.flag.action.message",defaultMessage:"Copy page link"},flagCopyLinkActionSuccess:{id:"onboarding-editor.success.flag.action.success.message",defaultMessage:"Link Copied to clipboard"},editorTutorialFlagTitle:{id:"onboarding-editor.tutorial.success.flag.title",defaultMessage:"Page published to your personal space"},editorTutorialFlagContent:{id:"onboarding-editor.tutorial.success.flag.content",defaultMessage:"Congrats on finishing the editor tutorial! {emoji} {br}Weâ€™ve published this page to your personal space so you can return to it anytime."},contextualInviteFlagTitle:{id:"onboarding-editor.contextual-invite.title",defaultMessage:"Next step: Share your work"},contextualInviteFlagContent:{id:"onboarding-editor.contextual-invite.content",defaultMessage:"Send an invite to a teammate to start collaborating on your new page."},contextualInviteFlagAction:{id:"onboarding-editor.contextual-invite.action",defaultMessage:"Invite people to Confluence"}}),ne=(0,a.forwardRef)(((e,t)=>{let{as:n="div",style:i}=e,r=(0,G.Z)(e,["as","style"]);return a.createElement(n,(0,o.Z)((0,o.Z)({},r),{},{style:i,ref:t,className:(0,B.Z)(["_syazhyod",r.className])}))}));const oe=(0,a.forwardRef)(((e,t)=>{let{as:n="div",style:i}=e,r=(0,G.Z)(e,["as","style"]);return a.createElement(n,(0,o.Z)((0,o.Z)({},r),{},{style:i,ref:t,className:(0,B.Z)(["_syaz2bm4",r.className])}))}));const ae="onboarding-editor.success.flag",ie="onboarding-editor.tutorial.success.flag",re="onboarding.contextual.invite.flag",le=({flags:e,showEditorTutorialPublishSuccessFlag:t=!1})=>{const[n,i]=(0,a.useState)(!1),{setOnboardingState:r}=(0,M.Gs)(),l=(0,a.useContext)(V.F),{openCoreInvites:s}=(0,a.useContext)(z.l),{featureFlagClient:c,locale:d}=(0,b.D)(),{isSiteAdmin:u,loading:m,error:g}=(0,a.useContext)(J.wu),f=!t&&(u&&!m&&!g)&&(0,j.w)(c,W.G.CONTEXTUAL_INVITE_PROMPT,d,!0),{fireEditorPublishSuccessFlagViewed:E,fireEditorPublishSuccessFlagLinkCopied:p}=(0,ee.a)();(0,a.useEffect)((()=>{const n=setTimeout((()=>{const n=f?re:ae;e.hideFlag(t?ie:n)}),8e3);l.start({name:Q.DDC});return E(t?"editorDraft":f?"contextualInviteFlag":"editorTutorial"),y(),()=>clearTimeout(n)}),[]);const y=()=>{r({key:t?D.iq.EDITOR_TUTORIAL_SUCCESS_FLAG_SEEN:D.iq.SUCCESS_FLAG_SEEN,value:"true"}),l.succeed({name:Q.DDC})},v={id:ae,type:"success-circle",title:a.createElement(U.Z,(0,o.Z)((0,o.Z)({},te.flagTitleMessage),{},{values:{emoji:"ðŸŽ‰"}})),description:a.createElement(U.Z,(0,o.Z)({},te.flagContentMessage)),actions:[{content:n?a.createElement(oe,null,a.createElement(U.Z,(0,o.Z)({},te.flagCopyLinkActionSuccess)),a.createElement(q.default,{label:"Check icon",size:"small"})):a.createElement(ne,null,a.createElement(U.Z,(0,o.Z)({},te.flagCopyLinkAction)),a.createElement(X.default,{label:"Link icon",size:"small"})),onClick:async()=>{try{await navigator.clipboard.writeText(document.location.href),i(!0),p()}catch(e){e instanceof Error&&l.fail({name:Q.DDC,error:e})}}}],onClose:()=>{e.hideFlag(ae)}},I={id:ie,type:"success-circle",title:a.createElement(U.Z,(0,o.Z)({},te.editorTutorialFlagTitle)),description:a.createElement(U.Z,(0,o.Z)((0,o.Z)({},te.editorTutorialFlagContent),{},{values:{emoji:"ðŸ¥³",br:a.createElement("br",null)}})),onClose:()=>{e.hideFlag(ie)}},_={id:re,type:"custom",customIcon:a.createElement(K.default,{label:"people-group-icon",primaryColor:H.Wn}),title:a.createElement(U.Z,(0,o.Z)({},te.contextualInviteFlagTitle)),description:a.createElement(U.Z,(0,o.Z)({},te.contextualInviteFlagContent)),actions:[{content:a.createElement(U.Z,(0,o.Z)({},te.contextualInviteFlagAction)),onClick:()=>{null==s||s(Y.Lc.ONBOARDING_INVITE_FLAG),e.hideFlag(re)}}]},C=f?_:v;return(0,a.useEffect)((()=>{e.showFlag(t?I:C)}),[n]),null},se=({hasSatisfactionSurveys:e,contentId:t})=>{const[n,o]=(0,a.useState)(!1),{data:i,error:r}=(0,M.Si)(Object.values(D.iq)),{isLicensed:l,isLoggedIn:s}=(0,b.D)(),{isOnboardingTemplate:c,labelsData:d,labelsLoading:u,labelsError:m}=(0,Z.g)({contentId:t,skip:!l||!s}),{editorOnboardingEligiblity:g,hasUserPublished:f,successFlagCompleted:E,editorTutorialSuccessFlagCompleted:p}=(0,M.Hi)(i),y=g&&!!f&&!E&&!r,v=!u&&Boolean(d)&&c&&!p&&!r,I=()=>a.createElement(a.Fragment,null,r&&a.createElement(L.X,{error:r}),m&&!(0,F.T)(m)&&a.createElement(L.X,{error:m}));if((0,a.useEffect)((()=>{(y||v)&&o(!0)}),[y,v]),n){const e=v&&!p&&Boolean(c);return a.createElement(R.xs,{to:[x.Q]},(t=>a.createElement(a.Fragment,null,m&&!(0,F.T)(m)&&a.createElement(L.X,{error:m}),a.createElement(le,{flags:t,showEditorTutorialPublishSuccessFlag:e}))))}return e?a.createElement(a.Fragment,null,a.createElement(I,null),a.createElement(O,{contentId:t,isFabricPage:!0})):a.createElement(I,null)},ce=({contentId:e,isEditorExpEnabled:t})=>a.createElement(R.xs,{to:[k.K]},(({state:n,resetTrigger:o})=>{const{isSurveyTriggered:i,source:r}=n;return a.createElement(w.Sp,{isGuestSurveyTriggered:i,resetGuestSurveyTrigger:o,source:r},t?a.createElement(se,{contentId:e,hasSatisfactionSurveys:!0}):a.createElement(O,{contentId:e,isFabricPage:!0}))}));ce.displayName="SatisfactionSurveys";var de=n(499082),ue=n(266797),me=n(588933),ge=n(772610);const fe=(0,r.tM)({__loadable_id__:"WrX2E",name:"CommentsSectionLoaderPaint",loading:({handlePageCommentsRender:e})=>e?null:me.X,loader:async()=>(await n.e(64935).then(n.bind(n,864310))).CommentsSection}),Ee=(0,r.ZR)({__loadable_id__:"Bt5XY",name:"CommentsSectionLoaderAfterPaint",loading:()=>a.createElement(me.X,null),loader:async()=>(await n.e(64935).then(n.bind(n,864310))).CommentsSection}),pe={[A.TX.PAINT]:fe,[A.TX.AFTER_PAINT]:Ee},be=e=>{let{loadingPriority:t}=e,n=(0,G.Z)(e,["loadingPriority"]);const i=pe[t]||Ee;return a.createElement(i,(0,o.Z)({},n))};be.displayName="CommentsSectionLoader";var ye=n(684157),ve=n(801683),Ie=n(170915),_e=n(292004),Ce=n(401487);n(137909),n(593940),n(983237),n(416473),n(104086),n(357290),n(456928),n(354326);const Te=(0,a.forwardRef)(((e,t)=>{let{as:n="div",style:i,isDefaultWidthEnabled:r}=e,l=(0,G.Z)(e,["as","style","isDefaultWidthEnabled"]);return a.createElement(n,(0,o.Z)((0,o.Z)({},l),{},{style:i,ref:t,className:(0,B.Z)(["",r&&"_1e0c1txw _4cvr1h6o _2lx21bp4 _p12fukw8 _19pkidpf _2hwx1wug _otyridpf _18u01wug",l.className])}))}));const Se=(0,a.memo)((({contentId:e,classicComments:t,loadingPriority:n,isCollaborativePageCommentsEnabled:o,appearance:i})=>{const r=(0,a.useRef)(null),[l]=(0,ue.b)(),{error:s}=(0,de.aM)(_e.q,{variables:{contentId:e},fetchPolicy:"cache-and-network",skip:!e});s&&(0,Ce.Xb)(s);const{cohort:c}=(0,ye.a)("confluence.frontend.delay.page.comments.render",["delay-render","not-enrolled","render"],"not-enrolled",!0),d=Boolean("delay-render"===c),{getQueryParams:u}=(0,a.useContext)(ge.M),m=(0,a.useContext)(V.F),{focusedCommentId:g,replyToComment:f,showCommentArea:E,editComment:p,commentId:b}=u(),y=Boolean(g||f||E||"true"===p&&b),[v,I]=(0,a.useState)(!1),[_,C]=(0,a.useState)(!1);(0,a.useEffect)((()=>{(y||!d||d&&v)&&m.start({name:Q.lMm,attributes:{isConditionalRenderingOn:d,isFocusedComment:y,editor:"FABRIC",contentId:e}})}),[m,e,y,d,v]),(0,a.useEffect)((()=>{const e=new IntersectionObserver((([e])=>{e.isIntersecting&&I(!0)}));return d&&!v&&!y&&l.isContentReady&&r.current?e.observe(r.current):I(!0),()=>{e.disconnect()}}),[d,y,l.isContentReady,r,v]);const T='"default"'===i&&o,S=()=>l.isContentReady?a.createElement(me.X,{showPlaceholder:!0}):null;return d?y?a.createElement(be,{contentId:e,classicComments:t,loadingPriority:n||A.TX.PAINT}):a.createElement(Te,{"data-testid":T?"page-comment-wrapper-default":"page-comment-wrapper",isDefaultWidthEnabled:T,ref:r,className:"page-comment-wrapper"},v?a.createElement(a.Fragment,null,!_&&S(),a.createElement(be,{contentId:e,classicComments:t,handlePageCommentsRender:()=>C(!0),loadingPriority:n||A.TX.PAINT})):S()):a.createElement(Te,{"data-testid":T?"page-comment-wrapper-default":"page-comment-wrapper",isDefaultWidthEnabled:T,ref:r,className:"page-comment-wrapper"},a.createElement(be,{contentId:e,classicComments:t,loadingPriority:y?A.TX.PAINT:n||A.TX.PAINT}))})),he=(0,ve.P)({attribution:Ie.x.COLLABORATION})(Se);var Pe=n(350844),Ae=n(187053),Ne=n(501858),Re=n(4521),Oe=n(61271);const we=(0,a.memo)((({contentId:e,loadingPriority:t})=>{var n,o,i;const{getQueryParams:r}=(0,a.useContext)(ge.M),{replyToComment:l,showCommentArea:s,editComment:c,commentId:d,focusedCommentId:u}=r(),{error:m}=(0,de.aM)(Re.n,{variables:{pageId:e},fetchPolicy:"cache-and-network",skip:!e});m&&(0,Ce.Xb)(m);const{data:g,error:f}=(0,de.aM)(Ne.O,{variables:{commentId:u,contentId:e},fetchPolicy:"cache-first",skip:!(e&&u)});f&&(0,F.T)(f)&&(0,Ce.Xb)(f);const E=Boolean(null==g||null===(n=g.comments)||void 0===n||null===(o=n.nodes)||void 0===o||null===(i=o[0])||void 0===i?void 0:i.isInlineComment),{firstHighlightClicked:p,shouldDisplaySidebar:b,toggleSidebar:v}=(0,a.useContext)(Pe.s),{cohort:I}=(0,ye.a)(Oe.TQ,["variation","not-enrolled","control"],"not-enrolled",!0);return(0,y.TW)("confluence.frontend.conditional.inline.comments")?((E||l||s||"true"===c&&d)&&v(!0),a.createElement(a.Fragment,null,!1,b&&a.createElement(Ae.K,{pageId:e,isFabricPage:!0,loadingPriority:t||A.TX.PAINT,focusedCommentId:u}))):window.__SSR_RENDERED__&&E||p?a.createElement(Ae.K,{pageId:e,isFabricPage:!0,loadingPriority:t||A.TX.PAINT,focusedCommentId:u}):a.createElement(a.Fragment,null,!1,a.createElement(Ae.K,{pageId:e,isFabricPage:!0,loadingPriority:A.TX.LAZY,focusedCommentId:u}))}));var ke=n(181466),Le=n(928587),Fe=n(66866),Me=n(114782),De=n(843392),Ze=n(983259);n(985037),n(117027),n(971479),n(348716),n(137909),n(593940),n(983237),n(416473),n(423722),n(104086),n(977703),n(938420),n(156704),n(341645),n(1970),n(862528),n(193404),n(175795),n(520700),n(305863),n(740691),n(523254),n(143706),n(868964),n(586655),n(362604),n(841468),n(354326);const xe=(0,a.forwardRef)(((e,t)=>{let{as:n="div",style:i}=e,r=(0,G.Z)(e,["as","style"]);return a.createElement(n,(0,o.Z)((0,o.Z)({},r),{},{style:i,ref:t,className:(0,B.Z)(["_1e0c1txw _4cvr1y6m _1bah1yb4 _ca0qgktf _u5f3idpf _n3tdgktf _19bvidpf _11rm1hrf _n7zl1i89 _1bsb1osq _1p4q1ssb _1l0tx19p _3u9vusic _1aor1o8l",r.isDefaultWidthEnabled?"_1reo15vq _18m915vq":"_1reoewfl _18m9ewfl",r.isDefaultWidthEnabled?"_p12fukw8":"_p12fn7od",r.isDefaultWidthEnabled?"_19pkidpf _2hwx1wug _otyridpf _18u01wug":"_19pkn7od _2hwxn7od _otyrn7od _18u0n7od",r.className])}))}));const Ge=({hasReactions:e,appearance:t,isCollaborativePageCommentsEnabled:n,contentType:o,contentId:i,spaceId:r})=>{const[l]=(0,ue.b)(),{focusedPageReactionsId:s}=(0,Fe.b)(),{isReactionsEnabled:c}=(0,a.useContext)(S.Y),d='"default"'===t&&n;return null!=l&&l.isContentReady?a.createElement(xe,{id:"view-page-reactions-container","data-test-id":"view-page-reactions-container",isDefaultWidthEnabled:d},e&&c&&(()=>{if(o&&r){const e=Boolean(s)?Me.X:Me.M;return a.createElement(e,{contentId:i,location:o,containerId:r,containerType:De.d.SPACE})}return a.createElement(Ze.n,null)})()):null},Be=e=>(0,i.O)()?e?A.TX.AFTER_PAINT:A.TX.LAZY:null,$e=({spaceKey:e,contentId:t,contentHeader:n,contentScreenStyles:i,classicComments:r,eventHandlers:A,titleAndByLineOptions:R,hasPageComments:O=!0,hasSatisfactionSurveys:w=!0,hasHighlightActions:k=!0,hasInlineComments:L=!0,hasInlineActions:F=!0,hasLabels:M=!0,hasReactions:D=!0,hasEOPRecs:Z=!0,hasQuickReload:x=!0,appearance:G,children:B})=>{const{featureFlagClient:$}=(0,b.D)(),U=(0,v.C)($)&&(0,I.z)($),X=(0,y.TW)("confluence.frontend.collaborative.page.comments"),q=(0,y.TW)("confluence.frontend.qr.promo.mobile.app"),K=(e=>e.getBooleanValue(P.CW,{default:!1}))($);return a.createElement(a.Fragment,null,a.createElement(ke.e,{spaceKey:e,contentId:t,stickyHeader:n,contentScreenStyles:i},(({isThemed:i,contentQueryData:l,contentQueryError:b})=>{var y,v,I,P,$,q,H,V,Q,j,W,z,Y,J,ee,te,ne,oe,ae;const ie=null==l||null===(y=l.content)||void 0===y||null===(v=y.nodes)||void 0===v||null===(I=v[0])||void 0===I?void 0:I.type,re=null==l||null===(P=l.content)||void 0===P||null===($=P.nodes)||void 0===$||null===(q=$[0])||void 0===q||null===(H=q.space)||void 0===H?void 0:H.id,le=null==l||null===(V=l.content)||void 0===V||null===(Q=V.nodes)||void 0===Q||null===(j=Q[0])||void 0===j||null===(W=j.metadata)||void 0===W?void 0:W.lastModifiedDate,se=(null==l||null===(z=l.content)||void 0===z||null===(Y=z.nodes)||void 0===Y||null===(J=Y[0])||void 0===J||null===(ee=J.appearancePublished)||void 0===ee||null===(te=ee.nodes)||void 0===te||null===(ne=te[0])||void 0===ne?void 0:ne.value)||'"default"',{coverPicture:de,contentAppearance:ue,hasCoverPicture:me}=(0,f.N0)(l),{queryDataId:ge,fabricEditorEligibility:fe,editorProperty:Ee,fabricEditorSupported:pe}=function(e,t){var n,o,a,i,r,l;if(!t)return{queryDataId:void 0,fabricEditorEligibility:void 0,editorProperty:"unset",fabricEditorSupported:void 0};const s=null==e||null===(n=e.properties)||void 0===n?void 0:n.nodes,c=null==s?void 0:s.filter((e=>"editor"===(null==e?void 0:e.key))),d=null==c||null===(o=c[0])||void 0===o?void 0:o.value,u=(m=d)?null!=m&&m.includes("v2")?"v2":null!=m&&m.includes("v1")?"v1":"unset":"";var m;return{queryDataId:null==e?void 0:e.id,fabricEditorEligibility:null==e||null===(a=e.metadata)||void 0===a||null===(i=a.frontend)||void 0===i?void 0:i.fabricEditorEligibility,editorProperty:u,fabricEditorSupported:null==e||null===(r=e.metadata)||void 0===r||null===(l=r.frontend)||void 0===l?void 0:l.fabricEditorSupported}}(null==l||null===(oe=l.content)||void 0===oe||null===(ae=oe.nodes)||void 0===ae?void 0:ae[0],K);return a.createElement(a.Fragment,null,a.createElement(p.k,{key:t,isSmooth:!1}),i&&n,a.createElement(d,{type:u.t.HEADER}),me&&a.createElement(g.t,{contentId:t,isPagePreview:!1,coverPicture:de,contentAppearance:ue}),a.createElement(N.P,(0,o.Z)({banner:a.createElement(s.Y$,{contentId:t}),contentId:t,spaceKey:e||""},R)),a.createElement(Le.b,{hasInlineComments:L,contentId:t,data:l,error:b,spaceKey:e,hasHighlightActions:k,eventHandlerOverrides:A,appearance:G,hasInlineActions:F,lastModifiedDate:le||void 0}),L&&a.createElement(C,{pageId:t}),M&&a.createElement(T.t,{pageWidthType:se,contentId:t,spaceKey:e,spaceId:re}),Z&&"page"==ie&&a.createElement(_.VE,{entityType:ie||"",entityId:t,spaceKey:e||"",pageWidthType:se}),a.createElement(c.A,{contentId:t}),D&&a.createElement(S.$,{contentId:t},a.createElement(Ge,{hasReactions:D,contentId:t,contentType:ie,spaceId:re,appearance:se,isCollaborativePageCommentsEnabled:X})),O&&a.createElement(he,{key:t,contentId:t,loadingPriority:Be(O),classicComments:r,appearance:se,isCollaborativePageCommentsEnabled:X}),a.createElement(d,{type:u.t.FOOTER}),x&&a.createElement(E.e,{contentId:t,contentType:ie,lastPollTime:Date.now()}),w&&a.createElement(ce,{contentId:t,isEditorExpEnabled:U}),"page"===ie&&a.createElement(m.o,{contentId:t}),K&&a.createElement(h,{queryDataId:ge,editorProperty:Ee,fabricEditorSupported:pe,fabricEditorEligibility:fe}),B)})),L&&a.createElement(we,{key:t,loadingPriority:Be(L),contentId:t}),q&&a.createElement(l,null))};$e.displayName="ViewPageCommon"},787632:(e,t,n)=>{n.d(t,{f:()=>o});const o=n(331377).ZP`query WebPanelLocationQuery($location:String$contentId:ID$spaceKey:String){webPanels(location:$location contentId:$contentId key:$spaceKey){moduleKey completeKey html location label weight name}}`},588022:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,a=(o=n(122551))&&o.__esModule?o:{default:o},i=n(386056);const r=e=>a.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M6.735 12.322a1 1 0 00-1.47 1.356l3.612 3.919c.537.526 1.337.526 1.834.03l.364-.359a2335.638 2335.638 0 003.939-3.883l.04-.04a492.598 492.598 0 003.658-3.643 1 1 0 00-1.424-1.404 518.42 518.42 0 01-3.64 3.625l-.04.04a2049.114 2049.114 0 01-3.775 3.722l-3.098-3.363z" fill="currentColor"/></svg>'},e));r.displayName="CheckIcon";var l=r;t.default=l},590804:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,a=(o=n(122551))&&o.__esModule?o:{default:o},i=n(386056);const r=e=>a.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><g fill="currentColor" fill-rule="evenodd"><path d="M8.126 10H4c-1.113 0-2 .895-2 2v3.73c0 1.31 1.874 2.053 4 2.23v-2.964A3.002 3.002 0 019 12h.354a4 4 0 01-1.228-2zm7.748 0H20c1.105 0 2 .885 2 2v3.73c0 1.31-1.874 2.053-4 2.23v-2.964A3 3 0 0015 12h-.354a4 4 0 001.228-2zM9.967 5.554a3 3 0 10-1.963 3.274 3.999 3.999 0 011.963-3.274zm6.03 3.274a3 3 0 10-1.963-3.276 3.994 3.994 0 011.963 3.276z"/><path d="M7 15c0-1.105.887-2 2-2h6c1.105 0 2 .885 2 2v3.73c0 3.027-10 3.027-10 0V15z"/><circle cx="12" cy="9" r="3"/></g></svg>'},e));r.displayName="PeopleGroupIcon";var l=r;t.default=l}}]);
//# sourceMappingURL=28657.SuZdXWcLCY.js.map