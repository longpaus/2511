"use strict";(self._cf=self._cf||[]).push([[99751],{194782:(e,n,t)=>{Object.defineProperty(n,"__esModule",{value:!0});const r=t(380776),o=t(930484),i=t(79055),s=";v=",c="[0-9A-F]{8}-[0-9A-F]{4}-4[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}",u=[i.pattern(new RegExp(`^${c}$`,"i"))],a=[i.pattern(new RegExp(`^(${c}|static)$`,"i"))];class p{constructor(e){this.json=e,this.validate()}get appId(){return this.json.appId}get environmentId(){return this.json.environmentId}get version(){return this.json.version}get extensionGroupId(){return this.json.extensionGroupId}get extensionKey(){return this.json.extensionKey}toJSON(){return this.json}static parse(e){const{resourceOwner:n,resourceType:t,resourceId:o}=e;if(n!==r.AppFamilyAri.resourceOwner)throw new r.NotAppFamilyAriError(e,`resourceOwner (${n}) must be ${r.AppFamilyAri.resourceOwner}`);if(!t||r.AppFamilyAri.appFamilyResourceTypes.indexOf(t)<0)throw new r.NotAppFamilyAriError(e,`resourceType must be one of ${r.AppFamilyAri.appFamilyResourceTypes}`);if(!o)throw new r.NotAppFamilyAriError(e,"resourceId is must be provided");const i=o.indexOf(s);if(i>0&&o.lastIndexOf(s)>i)throw new r.NotAppFamilyAriError(e,"can only include one version suffix");const[c,u]=o.split(s),a=c.split("/").map(l);if(a.length>4)throw new r.NotAppFamilyAriError(e,`no path segments can be added after extensionKey ${a.slice(4)}`);const[d,m,f,h]=a;if(!d)throw new r.NotAppFamilyAriError(e,"appId must be included");const y=f||(t===r.AppFamilyAri.extensionGroupResourceType||t===r.AppFamilyAri.extensionResourceType?"static":void 0);if(!(t!==r.AppFamilyAri.extensionResourceType||m&&f&&h))throw new r.NotAppFamilyAriError(e,`environmentId, extensionGroupId, extensionKey must all be provided for resourceType ${r.AppFamilyAri.extensionResourceType}`);if(!(t!==r.AppFamilyAri.extensionGroupResourceType||m&&y&&!h))throw new r.NotAppFamilyAriError(e,`environmentId, extensionGroupId must all be provided for resourceType ${r.AppFamilyAri.extensionGroupResourceType}`);if(t===r.AppFamilyAri.environmentResourceType&&(!m||f||h))throw new r.NotAppFamilyAriError(e,`environmentId must be provided for resourceType ${r.AppFamilyAri.environmentResourceType}`);if(t===r.AppFamilyAri.appResourceType&&(m||f||h))throw new r.NotAppFamilyAriError(e,`environmentId must be provided for resourceType ${r.AppFamilyAri.environmentResourceType}`);return new p({appId:d,environmentId:m,extensionGroupId:y,extensionKey:h,version:u})}asAppAri(){return this.returnIf((()=>this.isAppAri()),"app")}asAppEnvironmentAri(){return this.returnIf((()=>this.isAppEnvironmentAri()),"environment")}asExtensionGroupAri(){return this.returnIf((()=>this.isExtensionGroupAri()),"extension-group")}asExtensionAri(){return this.returnIf((()=>this.isExtensionAri()),"extension")}isAppAri(){return!this.isAtLeastAppEnvironmentAri}isAppEnvironmentAri(){return this.isAtLeastAppEnvironmentAri&&!this.isAtLeastExtensionGroupAri}isExtensionGroupAri(){return this.isAtLeastExtensionGroupAri&&!this.isExtensionAri()}isExtensionAri(){return this.isAtLeastExtensionGroupAri&&void 0!==this.extensionKey}returnIf(e,n){if(!e())throw new r.NotExpectedAppFamilyAriTypeError(n,this);return this}get isAtLeastAppEnvironmentAri(){return void 0!==this.environmentId}get isAtLeastExtensionGroupAri(){return this.isAtLeastAppEnvironmentAri&&void 0!==this.extensionGroupId}validate(){const e=[i.validateField(this,"environmentId",u),i.validateField(this,"appId",u),i.validateField(this,"extensionGroupId",a)].filter((e=>e));if(e.length>0)throw o.InvalidAriError.withConstraintViolations(this.toString(),e)}toAri(){const e=r.AppFamilyAri.resourceOwner,{appId:n,environmentId:t,extensionGroupId:i,extensionKey:s,version:c}=this.toJSON();function u(e){const n=e.join("/");return c?`${n};v=${c}`:n}return this.isExtensionAri()?new o.ResourceIdentifier({resourceOwner:e,resourceType:r.AppFamilyAri.extensionResourceType,resourceId:u([n,t,i,s])}):this.isExtensionGroupAri()?new o.ResourceIdentifier({resourceOwner:e,resourceType:r.AppFamilyAri.extensionGroupResourceType,resourceId:u([n,t,i])}):this.isAppEnvironmentAri()?new o.ResourceIdentifier({resourceOwner:e,resourceType:r.AppFamilyAri.environmentResourceType,resourceId:u([n,t])}):new o.ResourceIdentifier({resourceOwner:e,resourceType:r.AppFamilyAri.appResourceType,resourceId:n})}toString(){return this.toAri().toString()}}function l(e){if(!e)return;const n=e.trim();return 0!==n.length?n:void 0}n.AppFamilyAriImpl=p},380776:(e,n,t)=>{Object.defineProperty(n,"__esModule",{value:!0});const r=t(194782);!function(e){e.resourceOwner="ecosystem",e.appResourceType="app",e.environmentResourceType="environment",e.extensionGroupResourceType="extension-group",e.extensionResourceType="extension",e.appFamilyResourceTypes=[e.appResourceType,e.environmentResourceType,e.extensionGroupResourceType,e.extensionResourceType]}(n.AppFamilyAri||(n.AppFamilyAri={}));class o extends Error{constructor(e,n){super(e),this.cause=n}}n.AppFamilyAriError=o;n.NotAppFamilyAriError=class extends o{constructor(e,n){super(`ari is not a valid App family ari: ${e.toString()} as ${n}`),this.reason=n}};n.NotExpectedAppFamilyAriTypeError=class extends o{constructor(e,n,t){super(`App family ari (${n.toString()}) is not of expected type: ${e}`,t),this.cause=t}},n.parseAppAri=function(e){return r.AppFamilyAriImpl.parse(e)},n.createAppAri=function(e){return new r.AppFamilyAriImpl(e)}},79055:(e,n,t)=>{Object.defineProperty(n,"__esModule",{value:!0});const r=t(124302);class o{constructor(e,n){this.min=e,this.max=n}get description(){return`length must be between ${this.min} and ${this.max}`}isValid(e){return!e||e.length>=this.min&&e.length<=this.max}}n.LengthConstraint=o;class i{constructor(e){this.regex=e}get description(){return`value must match regex ${this.regex.source}`}isValid(e){return!e||this.regex.test(e)}}n.RegexConstraint=i;n.GeneralValidationError=class{constructor(e){this.error=e}toString(){return this.error}};class s{constructor(e,n,t){this.fieldName=e,this.value=n,this.constraints=t}toString(){const e=this.constraints.map((e=>`  - ${e.description}`)).join("\n");return`'${this.value}' is not a valid value for ${this.fieldName} as it violates the following constraints:\n${e}`}}n.ConstraintViolation=s,n.lengthBetween=function(e,n){return new o(e,n)},n.pattern=function(e){return new i(e)},n.validateField=function(e,n,t){const o=e[n],i=t.map((e=>e.isValid(o)?void 0:e)).filter(r.isDefined);return i.length>0?new s(n,o,i):void 0}},930484:(e,n,t)=>{Object.defineProperty(n,"__esModule",{value:!0});const r=t(349656),o=t(79055);r.__exportStar(t(380776),n);class i extends Error{constructor(e,n){super(`Invalid ari string: ${e}${n?". "+n:""}`),this.ariString=e,Object.setPrototypeOf(this,i.prototype)}static withConstraintViolations(e,n){return new i(e,n.map((e=>e.toString())).join("\n"))}}function s(e,n){return e===n||void 0===e}n.InvalidAriError=i;const c=o.pattern(/^[a-z][a-z.-]*$/),u=o.pattern(/^[a-z][a-z.-]*$/i),a=[o.lengthBetween(3,255),c],p=[o.lengthBetween(3,255),u],l=[o.lengthBetween(3,255)],d="site",m=/[\w-._~:@#]/.source,f=[o.pattern(new RegExp(`^${m}+(/${m}*)*(;v=${m}*)*$`))];class h{get cloudId(){return this.resourceType===d?this.internalCloudId?this.internalCloudId:this.resourceId:this.internalCloudId}constructor(e){const{resourceId:n,resourceOwner:t,resourceType:r,cloudId:o}=function(e){const{resourceId:n,resourceOwner:t,cloudId:r}=e;return!n&&r?{resourceOwner:t,resourceType:d,resourceId:r}:e}(e);this.resourceOwner=t,this.internalCloudId=o,this.resourceType=r,this.resourceId=n,this.validate()}static parse(e){if(!e)throw new i(e);const n=e.match(/^ari:cloud:([^:/]+):([^:/]*):([^:/]*)\/(.*)$/);if(!n||5!==n.length)throw new i(e);const t=n.map((e=>e&&e.length>0?e:void 0)),r=t[1];if(!r)throw new i(e);return new h({resourceOwner:r,cloudId:t[2],resourceType:t[3],resourceId:t[4]})}static parseEncoded(e){return y(decodeURIComponent(e))}toString(){if(!this.ariString){const e=this.resourceType===d&&this.internalCloudId?this.internalCloudId:this.resourceId||"",n=this.resourceType||"",t=this.resourceType===d?"":this.internalCloudId||"";this.ariString=`ari:cloud:${this.resourceOwner}:${t}:${n}/${e}`}return this.ariString}toJSON(){return this.toString()}equals(e){return e instanceof h&&this.resourceOwner===e.resourceOwner&&this.cloudId===e.cloudId&&this.resourceType===e.resourceType&&this.resourceId===e.resourceId}contains(e){return this.matches(new h(e))}matches(e){return s(this.resourceOwner,e.resourceOwner)&&s(this.cloudId,e.cloudId)&&(this.resourceType===d&&!!e.resourceType||s(this.resourceType,e.resourceType))&&(this.resourceType===d&&!!e.resourceType||s(this.resourceId,e.resourceId))}validateSiteWide(){const{resourceType:e,cloudId:n}=this;if(e===d&&!n)return new o.GeneralValidationError("site wide ARIs must have a cloudId")}validate(){const e=[o.validateField(this,"resourceOwner",a),o.validateField(this,"resourceType",p),o.validateField(this,"resourceId",f),o.validateField(this,"cloudId",l),this.validateSiteWide()].filter((e=>e));if(e.length>0)throw i.withConstraintViolations(this.toString(),e);if(void 0!==this.resourceId&&void 0===this.resourceType)throw new i(this.toString(),"The resource type must be specified if the resource id is defined.")}urlEncode(){return encodeURIComponent(this.toString())}urlDecode(){return decodeURIComponent(this.toString())}}function y(e){return h.parse(e)}n.ResourceIdentifier=h,n.parse=y,n.parseEncoded=function(e){return h.parseEncoded(e)}},124302:(e,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.hasValueAtKey=n.hasPresentKey=n.isFilled=n.isDefined=n.isPresent=void 0,n.isPresent=function(e){return null!=e},n.isDefined=function(e){return void 0!==e},n.isFilled=function(e){return null!==e},n.hasPresentKey=function(e){return function(n){return void 0!==n[e]&&null!==n[e]}},n.hasValueAtKey=function(e,n){return function(t){return t[e]===n}}},800186:(e,n,t)=>{t.d(n,{LC:()=>s,z0:()=>o,nz:()=>r,c:()=>i});const r=["Em","Link","Strike","String","Strong","User"],o=[...r,"Badge","Code","DateLozenge","StatusLozenge","Tag","UserGroup"];let i;!function(e){e.DEVELOPMENT="DEVELOPMENT",e.STAGING="STAGING",e.PRODUCTION="PRODUCTION"}(i||(i={}));const s={BYLINE:"confluence:contentBylineItem",CONTEXT_MENU:"confluence:contextMenu",CONTENT_ACTION:"confluence:contentAction",GLOBAL_PAGE:"confluence:globalPage",GLOBAL_SETTINGS:"confluence:globalSettings",HOMEPAGE_FEED:"confluence:homepageFeed",SPACE_PAGE:"confluence:spacePage",SPACE_SETTINGS:"confluence:spaceSettings",CUSTOM_CONTENT:"confluence:customContent",TEST_MODULE:"test:module"};let c;!function(e){e.AdminPage="compass:adminPage",e.ComponentPage="compass:componentPage",e.TeamPage="compass:teamPage"}(c||(c={}))},854742:(e,n,t)=>{t.d(n,{V2:()=>c,Jp:()=>a,ZJ:()=>m,a9:()=>l,qP:()=>u});var r=t(991332),o=t(122551),i=t(830993),s=t(134545);const c="forge-ui",u=e=>n=>{switch(n.eventType){case s._d:Promise.resolve(e).then((e=>e.sendUIEvent(n)));break;case s.Ru:Promise.resolve(e).then((e=>e.sendOperationalEvent(n)));break;case s.s_:Promise.resolve(e).then((e=>e.sendTrackEvent(n)));break;case s.uc:Promise.resolve(e).then((e=>e.sendScreenEvent(n)))}};const a=({children:e,client:n,commonAttributes:t={}})=>o.createElement(i.Z,{onEvent:e=>{const{eventType:o,data:i}=e.payload,{action:s,actionSubject:c,actionSubjectId:a,attributes:p}=i,l=function(e){const n=(e.find((e=>e&&e.forgeUIAnalyticsContext))||{}).forgeUIAnalyticsContext;return(0,r.Z)({source:"unknown"},n)}(e.context),d=(0,r.Z)((0,r.Z)({action:s,actionSubject:c,actionSubjectId:a},l),{},{attributes:(0,r.Z)((0,r.Z)((0,r.Z)({},t),e.context.reduce(((e,n)=>{const t=n&&n.forgeUIAttributes&&"object"==typeof n.forgeUIAttributes?n.forgeUIAttributes:{};return(0,r.Z)((0,r.Z)({},e),t)}),{})),p)});u(n)((0,r.Z)({eventType:o},d))},channel:c},e);var p=t(930484);function l(e){if(!e)return{};try{const n=(0,p.parse)(e);if(!n.resourceId)return{};const[t,r,o,i]=n.resourceId.split("/");return{appId:t,environmentId:r,groupId:o,extensionKey:i}}catch(n){return{}}}var d=t(652459);const m=({extensionId:e,localId:n,children:t})=>o.createElement(d.Z,{data:{forgeUIAttributes:(0,r.Z)({localId:n},l(e))}},t)},552549:(e,n,t)=>{t.d(n,{gh:()=>c,$P:()=>d,_z:()=>f,hl:()=>h.h,E3:()=>A,iF:()=>v,vb:()=>p});var r=t(991332),o=t(122551),i=t(592672),s=t(800186);const c=(0,o.createContext)(s.c.PRODUCTION);let u,a=0;const p=(e,n,o=Promise.all([t.e(61769),t.e(78248),t.e(54936),t.e(27538),t.e(28540)]).then(t.bind(t,630590)))=>{if(a++,!u){const i={metalId:"74fe5415-a93b-4197-bb9b-294dc9439cd7",version:"0.1"};u=new Promise((async c=>{const{default:u,envTypes:a,PerformanceMarkPlugin:p,catalog:l}=await o,{default:d}=await Promise.all([t.e(78248),t.e(11216),t.e(63645)]).then(t.bind(t,263645));let m=e===s.c.PRODUCTION?a.PROD:e===s.c.STAGING?a.STAGING:a.DEV;const f=[new p({[l.performance.REQUEST_TIMING]:{name:"forge-ui.fe.render",page:n}}),new d({[l.performance.COMPONENT_READY]:[{component:"useExtensionList",target:2e3},{component:"getForgeExtensionProvider",target:2e3}],[l.performance.REQUEST_TIMING]:5e3})];c(new u({productInfo:(0,r.Z)((0,r.Z)({},i),{},{env:m}),settings:{meta:{subproduct:n}},plugins:f}))}))}return[u,l]},l=()=>{a--,0===a&&u&&(Promise.resolve(u).then((e=>{e.destroy()})),u=void 0)},d=(0,o.createContext)({metalClient:void 0,environment:s.c.DEVELOPMENT,product:"",page:""}),m=d.Provider,f=(d.Consumer,({value:e,children:n})=>{const t=(0,o.useContext)(c),{product:r,page:s,environment:u}=e,[a,l]=(0,i.Pr)((()=>p(u||t,r)),[t,u,r]);(0,o.useEffect)((()=>()=>{l()}),[l]);const d=(0,i.Pr)((()=>({environment:u||t,product:r,page:s,metalClient:a})),[s,u,t,r,a]);return o.createElement(m,{value:d},n)});var h=t(558472),y=t(731151);const A=o.createContext(0),v=({children:e})=>{const[n,t]=(0,o.useState)(0);return o.createElement(o.Fragment,null,o.createElement(y.K,{setWidth:e=>{!e||Math.abs(n-e)<30||t(e)}}),o.createElement(A.Provider,{value:n},e))};A.Consumer},558472:(e,n,t)=>{t.d(n,{X:()=>u,h:()=>c});var r=t(122551),o=t(52054),i=t(676424);const{Provider:s,Consumer:c}=r.createContext(void 0),u=({children:e})=>{const[n,t]=(0,r.useState)();return r.createElement(r.Fragment,null,n&&r.createElement(s,{value:n},e),r.createElement(o.Z,{zIndex:i.ug.modal()+1},r.createElement("div",{"data-testid":"forge-ui-portal",ref:t})))}},797998:(e,n,t)=>{t.d(n,{P:()=>o});var r=t(123926);async function o({client:e,contextIds:n,moduleType:t,queryOptions:o,expandAppOwner:i,egressConsentFlowEnabled:s}){const c=(0,r.a5)(e,n,t,o,i,s),u=await e.query(c);return{extensions:(0,r.Ng)(u),errors:u.errors}}},499751:(e,n,t)=>{t.d(n,{zK:()=>p,fd:()=>u,c:()=>i.c,Pm:()=>a.P,eL:()=>o.eL});var r=t(552549),o=t(123926),i=t(800186),s=t(122551),c=t(854742);const u=({analyticsWebClient:e,environment:n,product:t,page:o,children:i})=>s.createElement(r.gh.Provider,{value:n},s.createElement(r._z,{value:{product:t,page:o}},s.createElement(c.Jp,{client:e,commonAttributes:{moduleType:o}},i)));var a=t(797998);const p=r.gh.Provider},890415:(e,n,t)=>{t.d(n,{St:()=>o,Hx:()=>i});var r=t(331377);t(122551),t(552549);const o=r.ZP`mutation forge_ui_invokeAuxEffects($input:InvokeAuxEffectsInput!){invokeAuxEffects(input:$input){success errors{message extensions{errorType statusCode}}result{effects contextToken{jwt expiresAt}}}}`;class i extends Error{constructor(e){super(e),Object.setPrototypeOf(this,i.prototype)}}},233671:(e,n,t)=>{t.d(n,{UV:()=>c,aF:()=>u});var r=t(499082),o=t(331377);const i=o.ZP`query forge_ui_userQuery($accountId:ID!){user(accountId:$accountId){name picture}}`,s=o.ZP`query forge_ui_usersQuery($accountIds:[ID!]!){users(accountIds:$accountIds){name accountId picture}}`,c=(e,n)=>{const t=e.filter((e=>!(""===e))),{data:o}=(0,r.aM)(s,{variables:{accountIds:t},client:n});let i={};return o&&o.users&&(i=o.users.reduce(((e,n)=>(n.accountId&&(e[n.accountId]={picture:n.picture,accountId:n.accountId,name:n.name}),e)),{})),i},u=(e,n)=>{const{data:t}=(0,r.aM)(i,{variables:{accountId:e},skip:!e,client:n});if(t&&t.user){const{picture:e,name:n}=t.user;return{name:n,picture:e}}return{name:"",picture:""}}},123926:(e,n,t)=>{t.d(n,{Hx:()=>v.Hx,a5:()=>m,sl:()=>w,Ng:()=>f,kn:()=>g,St:()=>v.St,jP:()=>u,QR:()=>a,$m:()=>A,eL:()=>h,TB:()=>x});var r=t(991332),o=t(122551),i=t(592672),s=t(331377),c=t(499082);const u=e=>e.extensions&&e.extensions.errorSource&&"GRAPHQL_GATEWAY"===e.extensions.errorSource,a=e=>e.extensions&&e.extensions.errorSource&&"UNDERLYING_SERVICE"===e.extensions.errorSource;var p=t(204753),l=t(552549);const d=(e,n,t)=>{const r=(null==t?void 0:t.map((e=>`"${e}"`)))||["$type"],o=`\n  query forge_ui_extensionList($contextIds: [ID!]!${t?"":", $type: String!"}) {\n    extensionContexts(contextIds: $contextIds) {\n      id\n      ${r.map((t=>`\n        extensionsByType(type: ${t}) {\n          id\n          ${e?"appOwner {\n            name\n          }":""}\n          environmentId\n          environmentType\n          properties\n          type\n          appVersion\n          installationId\n          migrationKey\n          ${n?"\n                consentUrl\n                currentUserConsent {\n                  user {\n                    aaid\n                  }\n                  appEnvironmentVersion {\n                    id\n                  }\n                  consentedAt\n                }\n                requiresUserConsent\n              ":""}\n        }`)).join("")}\n    }\n  }`;return s.ZP`${o}`},m=(e,n,t,o,i,s)=>(0,r.Z)((0,r.Z)({variables:{contextIds:n,type:t}},o),{},{query:d(i,s),client:e,errorPolicy:"all"}),f=({loading:e,data:n})=>!e&&n&&n.extensionContexts&&n.extensionContexts[0]&&n.extensionContexts[0].extensionsByType?n.extensionContexts[0].extensionsByType:null,h=e=>{const{contextIds:n,type:t,client:r,queryOptions:s,expandAppOwner:h,egressConsentFlowEnabled:y}=e,A=n.sort().join(""),v=(0,i.Pr)((()=>performance.now()),[A,t,r]),I=m(r,n,t,s,h,y),{error:x,loading:E,data:g}=(0,c.aM)(I.query||d(h),I),T=f({loading:E,data:g}),{metalClient:w,page:P}=(0,o.useContext)(l.$P);return(0,o.useEffect)((()=>{if(w&&T){const e=performance.now();Promise.resolve(w).then((n=>{n.metric.submit({component:"useExtensionList",page:P,name:p.F.performance.COMPONENT_READY,value:e-v})}))}}),[T,v,w,P]),(0,o.useEffect)((()=>{if(w&&!T&&x&&x.graphQLErrors.length>0){const e=x.graphQLErrors.find((e=>a(e)||u(e)));Promise.resolve(w).then((n=>{n.error.submit({component:"useExtensionList",page:P,name:e?a(e)?p.F.error.COMPONENT_API:p.F.error.COMPONENT_GRAPHQL:p.F.error.UNCAUGHT})}))}}),[T,x,w,P]),{error:x,extensions:T||[],loading:E}},y=()=>s.ZP`${"\n  query forge_ui_getActiveTunnels($appId: ID!, $environmentId: ID!) {\n    appActiveTunnels(appId: $appId, environmentId: $environmentId) {\n      customUI {\n        resourceKey\n        tunnelUrl\n      }\n    }\n  }\n  "}`,A=e=>{const{appId:n,environmentType:t,environmentId:s,client:d,queryOptions:m}=e,f=(0,o.useRef)(!0);"DEVELOPMENT"!==t&&(f.current=!1);const h=(0,i.Pr)((()=>performance.now()),[n,s,d]),A=((e,n,t,o)=>(0,r.Z)((0,r.Z)({variables:{appId:n,environmentId:t}},o),{},{query:y(),client:e,errorPolicy:"all"}))(d,n,s,m),{error:v,loading:I,data:x}=(0,c.aM)(A.query||y(),(0,r.Z)((0,r.Z)({},A),{},{skip:!f.current})),E=(({loading:e,data:n})=>{var t;if(!e)return null==n||null===(t=n.appActiveTunnels)||void 0===t?void 0:t.customUI})({loading:I,data:x}),{metalClient:g,page:T}=(0,o.useContext)(l.$P);return(0,o.useEffect)((()=>{if(g&&E){const e=performance.now();Promise.resolve(g).then((n=>{n.metric.submit({component:"useCustomUITunnelsList",page:T,name:p.F.performance.COMPONENT_READY,value:e-h})}))}}),[E,h,g,T]),(0,o.useEffect)((()=>{if(g&&!E&&v&&v.graphQLErrors.length>0){const e=v.graphQLErrors.find((e=>a(e)||u(e)));Promise.resolve(g).then((n=>{n.error.submit({component:"useCustomUITunnelsList",page:T,name:e?a(e)?p.F.error.COMPONENT_API:p.F.error.COMPONENT_GRAPHQL:p.F.error.UNCAUGHT})}))}}),[E,v,g,T]),{error:v,tunnels:E||[],loading:I}};var v=t(890415);const I=s.ZP`mutation forge_ui_invokeExtension($input:InvokeExtensionInput!){invokeExtension(input:$input){success response{body}contextToken{jwt expiresAt}errors{message extensions{errorType statusCode ...on InvokeExtensionPayloadErrorExtension{fields{authInfoUrl}}}}}}`,x=(e,n,t)=>{const[r]=(0,c.Db)(I,t);return(0,i.vl)((({call:t,context:o,contextToken:i,extensionPayload:s})=>r({variables:{input:{contextIds:e,extensionId:n,payload:{call:t,context:o,contextToken:i,extensionPayload:s},entryPoint:"resolver"}}})),[e,n,r])};function E(e){return function(e){return"render"===e.type&&!!e.aux&&!!e.state}(e)||function(e){return"result"===e.type&&!!e.forgeDoc&&!!e.state}(e)}function g(e,n){if(!e)return[];const t=e.data.invokeAuxEffects||{},{result:r={}}=t;if(!function(e){return e.success}(t)){var o,i;const e=null===(o=t.errors)||void 0===o?void 0:o[0],s=null==e||null===(i=e.extensions)||void 0===i?void 0:i.statusCode;if(400!==s&&500!==s)return n(null==e?void 0:e.message);if(!r.effects)return n(null==e?void 0:e.message)}return r.effects.every(E)?r.effects:n("received a non-client effect")}var T=t(415911);function w(e,n,t){const{contextIds:o,extensionId:i,localId:s,functionId:c}=e,{context:u}=n,a=(0,T.Z)(n,["context"]);return(0,r.Z)((0,r.Z)({contextIds:o,extensionId:i},c?{entryPoint:c}:{}),{},{payload:(0,r.Z)((0,r.Z)({},a),{},{context:(0,r.Z)((0,r.Z)({},u),{},{extensionData:t,localId:s})})})}t(233671)}}]);
//# sourceMappingURL=99751.YUHtwrdtZt.js.map