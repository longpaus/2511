(self._cf=self._cf||[]).push([[6482,32890],{750186:e=>{e.exports=function(e,t,n,o){for(var a=-1,s=null==e?0:e.length;++a<s;){var r=e[a];t(o,r,n(r),e)}return o}},170250:(e,t,n)=>{var o=n(725719);e.exports=function(e,t){return!!(null==e?0:e.length)&&o(e,t,0)>-1}},904408:e=>{e.exports=function(e,t,n){for(var o=-1,a=null==e?0:e.length;++o<a;)if(n(t,e[o]))return!0;return!1}},902522:(e,t,n)=>{var o=n(454203);e.exports=function(e,t,n,a){return o(e,(function(e,o,s){t(a,e,n(e),s)})),a}},454203:(e,t,n)=>{var o=n(115525),a=n(87371)(o);e.exports=a},697729:e=>{e.exports=function(e,t,n,o){for(var a=e.length,s=n+(o?1:-1);o?s--:++s<a;)if(t(e[s],s,e))return s;return-1}},115525:(e,t,n)=>{var o=n(799344),a=n(550477);e.exports=function(e,t){return e&&o(e,t,a)}},725719:(e,t,n)=>{var o=n(697729),a=n(999079),s=n(545324);e.exports=function(e,t,n){return t==t?s(e,t,n):o(e,a,n)}},999079:e=>{e.exports=function(e){return e!=e}},862186:(e,t,n)=>{var o=n(454203);e.exports=function(e,t){var n;return o(e,(function(e,o,a){return!(n=t(e,o,a))})),!!n}},935813:(e,t,n)=>{var o=n(630652),a=n(170250),s=n(904408),r=n(788370),i=n(939752),l=n(439363);e.exports=function(e,t,n){var c=-1,d=a,u=e.length,p=!0,m=[],g=m;if(n)p=!1,d=s;else if(u>=200){var f=t?null:i(e);if(f)return l(f);p=!1,d=r,g=new o}else g=t?[]:m;e:for(;++c<u;){var h=e[c],y=t?t(h):h;if(h=n||0!==h?h:0,p&&y==y){for(var v=g.length;v--;)if(g[v]===y)continue e;t&&g.push(y),m.push(h)}else d(g,y,n)||(g!==m&&g.push(y),m.push(h))}return m}},790726:(e,t,n)=>{var o=n(750186),a=n(902522),s=n(420879),r=n(591413);e.exports=function(e,t){return function(n,i){var l=r(n)?o:a,c=t?t():{};return l(n,e,s(i,2),c)}}},87371:(e,t,n)=>{var o=n(452608);e.exports=function(e,t){return function(n,a){if(null==n)return n;if(!o(n))return e(n,a);for(var s=n.length,r=t?s:-1,i=Object(n);(t?r--:++r<s)&&!1!==a(i[r],r,i););return n}}},939752:(e,t,n)=>{var o=n(215867),a=n(231307),s=n(439363),r=o&&1/s(new o([,-0]))[1]==1/0?function(e){return new o(e)}:a;e.exports=r},545324:e=>{e.exports=function(e,t,n){for(var o=n-1,a=e.length;++o<a;)if(e[o]===t)return o;return-1}},429836:(e,t,n)=>{var o=n(863735),a=n(790726),s=Object.prototype.hasOwnProperty,r=a((function(e,t,n){s.call(e,n)?e[n].push(t):o(e,n,[t])}));e.exports=r},231307:e=>{e.exports=function(){}},284326:(e,t,n)=>{var o=n(700831),a=n(420879),s=n(862186),r=n(591413),i=n(737517);e.exports=function(e,t,n){var l=r(e)?o:s;return n&&i(e,t,n)&&(t=void 0),l(e,a(t,3))}},307271:(e,t,n)=>{"use strict";n.d(t,{s:()=>l});var o=n(122551),a=n(474258),s=n.n(a),r=n(38952),i=n(60244);function l(e){var t=e.children,n=e.innerRef,a=o.useContext(r.mq),l=o.useCallback((function(e){(0,i.k$)(n,e),(0,i.DL)(a,e)}),[n,a]);return o.useEffect((function(){return function(){return(0,i.k$)(n,null)}}),[]),o.useEffect((function(){s()(Boolean(a),"`Reference` should not be used outside of a `Manager` component.")}),[a]),(0,i.$p)(t)({ref:l})}},461654:e=>{e.exports=function(e,t){t=t||{};var n,o,a,s=e.ownerDocument||e,r=[],i=[],l=function(e){var t=[];function n(o,a){if(o===e.documentElement)return!1;for(var s=0,r=t.length;s<r;s++)if(t[s][0]===o)return t[s][1];var i=!1;return"none"===(a=a||e.defaultView.getComputedStyle(o)).display?i=!0:o.parentNode&&(i=n(o.parentNode)),t.push([o,i]),i}return function(t){if(t===e.documentElement)return!1;var o=e.defaultView.getComputedStyle(t);return!!n(t,o)||"hidden"===o.visibility}}(s),c=["input","select","a[href]","textarea","button","[tabindex]"],d=e.querySelectorAll(c.join(","));if(t.includeContainer){var u=Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector;c.some((function(t){return u.call(e,t)}))&&(d=Array.prototype.slice.apply(d)).unshift(e)}for(var p=0,m=d.length;p<m;p++)n=d[p],o=parseInt(n.getAttribute("tabindex"),10),(a=isNaN(o)?n.tabIndex:o)<0||"INPUT"===n.tagName&&"hidden"===n.type||n.disabled||l(n,s)||(0===a?r.push(n):i.push({index:p,tabIndex:a,node:n}));var g=i.sort((function(e,t){return e.tabIndex===t.tabIndex?e.index-t.index:e.tabIndex-t.tabIndex})).map((function(e){return e.node}));return Array.prototype.push.apply(g,r),g}},995263:(e,t,n)=>{"use strict";n.d(t,{e:()=>s,I:()=>r});var o=n(284326),a=n.n(o);const s=e=>a()(e,{targetType:"page",operation:"archive"}),r=e=>a()(e,{targetType:"page",operation:"delete"})},562006:(e,t,n)=>{"use strict";n.r(t),n.d(t,{ContentToolsItem:()=>g});var o=n(29298),a=n(991332),s=n(415911),r=n(122551),i=n(358280),l=n(312193),c=n(691856);n(380386),n(994349),n(937604),n(634718),n(354326);const d=(0,r.forwardRef)(((e,t)=>{let{as:n="div",style:o}=e,l=(0,s.Z)(e,["as","style"]);return r.createElement(n,(0,a.Z)((0,a.Z)({},l),{},{style:o,ref:t,className:(0,i.Z)(["_1e0c1txw",l.className])}))}));const u=(0,r.forwardRef)(((e,t)=>{let{as:n="div",style:o}=e,l=(0,s.Z)(e,["as","style"]);return r.createElement(n,(0,a.Z)((0,a.Z)({},l),{},{style:o,ref:t,className:(0,i.Z)(["_16jlcs5v _1o9zkb7n _i0dlidpf",l.className])}))}));const p=(0,r.forwardRef)(((e,t)=>{let{as:n="div",style:o}=e,l=(0,s.Z)(e,["as","style"]);return r.createElement(n,(0,a.Z)((0,a.Z)({},l),{},{style:o,ref:t,className:(0,i.Z)(["_19bvi2wt",l.className])}))}));class m extends r.PureComponent{render(){const{label:e,onClick:t,url:n,id:o,className:a,isDisabled:s,innerRef:i,testId:m,onMouseEnter:g}=this.props;return r.createElement("div",{onMouseEnter:g,"data-test-id":o},r.createElement(l.Z,{className:a,id:o,href:n,testId:m||o,onClick:t,isDisabled:s},"string"==typeof e?r.createElement(d,null,r.createElement(u,null,r.createElement("span",{ref:i,"data-test-id":"content-item-label",dangerouslySetInnerHTML:{__html:e.replace(/[0-9]/g,"").replace(/[{()}]/g,"")}})),e.replace(/\D/g,"").length>0?r.createElement(p,null,r.createElement(c.Z,null,e.replace(/\D/g,""))):null):e))}}m.displayName="ContentToolsItemClass",(0,o.Z)(m,"defaultProps",{onMouseEnter:()=>{}});const g=r.forwardRef(((e,t)=>r.createElement(m,(0,a.Z)({innerRef:t},e))));g.displayName="ContentToolsItem"},8869:(e,t,n)=>{"use strict";n.r(t),n.d(t,{ContentToolsWrapper:()=>zt});var o=n(991332),a=n(29298),s=n(122551),r=n(507080),i=n(990862),l=n(494609),c=n(415911),d=n(358280),u=n(429836),p=n.n(u),m=n(883383),g=n(603494),f=n(923813),h=n(644960),y=n(288815),v=n(813e3),b=n(879142),E=n(982930),_=n(824464),C=n(383319),w=n(199319),k=n(780044),I=n(451379),S=n(414762),Z=n(559214),x=n(235821),P=n(827704),O=n(331377);const M=O.ZP`query ShowArchiveCTAQuery($contentId:ID!){content(id:$contentId){nodes{id operations{operation targetType}}}}`;var T=n(995263),R=n(609690),D=n(526938),N=n(340575),A=n(973674),F=n(887199),K=n(328446),L=n(28201);const j=(0,L.ui)({__loadable_id__:"vAqFR",name:"DownloadPageDialog",loader:async()=>(await n.e(19487).then(n.bind(n,765786))).DownloadPageDialog});var U=n(806297),B=n(170915),W=n(961634),$=n(584344);const H=(0,L.ZR)({__loadable_id__:"z3Hdj",name:"LinkToThisPageDialog",loader:async()=>(await Promise.all([n.e(12705),n.e(61769),n.e(46003),n.e(54217),n.e(51501)]).then(n.bind(n,911027))).LinkToThisPageDialog});var z=n(538639),G=n(218811),V=n(7841);class q extends s.PureComponent{render(){const{webItemId:e}=this.props,t=(e=>({type:"sendUIEvent",data:{action:"clicked",source:"viewPageScreen",actionSubject:"AnalyticsButton",attributes:{from:e===V.lu?"fromByline":"fromActionMenu",type:"viewers"}}}))(e);return s.createElement(x.Z,{analyticsData:t},this.props.children)}}q.displayName="AnalyticsPluginWrapper";var Q=n(85667),J=n(104235),X=n(161807);const Y=(0,L.ui)({__loadable_id__:"nVXrs",name:"RevertEditorDialog",loader:async()=>(await Promise.all([n.e(12705),n.e(61769),n.e(78248),n.e(88887)]).then(n.bind(n,973590))).RevertEditorDialog});var ee=n(52446),te=n(621070),ne=n(158466),oe=n(902943),ae=n(799998);const se=s.createElement(m.Z,{id:"restrictions.dialog.link.text",defaultMessage:"Restrictions"});function re({children:e}){const{edition:t}=(0,ne.D)(),n=(0,te._)(),a=(0,s.useContext)(I.F);return e&&t?s.createElement(r.xs,{to:[oe.j]},(s=>e({id:"bm-restrictions-link",label:se,onClick(){(0,ae.L)((0,o.Z)((0,o.Z)({},n),{},{actionSubjectId:"restrictionsDialogLink",dialogStateContainer:s,edition:t,experienceTracker:a,triggeredFrom:"actionsMenu"}))}}))):null}var ie=n(772610),le=n(917068),ce=n(967888),de=n(112750),ue=n(962117),pe=n(631934),me=n(87694),ge=n(307906),fe=n(112261),he=n(186483),ye=n(259220),ve=n(205942);class be extends s.PureComponent{createListener(e){return()=>{this.props.setActiveKeyboardShortcutHandler((()=>{(0,ue.Zo)(e)})),(0,ue.GD)()}}render(){const{keyboardShortcuts:e}=this.props;return e.length>0?s.createElement(s.Fragment,null,e.map((({accelerator:e,itemId:t})=>s.createElement(Z.S,{key:e,accelerator:e,listener:this.createListener(t)})))):null}}be.displayName="Shortcuts";var Ee=n(790632),_e=n(464984),Ce=n(281743),we=n(905657),ke=n(487158),Ie=n(975568),Se=n(717599);const Ze=()=>{},xe=(0,_e.defineMessages)({triggerLabel:{id:"content-tools.more.icon.label",defaultMessage:"More actions"}}),Pe=(0,Ee.Z)("div",{target:"e1o9ekcq0"})("margin-left:",(({isExternalCollaborator:e})=>e?"0px":"10px"),";min-width:24px;"),Oe=({isDisabled:e,isOpen:t=!1,onOpenChange:n=Ze,onPositioned:a=Ze,children:r,intl:i,isLoading:l,preloadCopyItem:d,preloadMoveItem:u,isExternalCollaborator:p=!1})=>{const[m,g]=(0,s.useState)(!1);(0,Ie.n)("page-more-action-button");const f=()=>{var e;return Boolean((null===(e=window.__SSR_EVENTS_CAPTURE__)||void 0===e?void 0:e.moreActionButton)&&(window.__SSR_RENDERED__||!1))},h=e=>{window.__SSR_RENDERED__&&l&&(window.__SSR_EVENTS_CAPTURE__||(window.__SSR_EVENTS_CAPTURE__={}),window.__SSR_EVENTS_CAPTURE__.moreActionButton=!0,g(!0)),n(e)};if((0,s.useEffect)((()=>{(async()=>{f()&&(l?g(!0):(await d(),await u(),h({isOpen:!0}),g(!1),delete window.__SSR_EVENTS_CAPTURE__.moreActionButton))})()}),[l]),f()&&m){const e="margin-left:10px;";return s.createElement(Se.C,{spinnerId:"more-action-loading-spinner",actionType:"moreActionButton",showSpinner:!0,style:e})}return s.createElement(Pe,{"data-id":"content-tools-dropdown-menu-container","data-test-id":"content-tools-dropdown-menu-container",isExternalCollaborator:p},s.createElement(ke.Z,{testId:"content-tools-dropdown-menu",appearance:"tall",trigger:t=>{let{triggerRef:n}=t,a=(0,c.Z)(t,["triggerRef"]);return s.createElement(we.Z,(0,o.Z)((0,o.Z)({},a),{},{"data-id":"page-more-action-button","data-test-id":"page-more-action-button",id:"tools-menu-trigger",iconBefore:s.createElement(Ce.default,{label:i.formatMessage(xe.triggerLabel)}),ref:n,appearance:"subtle",isDisabled:e}))},placement:"bottom-end",isOpen:t,onOpenChange:h,shouldFlip:!1,isDisabled:e,onPositioned:a},r||null))};Oe.displayName="ContentToolsButtonComponent";const Me=(0,g.ZP)((0,s.memo)(Oe));var Te=n(172033),Re=n(285370),De=n(202049);const Ne=(0,Te.pi)({key:Re.aV}),Ae=(0,Te.is)({key:De.gX,ssr:Boolean(window.__SSR_RENDERED__)?{doneAsFmp:!0}:void 0});n(834790),n(695020),n(77125),n(120380),n(342915),n(41915);const Fe="confluence.frontend.presentation.mode",Ke=(0,s.forwardRef)(((e,t)=>{let{as:n="div",style:a}=e,r=(0,c.Z)(e,["as","style"]);return s.createElement(n,(0,o.Z)((0,o.Z)({},r),{},{style:a,ref:t,className:(0,d.Z)(["_n7zl1gpk _n3td1l7b _otyr1l7b _1ragidpf _7mmmidpf _dmhjidpf",r.className])}))}));const Le=()=>{},je=(0,s.createContext)(Le);class Ue extends s.PureComponent{constructor(...e){super(...e),(0,a.Z)(this,"state",{isMenuOpen:!1,isMenuChangeAllowed:!0,isEndOfPageHideConfirmOpen:!1}),(0,a.Z)(this,"activeKeyboardShortcutHandler",null),(0,a.Z)(this,"setActiveKeyboardShortcutHandler",(e=>{this.activeKeyboardShortcutHandler=e})),(0,a.Z)(this,"onPositioned",(()=>{Ne.stop()})),(0,a.Z)(this,"handleOpenChange",(({isOpen:e})=>{if(this.state.isMenuChangeAllowed&&(e&&Ne.start(),this.setState({isMenuOpen:e}),this.props.onOpenChange&&this.props.onOpenChange(e),this.activeKeyboardShortcutHandler&&(this.activeKeyboardShortcutHandler(),this.activeKeyboardShortcutHandler=null),this.fireToggleAnalyticsEvent(),this.props.featureFlags[Fe])){const{createAnalyticsEvent:e}=this.props;e({type:"sendTrackEvent",data:{action:"exposed",actionSubject:"feature",source:"PresenterModeContext",attributes:{flagKey:Fe,value:!0},tags:["measurement"]}}).fire()}})),(0,a.Z)(this,"setMenuChangeAllowed",(e=>{this.setState({isMenuChangeAllowed:e})})),(0,a.Z)(this,"closeDialog",(()=>{this.setState({isMenuOpen:!1}),this.setState({isMenuChangeAllowed:!0})})),(0,a.Z)(this,"setIsEndOfPageHideConfirmOpen",(e=>{this.setState({isEndOfPageHideConfirmOpen:e})})),(0,a.Z)(this,"fireToggleAnalyticsEvent",(()=>{const{createAnalyticsEvent:e}=this.props;e({data:{action:"clicked",actionSubject:"moreIcon",source:"moreActions",attributes:{componentVersion:"v2"}},type:"sendTrackEvent"}).fire()}))}render(){const{itemSections:e,keyboardShortcuts:t,contentId:n,contentType:o,preloadCopyItem:a,preloadMoveItem:r,spaceKey:i,isExternalCollaborator:l}=this.props,{isMenuOpen:c,isEndOfPageHideConfirmOpen:d}=this.state;return s.createElement(je.Provider,{value:this.setMenuChangeAllowed},s.createElement(be,{keyboardShortcuts:t,setActiveKeyboardShortcutHandler:this.setActiveKeyboardShortcutHandler}),s.createElement(fe.Z,{content:s.createElement(m.Z,{id:"content-tools.button.tooltip",defaultMessage:"More actions"}),hideTooltipOnClick:!0,position:"bottom"},s.createElement(Me,{isDisabled:!1,isOpen:c,onOpenChange:this.handleOpenChange,onPositioned:this.onPositioned,isLoading:!1,preloadCopyItem:a,preloadMoveItem:r,isExternalCollaborator:l},e.map(((e,t)=>s.createElement(Ke,{key:t},e))))),s.createElement(ve.T,{entityId:n,entityType:o,spaceKey:i,isOpen:d,setIsOpen:this.setIsEndOfPageHideConfirmOpen}),s.createElement(he.F,{name:w.sjY}),s.createElement(ye.M,{key:`end-${n}`,metric:Ae}))}}Ue.displayName="ContentToolsComponentClass",(0,a.Z)(Ue,"defaultProps",{keyboardShortcuts:[]});const Be=(0,h.Z)()(Ue);var We=n(775906),$e=n(874864),He=n(448214),ze=n(488430),Ge=n(364851),Ve=n(89557),qe=n(693638),Qe=n(442040),Je=n(685753),Xe=n(820386),Ye=n(562006);n(271414),n(244089),n(31159),n(141745),n(615237),n(486707),n(771522),n(953305);const et=(0,s.forwardRef)(((e,t)=>{let{as:n="div",style:a}=e,r=(0,c.Z)(e,["as","style"]);return s.createElement(n,(0,o.Z)((0,o.Z)({},r),{},{style:a,ref:t,className:(0,d.Z)(["_kqswh2mm",r.isLoading?"_syaz1kby":"_syazn7od",r.className])}))}));const tt=(0,s.forwardRef)(((e,t)=>{let{as:n="div",style:a}=e,r=(0,c.Z)(e,["as","style"]);return s.createElement(n,(0,o.Z)((0,o.Z)({},r),{},{style:a,ref:t,className:(0,d.Z)(["_kqswstnw _1ltv1ssb _18u01bs0 _154i1ssb _19pk1bs0",r.className])}))}));function nt({extension:e,onClick:t,isLoading:n}){const o=(0,s.useCallback)((n=>{n.stopPropagation(),t(e)}),[e,t]);return s.createElement(Ye.ContentToolsItem,{id:e.id,isDisabled:n,label:s.createElement(et,{isLoading:n},(0,Xe.L)(e),n&&s.createElement(tt,{"data-test-id":"forge-ui-extension-loading-spinner"},s.createElement(Je.Z,{size:"small"}))),onClick:o})}nt.displayName="ForgeContentToolsItem",n(374914);const ot=w.dQf;function at({contentId:e,spaceKey:t,children:n,onLoadComplete:o,isDropdownMenuOpen:a}){const r=(0,s.useContext)(I.F),[i,l]=(0,s.useState)(null),[c,d]=(0,s.useState)(!1),u=i&&!(c&&!a);(0,s.useEffect)((()=>{u||(r.abort({name:ot,reason:"Canceled by user"}),d(!1),l(null))}),[u,r]);const p=(0,s.useCallback)((()=>{o(),d(!1)}),[o,d]),m=(0,s.useCallback)((()=>{l(null)}),[l]),g=(0,s.useCallback)((e=>{r.start({name:ot,id:e.id,timeout:1e4}),l(e),d(!0)}),[l,d,r]),f=(0,s.useMemo)((()=>(0,We.l)((()=>s.createElement(Me,{isLoading:!0,isDisabled:!window.__SSR_RENDERED__})))),[]);return s.createElement(s.Fragment,null,!1,u&&s.createElement(rt,{extension:i,contentId:e,spaceKey:t,onLoadComplete:p,onClose:m}),s.createElement(f,{moduleType:$e.aN,render:e=>{const t=e.map((e=>s.createElement(nt,{key:e.id,extension:e,onClick:g,isLoading:i===e})));return n(t)}}))}at.displayName="ForgeContentTools";const st=(0,s.forwardRef)(((e,t)=>{let{as:n="div",style:a}=e,r=(0,c.Z)(e,["as","style"]);return s.createElement(n,(0,o.Z)((0,o.Z)({},r),{},{style:a,ref:t,className:(0,d.Z)(["_1e0cglyw",r.className])}))}));function rt({extension:e,contentId:t,spaceKey:n,onLoadComplete:o,onClose:a}){const r=(0,s.useContext)(I.F),{routeName:i}=(0,s.useContext)(Ve.z1),{createAnalyticsEvent:l}=(0,te._)(),{activationId:c}=(0,ne.D)(),d=(0,qe.a)(),u=(0,s.useCallback)((()=>{r.succeed({name:ot}),o();l({type:"sendTrackEvent",data:{action:"invoked",actionSubject:"forgeExtension",containerType:"space",containerId:d,objectType:(0,He.w)(i),objectId:t,source:$e.aN,attributes:{activationId:c,appId:(0,ze.rh)(e),moduleType:$e.aN,moduleKey:(0,ze.ZR)(e),spaceType:(0,Qe.N)(n),spaceId:d}}}).fire()}),[o,r,c,l,t,n,d,e,i]);return s.createElement(st,null,s.createElement(Ge.dy,{key:e.id,app:e,extensionData:{type:$e.aN,content:{id:t},space:{key:n}},temporaryContext:{contentId:t,spaceKey:n},onInitialRender:u,onTearDown:a}))}rt.displayName="ForgeUIExtensionLoader";const it=()=>s.createElement("div",{style:{height:"40px",display:"flex",width:"100%",padding:"8px 20px",alignItems:"center",boxSizing:"border-box"}},s.createElement("div",{style:{height:"17px",width:"100%",backgroundColor:"#F8F8F8",borderRadius:"10%"}}));it.displayName="ContentToolsItemPlaceholder";const lt=(0,L.ui)({__loadable_id__:"5pEFO",name:"LazyContentToolsItem",loader:async()=>(await Promise.resolve().then(n.bind(n,562006))).ContentToolsItem}),ct=(0,L.ui)({__loadable_id__:"_ntu3",name:"LazyContentToolsItemWithPlaceholder",loader:async()=>(await Promise.resolve().then(n.bind(n,562006))).ContentToolsItem,loading:()=>s.createElement(it,null)});var dt=n(499082),ut=n(312193),pt=n(475117),mt=n(131436),gt=n(432473),ft=n(278789);const ht=O.ZP`query EndOfPageRecHideQuery($type:String!$id:ID!$exp:String!$key:ID!){getRecommendedPages(entityType:$type entityId:$id experience:$exp){recommendedPages{content{id}}status{userCanToggle isEnabled}}getRecommendedPagesSpaceStatus(entityId:$key){recommendedPagesEnabled}}`;n(494908);const yt=(0,s.forwardRef)(((e,t)=>{let{as:n="span",style:a}=e,r=(0,c.Z)(e,["as","style"]);return s.createElement(n,(0,o.Z)((0,o.Z)({},r),{},{style:a,ref:t,className:(0,d.Z)(["_k48p4jg8",r.className])}))}));const vt=(0,_e.defineMessages)({hide:{id:"content-tools.eop.hide",defaultMessage:"Hide related pages..."},show:{id:"content-tools.eop.show",defaultMessage:"Show related pages"},flag:{id:"content-tools.eop.flag.description",defaultMessage:"Automatically generated suggestions will appear at the end of this page when available."},flag_results:{id:"content-tools.eop.flag.results",defaultMessage:"Automatically generated suggestions are now available at the end of this page."},flag_results_title:{id:"content-tools.eop.flag.title",defaultMessage:"Related pages shown"},flag_no_results:{id:"content-tools.eop.flag.no-results",defaultMessage:"Automatically generated suggestions will appear at the end of this page once we have some to show you."},flag_refresh:{id:"content-tools.eop.flag.refresh",defaultMessage:"Refresh to check for related pages"},show_tooltip:{id:"content-tools.eop.flag.tooltip",defaultMessage:"Related pages are off for this space"}}),bt=({entityId:e,entityType:t,spaceKey:n,contentToolsRef:a})=>{var r,i,l,c,d,u;const p=(0,s.useContext)(je),{createAnalyticsEvent:g}=(0,te._)(),f="page"!==t,{showFlag:h}=(0,C.Vb)(),{error:y,data:v}=(0,dt.aM)(ht,{variables:{type:t,id:e,exp:"end_of_page",key:n},errorPolicy:"all",skip:f}),[b,{error:E}]=(0,dt.Db)(gt.p,{refetchQueries:[{query:ft.L,variables:{type:t,id:e,exp:"end_of_page",key:n}}]}),_=null==v||null===(r=v.getRecommendedPages)||void 0===r||null===(i=r.status)||void 0===i?void 0:i.userCanToggle,w=null==v||null===(l=v.getRecommendedPagesSpaceStatus)||void 0===l?void 0:l.recommendedPagesEnabled,k=null==v||null===(c=v.getRecommendedPages)||void 0===c||null===(d=c.status)||void 0===d?void 0:d.isEnabled,I=null==v||null===(u=v.getRecommendedPages)||void 0===u?void 0:u.recommendedPages.length,S=(0,s.useCallback)((e=>()=>{p(!e)}),[p]),Z=(0,s.useCallback)((()=>{if(a.closeDialog(),k)g({type:"sendUIEvent",data:{source:"page",action:"clicked",actionSubject:"button",actionSubjectId:"hideEOPAdv",attributes:{contentId:e,triggeredFrom:"actionsMenu"}}}).fire(),a.setIsEndOfPageHideConfirmOpen(!0);else{g({type:"sendUIEvent",data:{source:"page",action:"clicked",actionSubject:"button",actionSubjectId:"showEOPAdv",attributes:{contentId:e,triggeredFrom:"actionsMenu"}}}).fire(),b({variables:{type:t,id:e,status:!0}});const n=I?s.createElement(m.Z,(0,o.Z)({},vt.flag_results_title)):s.createElement(yt,null,s.createElement(m.Z,(0,o.Z)({},vt.flag_no_results))),a=I?s.createElement(m.Z,(0,o.Z)({},vt.flag_results)):null;h({title:n,description:a,icon:s.createElement(pt.default,{primaryColor:mt.eE,label:""}),isAutoDismiss:!0})}}),[g,b,e,t,a,k,h,I]);if(f||!_)return null;if(y)return s.createElement(U.S,{attribution:B.x.SMARTS},s.createElement(W.X,{error:y}));if(E)return s.createElement(U.S,{attribution:B.x.SMARTS},s.createElement(W.X,{error:E}));const x=s.createElement(ut.Z,{isDisabled:!w,onClick:Z,testId:"eop-adv-menu-item"},k?s.createElement(m.Z,(0,o.Z)({},vt.hide)):s.createElement(m.Z,(0,o.Z)({},vt.show)));return s.createElement("div",{onMouseEnter:S(!0),onMouseLeave:S(!1)},w?x:s.createElement(fe.Z,{content:s.createElement(m.Z,(0,o.Z)({},vt.show_tooltip)),position:"mouse"},x))};bt.displayName="EndOfPageRecMenuItem",n(374396),n(527354),n(991532),n(873933),n(370306),n(234119),n(151194),n(780362),n(472980),n(994349),n(937604),n(634718),n(354326);const Et="action-export-pdf-link",_t="action-export-word-link",Ct="action-archive-link",wt="action-restore-link",kt="view-attachments-link",It="view-custom-contents-link",St="link-to-page-link",Zt="action-view-source-link",xt="view-in-hierarchy-link",Pt="action-view-storage-link",Ot="content-api",Mt="import-word-doc",Tt="export",Rt="advanced",Dt="third-party",Nt="end-of-page-recommendation-menu",At="attachments",Ft="view-page-info-link",Kt="contentToolsItem",Lt=(0,s.forwardRef)(((e,t)=>{let{as:n="div",style:a}=e,r=(0,c.Z)(e,["as","style"]);return s.createElement(n,(0,o.Z)((0,o.Z)({},r),{},{style:a,ref:t,className:(0,d.Z)(["_1e0c1txw",r.className])}))}));const jt=(0,s.forwardRef)(((e,t)=>{let{as:n="div",style:a}=e,r=(0,c.Z)(e,["as","style"]);return s.createElement(n,(0,o.Z)((0,o.Z)({},r),{},{style:a,ref:t,className:(0,d.Z)(["_16jlcs5v _1o9zkb7n _i0dlidpf _2hwxi2wt",r.className])}))}));const Ut=(0,s.forwardRef)(((e,t)=>{let{as:n="span",style:a}=e,r=(0,c.Z)(e,["as","style"]);return s.createElement(n,(0,o.Z)((0,o.Z)({},r),{},{style:a,ref:t,className:(0,d.Z)(["_ect485st _bfhk3739 _2rko1l7b _ca0qidpf _u5f31y44 _n3tdidpf _19bv1y44 _k48pbfng",r.className])}))}));const Bt=(0,L.ui)({__loadable_id__:"VnfJB",name:"LazyContentToolsItemForCopy",loader:async()=>(await Promise.resolve().then(n.bind(n,562006))).ContentToolsItem}),Wt=(0,L.ui)({__loadable_id__:"z23Pz",name:"LazyContentToolsItemForMove",loader:async()=>(await Promise.resolve().then(n.bind(n,562006))).ContentToolsItem});class $t extends s.PureComponent{constructor(...e){super(...e),(0,a.Z)(this,"state",{isDropdownMenuOpen:!1,nestedPopup:{[Tt]:!1,[Rt]:!1,[At]:!1}}),(0,a.Z)(this,"resolvedInlineCommentsItemRef",s.createRef()),(0,a.Z)(this,"contentToolsComponentRef",s.createRef()),(0,a.Z)(this,"toggleExportNestedPopup",(e=>{let t;t=void 0!==e?e:!this.state.nestedPopup.export,this.setState((e=>({nestedPopup:(0,o.Z)((0,o.Z)({},e.nestedPopup),{},{[Tt]:t})})))})),(0,a.Z)(this,"toggleAdvancedNestedPopup",(e=>{let t;t=void 0!==e?e:!this.state.nestedPopup.advanced,this.setState((e=>({nestedPopup:(0,o.Z)((0,o.Z)({},e.nestedPopup),{},{[Rt]:t})})))})),(0,a.Z)(this,"toggleAttachmentsNestedPopup",(e=>{let t;t=void 0!==e?e:!this.state.nestedPopup[At],this.setState((e=>({nestedPopup:(0,o.Z)((0,o.Z)({},e.nestedPopup),{},{[At]:t})})))})),(0,a.Z)(this,"makePublishPageAsBlogDialogOpener",((e,t,n)=>()=>{this.props.createAnalyticsEvent({type:"sendUIEvent",data:{action:"clicked",actionSubject:"button",actionSubjectId:"publishPageAsBlog",source:"contentToolsItem"}}).fire(),e.showDialog(J.ck,{contentId:n,spaceKey:t,source:X.U.ViewPage})})),(0,a.Z)(this,"makePresenterModeOpener",((e,t,n)=>()=>{this.props.createAnalyticsEvent({type:"sendUIEvent",data:{action:"clicked",actionSubject:"present",source:"moreActions",objectId:n,containerId:t}}).fire(),this.props.experienceTracker.start({name:w.jGm}),e()})),(0,a.Z)(this,"makeDeletePageDialogOpener",((e,t,n,o)=>()=>{this.props.createAnalyticsEvent({type:"sendUIEvent",data:{action:"clicked",actionSubject:"button",actionSubjectId:"deletePage",source:"contentToolsItem",attributes:{showArchiveUpsell:n===N.m.FREE}}}).fire(),this.props.experienceTracker.start({name:w.yFh}),e.showDialog(F.g,{contentId:t,shouldRedirectOnSuccess:!0,onClickUpsell:()=>{e.showDialog(P.KH,{showDeclineOption:!0})},source:"contentToolsItem",contentType:o})})),(0,a.Z)(this,"makeRevertEditorDialogOpener",((e,t,n)=>async()=>{(0,me.ie)(n,this.props.createAnalyticsEvent,{pageAction:me.Is.DIALOG_OPEN,source:"ViewPageAutoConversion"}),e.showDialog(Y,{contentId:t})})),(0,a.Z)(this,"makeArchivePageDialogOpener",((e,t,n,o)=>()=>{this.props.createAnalyticsEvent({type:"sendUIEvent",data:{action:"clicked",actionSubject:e?"archiveButton":"restoreButton",actionSubjectId:o===N.m.FREE?"archivePageUpsell":null,source:Kt,attributes:{confluenceEdition:o}}}).fire(),o!==N.m.FREE?(this.props.experienceTracker.start({name:e?w.pGO:w.i$A}),t.showDialog(e?P.vk:P.Ce,{contentId:n,source:Kt})):t.showDialog(P.KH)})),(0,a.Z)(this,"makeLinkToThisPageDialogOpener",((e,t)=>()=>{e.showDialog(H,{contentId:t})})),(0,a.Z)(this,"makeCopyPageTreeDialogOpener",((e,t,n)=>()=>{e.showDialog(A.A,{contentId:n,spaceKey:t})})),(0,a.Z)(this,"makeDownloadPageDialogOpener",((e,t)=>()=>{e.showDialog(j,{radioWebItems:t})})),(0,a.Z)(this,"makeInlineCommentsDialogOpener",((e,t,n)=>()=>{e.showDialog(ee.D2,{spaceKey:t,contentId:n,context:"renderer"})})),(0,a.Z)(this,"makeModernizedMovePageDialogOpener",((e,t,n)=>()=>{this.props.createAnalyticsEvent({type:"sendUIEvent",data:{action:"clicked",actionSubject:"button",actionSubjectId:"move",source:"contentToolsItem"}}).fire(),this.props.experienceTracker.start({name:w.jwr}),e.showDialog(G.o,{spaceKey:t,contentId:n,referrer:"view-page-actions-menu"})})),(0,a.Z)(this,"makeModernizedMoveBlogModalOpener",((e,t,n)=>()=>{e.showModal(pe.R,{currentSpaceKey:t,blogPostId:n,isEditMode:!1,isUnpublishedDraft:!1,referrer:"view-page-actions-menu"})})),(0,a.Z)(this,"getSectionComponent",((e,t,n,a,r,i,l)=>s.createElement(_.Z,{key:`${t}-popup`,zIndex:510,isOpen:this.state.nestedPopup[t],placement:"auto-start",onClose:()=>{this.setState({nestedPopup:{[Rt]:!1,[Tt]:!1,[At]:!1}})},content:()=>s.createElement(v.Z,{minWidth:220,onClick:e=>e.stopPropagation()},s.createElement(b.Z,null,e.filter((e=>!!e)).map((e=>{if(e.id===St)return e.url="",e.urlWithoutContextPath="",s.createElement(x.Z,{key:e.completeKey,analyticsData:{type:"sendUIEvent",data:{action:"clicked",actionSubject:"LinkToThisPageButton",source:"viewPageScreen",attributes:{triggeredFrom:"actionsMenu"}}}},s.createElement(lt,(0,o.Z)((0,o.Z)({key:e.completeKey},e),{},{onClick:this.makeLinkToThisPageDialogOpener(n,a)})));if(t.id===xt)return s.createElement(x.Z,{key:e.completeKey,analyticsData:{type:"sendUIEvent",data:{action:"clicked",actionSubject:"ViewInHierarchyButton",source:"viewPageScreen",attributes:{triggeredFrom:"actionsMenu"}}}},s.createElement(lt,(0,o.Z)({key:e.completeKey},e)));if(e.id===Nt)return s.createElement(bt,{entityId:a,entityType:r,spaceKey:l,contentToolsRef:this.contentToolsComponentRef.current});if(e.id===kt){var i,c;const t=`${this.props.intl.formatMessage({defaultMessage:"Files",id:"content-tools.files.nested.section.heading",description:"The text that display in the menu dropdown that group Files and Custom Contents"})} (${null!=e&&null!==(i=e.label)&&void 0!==i&&i.match(/\d+/g)?null==e||null===(c=e.label)||void 0===c?void 0:c.match(/\d+/g)[0]:""})`;return s.createElement(x.Z,{key:e.completeKey,analyticsData:R.wd},s.createElement(lt,(0,o.Z)((0,o.Z)({},e),{},{label:t})))}if(e.id===It){const t=`${this.props.intl.formatMessage({defaultMessage:"Custom Contents",id:"content-tools.files.nested.section.heading",description:"The text that display in the menu dropdown that group Files and Custom Contents"})} (${""})`;return s.createElement(x.Z,{key:e.completeKey,analyticsData:{type:"sendUIEvent",data:{action:"clicked",actionSubject:"ViewCustomContentsButton",source:"contentToolMenu",attributes:{triggeredFrom:"actionsMenu"}}}},s.createElement(lt,(0,o.Z)((0,o.Z)({},e),{},{label:t})))}return s.createElement(lt,(0,o.Z)({key:e.completeKey},e))})))),trigger:e=>{const n={[Tt]:"export-button",[Rt]:"advanced-button",[At]:"attachments-button"};return s.createElement(E.Z,(0,o.Z)((0,o.Z)({},e),{},{testId:n[t],onMouseEnter:()=>{t===Tt&&this.toggleExportNestedPopup(),t===At&&this.toggleAttachmentsNestedPopup(),t===Rt&&this.toggleAdvancedNestedPopup()},isSelected:this.state.nestedPopup[t],onClick:()=>{t===Tt&&this.toggleExportNestedPopup(),t===At&&this.toggleAttachmentsNestedPopup(),t===Rt&&this.toggleAdvancedNestedPopup()},iconAfter:s.createElement(y.default,{label:""})}),t===Tt&&(i?s.createElement("span",null,i):s.createElement(m.Z,{defaultMessage:"Export",id:"content-tools.export.nested.section.heading"})),t===Rt&&s.createElement(m.Z,{defaultMessage:"Advanced details",id:"content-tools.advanced.nested.section.heading"}),t===At&&s.createElement(m.Z,{defaultMessage:"Attachments",id:"content-tools.attachments.nested.section.heading"}))}}))),(0,a.Z)(this,"groupWebItemsBySubSection",(e=>{e.forEach((e=>{-1!==[_t,Et].indexOf(e.id)?e.subSection=Tt:-1!==[St,Ft,Zt,xt,Pt,Ot,Mt,Nt].indexOf(e.id)?e.subSection=Rt:-1!==e.completeKey.indexOf("com.atlassian.plugins.atlassian-connect-plugin")&&"com.addonengine.analytics__analytics-content-menu-item"!==e.id?e.subSection=Dt:-1!==[At,It].indexOf(e.id)?e.subSection=At:e.subSection="others"}))})),(0,a.Z)(this,"getAllowedWebItems",(e=>this.props.allowedContentToolsItems?e.filter((e=>this.props.allowedContentToolsItems.includes(e.id))):e)),(0,a.Z)(this,"addEndofPageRecommendationToWebItems",(e=>[...e,{accessKey:null,completeKey:Nt,hasCondition:!0,icon:null,id:Nt,label:"Hide related pages...",moduleKey:"end-of-page-recommendation-menu",section:"system.content.action/primary",webSection:"secondary"}]))}splitInSections(e){return e?p()(e,"section"):{}}createMenuItems(e,t,n,a,r=!1,i=!0,l,c,d){const{spaceKey:u,contentId:p}=this.props,m=this.splitInSections(e),g=[],h=[],y=[],v=[],b=[],E=[],_={onMouseEnter:e=>{e.stopPropagation(),this.setState({nestedPopup:{[Rt]:!1,[Tt]:!1,[At]:!1}})}};let C;if((t||Object.keys(m)).forEach((e=>{const t=(m[e]||[]).map((e=>{if(e.subSection===Tt)return y.push(e),null;if(e.subSection===Rt)return v.push(e),null;if(e.subSection===Dt)return e.className=e.styleClass,b.push(e),null;if(e.id===ge.bm)return C=s.createElement(U.S,{attribution:B.x.BACKBONE,key:e.completeKey},s.createElement(le.e,null,(({featureFlagClient:t})=>s.createElement(lt,(0,o.Z)((0,o.Z)((0,o.Z)({key:e.completeKey},e),_),{},{url:void 0,onClick:this.makeRevertEditorDialogOpener(a,p,t)}))))),null;if("action-view-history-link"===e.id)return s.createElement(lt,(0,o.Z)((0,o.Z)({},_),{},{id:e.id,label:e.label,url:e.url,key:e.completeKey}));if(e.id===V.AE)return s.createElement(q,{webItemId:e.id,key:e.completeKey},s.createElement(lt,(0,o.Z)((0,o.Z)({},e),_)));if("view-resolved-comments"===e.id)return s.createElement(lt,(0,o.Z)((0,o.Z)({},_),{},{id:"bm-resolved-inline-comments",key:e.completeKey,label:s.createElement(Lt,null,s.createElement(jt,null,s.createElement("span",null,e.label," ")),s.createElement(ee.e3,{contentId:p})),ref:this.resolvedInlineCommentsItemRef,onClick:this.makeInlineCommentsDialogOpener(a,u,p)}));if("action-page-permissions-link"===e.id){if(r){return!n["confluence.frontend.page-share-and-permissions"]&&!d&&s.createElement(U.S,{attribution:B.x.MISSION_CONTROL,key:e.completeKey},s.createElement(re,null,(e=>s.createElement(lt,(0,o.Z)((0,o.Z)({},e),_)))))}return null}if(e.id===St)return e.url="",e.urlWithoutContextPath="",h.push({accelerator:S.LINK_TO_THIS_PAGE_SHORTCUT,itemId:e.id}),s.createElement(lt,(0,o.Z)((0,o.Z)((0,o.Z)({key:e.completeKey},e),_),{},{onClick:this.makeLinkToThisPageDialogOpener(a,p)}));if("action-copy-page-link"===e.id)return e.url="",e.urlWithoutContextPath="",s.createElement(Bt,(0,o.Z)((0,o.Z)((0,o.Z)({key:e.completeKey},e),_),{},{onClick:this.makeCopyPageTreeDialogOpener(a,u,p)}));if("presentation-mode"===e.id)return!r&&n[Fe]?(e.url="",e.urlWithoutContextPath="",h.push({accelerator:S.PRESENTATION_MODE_SHORTCUT,itemId:e.id}),s.createElement(U.S,{attribution:B.x.CONTENT_EXPERIENCE},s.createElement(Q.j,{key:`presenter-mode-menu-item-${e.completeKey}`},(t=>s.createElement(ct,(0,o.Z)((0,o.Z)((0,o.Z)({key:e.completeKey},e),_),{},{onClick:this.makePresenterModeOpener(t,u,p),label:s.createElement(Lt,null,s.createElement(jt,null,s.createElement("span",null,e.label)),s.createElement(Ut,null,"r"))})))))):null;if("action-convert-page-to-blog"===e.id)return i&&l?(e.url="",e.urlWithoutContextPath="",s.createElement(lt,(0,o.Z)((0,o.Z)((0,o.Z)({key:e.completeKey},e),_),{},{onClick:this.makePublishPageAsBlogDialogOpener(a,u,p)}))):null;if(e.id===kt){if(!n["confluence.frontend.forge-custom-content"])return h.push({accelerator:S.VIEW_ATTACHMENTS_SHORTCUT,itemId:e.id}),s.createElement(x.Z,{key:e.completeKey,analyticsData:R.wd},s.createElement(lt,(0,o.Z)((0,o.Z)({},e),_)));const t={id:It,label:"Custom Contents",url:z.GJ.toUrl({contentId:this.props.contentId,spaceKey:this.props.spaceKey}),accessKey:null,completeKey:"confluence.content.action.menu.new:view-custom-contents",hasCondition:!0,icon:null,subSection:At};return E.push(e),E.push(t),this.getSectionComponent(E,At,a,p,c,e.label)}if(e.className=e.styleClass,e.id===ge.gX)return s.createElement(U.S,{attribution:B.x.MISSION_CONTROL,key:e.completeKey},s.createElement(le.e,null,(({edition:t})=>s.createElement(lt,(0,o.Z)((0,o.Z)((0,o.Z)({key:e.completeKey},e),_),{},{url:void 0,onClick:this.makeDeletePageDialogOpener(a,p,t,c)})))));if(e.id===Ct||e.id===wt){const t=e.id===Ct;return s.createElement(U.S,{attribution:B.x.MISSION_CONTROL,key:e.completeKey},s.createElement(le.e,null,(({edition:n})=>s.createElement(f.AE,{query:M,variables:{contentId:p}},(({loading:r,error:i,data:l})=>{var c,d,u;const m=null==l||null===(c=l.content)||void 0===c||null===(d=c.nodes)||void 0===d||null===(u=d[0])||void 0===u?void 0:u.operations;return r?null:i?s.createElement(W.X,{error:i}):n===N.m.FREE&&e.id!==wt||null!==m&&(0,T.e)(m)?s.createElement(lt,(0,o.Z)((0,o.Z)((0,o.Z)({},e),_),{},{label:e.label,url:void 0,onClick:this.makeArchivePageDialogOpener(t,a,p,n)})):null})))))}if(e.id===ge._J){return n["confluence.frontend.predictable-global-create.breadcrumbs-move-page"]?(e.url="",e.urlWithoutContextPath="",e.id=`${e.id}-modernized`,s.createElement(Wt,(0,o.Z)((0,o.Z)((0,o.Z)({key:e.completeKey},e),_),{},{onClick:this.makeModernizedMoveBlogModalOpener(a,u,p)}))):s.createElement(de.n,{key:e.completeKey,wrm:ge.q1},(()=>s.createElement(s.Fragment,null,s.createElement(lt,(0,o.Z)((0,o.Z)({},e),_)))))}if("action-move-page-dialog-link"===e.id)return e.url="",e.urlWithoutContextPath="",e.id=`${e.id}-modernized`,s.createElement(Wt,(0,o.Z)((0,o.Z)((0,o.Z)({key:e.completeKey},e),_),{},{onClick:this.makeModernizedMovePageDialogOpener(a,u,p)}));if("action-export-web-item"===e.id){const t=this.props.intl.formatMessage({defaultMessage:"Download",id:"content-tools.download.section.heading",description:"Display text in the menu dropdown will download/export Confluece Space or Page"});return n["confluence.frontend.download.page.dialog"]?s.createElement(lt,(0,o.Z)((0,o.Z)((0,o.Z)({key:e.completeKey},e),_),{},{label:t,url:void 0,onClick:this.makeDownloadPageDialogOpener(a,y)})):this.getSectionComponent(y,Tt,a,p,c,e.label)}return s.createElement(lt,(0,o.Z)({key:e.completeKey},e))})).filter((e=>!!e));if("system.content.action/primary"===e&&!this.props.allowedContentToolsItems){const e=t.findIndex((e=>"com.atlassian.confluence.plugins.confluence-inline-comments:view-resolved-comments-new"===e.key)),n=this.getSectionComponent(v,Rt,a,p,c,void 0,u);t.splice(e+1,0,n)}t.length>0&&g.push(t)})),!this.props.allowedContentToolsItems){const e=b.findIndex((e=>"confluence-chats-integration__page-config-dialog-trigger"===e.id)),t=b.splice(e,1)[0];b.splice(0,0,t);const n=b.filter((e=>!!e)).map((e=>s.createElement(ct,(0,o.Z)((0,o.Z)({key:e.completeKey},e),_))));n.length>0&&g.push(n)}return n["confluence.frontend.page.editorconversion"]&&C&&g.push(C),[g,h]}renderResolvedInlineCommentsQueryRendererLoader(e,t){return s.createElement(ie.M.Consumer,null,(({getQueryParams:n})=>{const{focusedCommentId:o}=n();return o?s.createElement(ee.C$,{spaceKey:e,contentId:t,resolvedInlineCommentsItemRef:this.resolvedInlineCommentsItemRef}):null}))}renderMenuItems(e,t,n,o,a,i){const{isDropdownMenuOpen:l}=this.state;return s.createElement(r.xs,{to:[K.l]},(r=>s.createElement(le.e,null,(({featureFlags:c})=>s.createElement(ie.M.Consumer,null,(({match:d})=>s.createElement(ce.p,{tagName:"span",location:"system.content.action",hasMultipleSections:!0,contentId:t,version:n,renderWhenLoading:!0},(({loading:n,webItems:u,webSections:p})=>{var m,g;if(n){if(this.props.allowedContentToolsItems&&0==this.props.allowedContentToolsItems.length)return null;const e=Boolean(window.__SSR_RENDERED__);return s.createElement(s.Fragment,null,!1,s.createElement(Me,{isDisabled:!e,isLoading:!0}))}u=this.addEndofPageRecommendationToWebItems(u);const f=this.getAllowedWebItems(u);this.groupWebItemsBySubSection(f);const h=(null!=(g=d)?g.name:g)===z.y4.name,y=(null!=(m=d)?m.name:m)===z.SM.name,[v,b]=this.createMenuItems(f,p,c,r,h,y,o,a,i);return this.props.allowedContentToolsItems&&0==v.length?null:s.createElement(at,{spaceKey:e,contentId:t,onLoadComplete:()=>{this.contentToolsComponentRef.current.closeDialog()},isDropdownMenuOpen:l},(n=>{let o=v;if(n.length){const e=n.map((e=>s.createElement($.N,{key:e.props.extension.id,module:e.props.extension},e)));o=[...v,e]}const r=n.map((e=>s.createElement($.u,{key:e.props.extension.id,module:e.props.extension,action:()=>{(0,ue.GD)(),(0,ue.Zo)(e.props.extension.id)}})));return s.createElement(s.Fragment,null,s.createElement(Be,{contentType:a,key:"content-tools-component",contentId:t,itemSections:o,keyboardShortcuts:b,ref:this.contentToolsComponentRef,onOpenChange:e=>this.setState({isDropdownMenuOpen:e}),featureFlags:c,preloadCopyItem:Bt.preload,preloadMoveItem:Wt.preload,spaceKey:e,isExternalCollaborator:i}),r)}))}))))))))}render(){const{spaceKey:e,contentId:t,version:n,onRender:o,isFabricPage:a,contentType:i,isExternalCollaborator:l}=this.props;return o(),s.createElement(C.Q_,null,s.createElement(U.S,{attribution:B.x.BACKBONE},s.createElement(D.q,{key:`start-${t}`,metric:Ae}),s.createElement(k.U,{id:t,name:w.sjY}),s.createElement(s.Fragment,null,this.renderMenuItems(e,t,n,a,i,l),this.renderResolvedInlineCommentsQueryRendererLoader(e,t),s.createElement(r.xs,{to:[K.l]},(e=>s.createElement(Z.S,{accelerator:S.LINK_TO_THIS_PAGE_SHORTCUT,listener:this.makeLinkToThisPageDialogOpener(e,t)}))))))}}$t.displayName="ContentToolsClass",(0,a.Z)($t,"defaultProps",{onRender:()=>{},version:null,allowedContentToolsItems:null});const Ht=(0,I.Q)((0,h.Z)()((0,g.ZP)($t)));class zt extends s.PureComponent{constructor(...e){super(...e),(0,a.Z)(this,"isItemMarked",!1),(0,a.Z)(this,"markItem",null),(0,a.Z)(this,"buttonRendered",(()=>{this.isItemMarked||(this.isItemMarked=!0,this.markItem(i.k.CONTENT_TOOLS))}))}render(){return s.createElement(r.xs,{to:[l.F]},(({addItem:e,markItem:t})=>(e(i.k.CONTENT_TOOLS),this.markItem=t,s.createElement(Ht,(0,o.Z)((0,o.Z)({},this.props),{},{onRender:this.buttonRendered})))))}}zt.displayName="ContentToolsWrapper"},307906:(e,t,n)=>{"use strict";n.d(t,{gX:()=>o,_J:()=>a,q1:()=>s,bm:()=>r});const o="action-remove-content-link",a="action-move-blogpost-dialog-link",s="wr!confluence.web.resources:deferred-dialog-loader",r="action-downgrade-to-tiny"},328446:(e,t,n)=>{"use strict";n.d(t,{l:()=>i});var o=n(991332),a=n(29298),s=n(122551),r=n(507080);class i extends r.W2{constructor(e=[]){super(),(0,a.Z)(this,"nextKey",void 0),(0,a.Z)(this,"showModal",((e,t,n)=>{this.showDialog(e,t,n)})),(0,a.Z)(this,"showDialog",((e,t,n)=>{const a=this.nextKey,r=t||{};this.nextKey++;const i=s.createElement(e,(0,o.Z)((0,o.Z)({},r),{},{onClose:(...e)=>this.onChildClose(a,...e),onCloseComplete:(...e)=>this.onChildCloseComplete(a,...e)}),n);return this.setState((e=>({stack:[...e.stack,{key:a,component:i,alive:!0,originalProps:{onClose:"onClose"in r?r.onClose:void 0,onCloseComplete:"onCloseComplete"in r?r.onCloseComplete:void 0}}]}))),()=>{this.onChildClose(a)}})),this.nextKey=0,this.state={stack:e},e&&e.forEach((e=>{this.nextKey=Math.max(this.nextKey,e.key+1)}))}onChildClose(e,...t){const n=this.state.stack.find((t=>t.key===e));n&&(n.originalProps.onClose&&n.originalProps.onClose(...t),this.setState((e=>({stack:e.stack.map((e=>e===n?(0,o.Z)((0,o.Z)({},e),{},{alive:!1}):e))}))))}onChildCloseComplete(e,...t){const n=this.state.stack.find((t=>t.key===e));n&&(n.originalProps.onCloseComplete&&n.originalProps.onCloseComplete(...t),this.setState((e=>({stack:e.stack.filter((e=>e!==n))}))))}}},455522:(e,t,n)=>{"use strict";n.d(t,{CW:()=>o,Sg:()=>a});const o="confluence.frontend.page.editorconversion",a="confluence.frontend.fabric.editor.all-pages"},87694:(e,t,n)=>{"use strict";n.d(t,{iY:()=>a,Is:()=>s,pZ:()=>r,ie:()=>i,tl:()=>l,K8:()=>c});var o=n(455522);let a,s,r;!function(e){e.VIEWED="pageViewed",e.EDITED="pageEdited",e.PUBLISHED="pagePublished"}(a||(a={})),function(e){e.DIALOG_OPEN="revertDialogOpen",e.CLICKED="revertClicked",e.CANCELLED="revertCancelled",e.CONFIRMED="revertConfirmed",e.ERROR="revertError"}(s||(s={})),function(e){e.VIEWED="panelViewed",e.SUPPORTED="panelSupported",e.NONE="panelNone",e.GET_ERROR="panelGetError",e.SET_ERROR="panelSetError"}(r||(r={}));const i=(e,t,n)=>{const{pageAction:a,source:s}=n;t({type:"sendUIEvent",data:{action:"triggered",actionSubject:"autoConversion",source:s,actionSubjectId:"page",attributes:{isAutoConvertEnabled:e.getBooleanValue(o.CW,{default:!1}),isFabricAllPagesEnabled:e.getBooleanValue(o.Sg,{default:!1}),pageAction:a}}}).fire()},l=(e,t)=>{const{level:n,panelAction:o,source:a}=t;e({type:"sendUIEvent",data:{action:"clicked",actionSubject:"autoConversion",source:a,actionSubjectId:"panel",attributes:{level:n,panelAction:o}}}).fire()},c=(e,{fabricEditorEligibility:t,tinyOrFabric:n,editorProperty:o})=>{e({type:"sendScreenEvent",data:{name:"fabricEditorEligibility",attributes:{location:"viewpage",tinyOrFabric:n,fabricEditorEligibility:t,editorProperty:o}}}).fire()}},874864:(e,t,n)=>{"use strict";n.d(t,{d6:()=>o,H$:()=>a,aN:()=>s,NE:()=>r,QG:()=>i,zg:()=>l,dd:()=>c,dv:()=>d,Sn:()=>u});const o="confluence:contentBylineItem",a="confluence:contextMenu",s="confluence:contentAction",r="confluence:globalPage",i="confluence:globalSettings",l="confluence:homepageFeed",c="confluence:spacePage",d="confluence:spaceSettings",u="confluence:customContent"},584344:(e,t,n)=>{"use strict";n.d(t,{N:()=>c,u:()=>d});var o=n(122551),a=n(112261),s=n(604343),r=n(417130),i=n(559214);const l=e=>{var t,n,o;return null!==(t=null==e||null===(n=e.properties)||void 0===n||null===(o=n.keyboardShortcut)||void 0===o?void 0:o.accelerator)&&void 0!==t?t:""},c=({module:e,tooltip:t="",children:n})=>{const i=l(e);return i&&!s.HU.includes(i)?o.createElement(a.Z,{tag:"span",testId:`forge-keyboard-shortcut-visualizer-${i}`,content:o.createElement(r.oW,{shortcut:i,contentBefore:t})},n):o.createElement(o.Fragment,null,n)},d=({module:e,action:t})=>{const n=l(e);return n&&t&&!s.HU.includes(n)?o.createElement("span",{"data-testid":`forge-keyboard-shortcut-${n}`},o.createElement(i.S,{accelerator:n,listener:t,shortcutType:i.P.Forge})):null}},775906:(e,t,n)=>{"use strict";n.d(t,{l:()=>a,r:()=>s});var o=n(28201);const a=e=>(0,o.ZR)({__loadable_id__:"gJTDP",name:"next.packages.forge-ui.src.lazy.ts",loader:async()=>(await Promise.all([n.e(78248),n.e(54936),n.e(99751),n.e(16665),n.e(45762)]).then(n.bind(n,833535))).ForgeUIExtensionsWrapper,loading:e}),s=a(void 0)},488430:(e,t,n)=>{"use strict";n.d(t,{rh:()=>o,ZR:()=>a,BX:()=>s});const o=e=>{if(null==e||!e.id)return;const[,t]=e.id.split("/");return t},a=e=>{if(!e.id)return;const t=e.id.split("/");return t[t.length-1]},s=e=>`forge:${o(e)}:${e.environmentId}:${a(e)}`},448214:(e,t,n)=>{"use strict";n.d(t,{w:()=>o});const o=e=>null!=e&&e.includes("PAGE")?"page":null!=e&&e.includes("BLOG")?"blogpost":null!=e&&e.includes("SPACE")?"space":"page"},820386:(e,t,n)=>{"use strict";n.d(t,{L:()=>o});const o=(e,t)=>{const n=t||e.properties.title;let o="";var a;return"PRODUCTION"!==e.environmentType&&(o=` (${a=e.environmentType||"",a&&a.length?a.charAt(0).toUpperCase()+a.slice(1).toLowerCase():""})`),n+o}},962117:(e,t,n)=>{"use strict";function o(e,t,n){!e()&&t&&setTimeout((()=>o(e,t-1,n)),n)}function a(e){if(!e||!e.length)return;let t="#"===e[0]?e:`#${e}`;return function(e){return e.startsWith("ari:cloud:ecosystem::extension")}(e)&&(t=function(e){return e.replace(/\//g,"\\/").replace(/:/g,"\\:")}(t)),t}function s(e){const t=document.querySelector(e);"true"===t.getAttribute("aria-expanded")||t.click()}function r(e){const t=a(e);t&&o((()=>{const e=document.querySelector(t);if(e)return e.click(),!0}),100,5)}function i(e){var t;const n=a(e);if(!n)return;const o=new MouseEvent("mouseup",{bubbles:!0,cancelable:!0});null===(t=document.querySelector(n))||void 0===t||t.dispatchEvent(o)}function l(){s("#tools-menu-trigger")}function c(){s("#context-menu-other-apps")}n.d(t,{Zo:()=>r,c$:()=>i,GD:()=>l,gI:()=>c})},631934:(e,t,n)=>{"use strict";n.d(t,{R:()=>o});const o=(0,n(28201).ui)({__loadable_id__:"a7EnP",name:"MoveBlogModalLoader",loader:async()=>(await Promise.all([n.e(12705),n.e(61769),n.e(11216),n.e(89990),n.e(12953),n.e(42546)]).then(n.bind(n,303789))).MoveBlogModal})},643164:(e,t,n)=>{"use strict";n.d(t,{a:()=>o});const o=(0,n(464984).defineMessages)({title:{id:"page-recommendations.eop.title",defaultMessage:"Related pages"},feedback:{id:"page-recommendations.eop.feedback.button",defaultMessage:"Give feedback"},info:{id:"page-recommendations.eop.feedback.info",defaultMessage:"These suggestions are automatically generated based on pages that are viewed or are organized together. Suggestions update over time and respect page restrictions."},hide:{id:"page-recommendations.eop.feedback.hide",defaultMessage:"Hide for everyone..."},modal_title:{id:"page-recommendations.eop.hide.modal.title",defaultMessage:"Hide related pages for <b>everyone</b>?"},modal_cancel:{id:"page-recommendations.eop.hide.modal.cancel",defaultMessage:"Cancel"},modal_hide:{id:"page-recommendations.eop.hide.modal.hide.button",defaultMessage:"Hide for everyone"},modal_info:{id:"page-recommendations.eop.hide.modal.info",defaultMessage:"Suggestions for this page will be hidden from everyone."},modal_info_show:{id:"page-recommendations.eop.hide.modal.info.show",defaultMessage:"You can show related pages again under advanced details for this page."},space_setting_info:{id:"page-recommendations.eop.space.setting.info",defaultMessage:"Related pages are automatically generated suggestions that are based on pages viewed or organized together. These will appear as a series of cards at the bottom of some pages, and may update over time."},space_setting_hide_toggle:{id:"page-recommendations.eop.space.setting.hide.toggle",defaultMessage:"Related pages"},space_setting_default:{id:"page-recommendations.eop.space.setting.default",defaultMessage:"Default behavior"},space_setting_on:{id:"page-recommendations.eop.space.setting.on",defaultMessage:"Related pages are on for this space, but anyone with edit permissions can hide suggestions on a page."},space_setting_on_hidden:{id:"page-recommendations.eop.space.setting.on.hidden",defaultMessage:"Related pages are on for this space, but suggestions will be hidden unless set to show on a page by someone with edit permissions."},space_setting_off:{id:"page-recommendations.eop.space.setting.off",defaultMessage:"Related pages are off for this space."},space_setting_hidden:{id:"page-recommendations.eop.space.setting.default.hidden",defaultMessage:"Hidden on each page"},space_setting_shown:{id:"page-recommendations.eop.space.setting.default.shown",defaultMessage:"Shown on each page"},feedbackMessage:{id:"page-recommendations.related.pages.space.settings.feedback.section",defaultMessage:"What do you think of related pages?"},feedbackButtonText:{id:"page-recommendations.related.pages.space.settings.feedback.button.text",defaultMessage:"Give feedback"},feedbackTitle:{id:"page-recommendations.feedback.title.v2",defaultMessage:"Thank you for trying out related pages"},feedbackDescription:{id:"page-recommendations.feedback.description",defaultMessage:"How satisfied are you with related pages?"},feedbackFollowup:{id:"page-recommendations.feedback.followup",defaultMessage:"Thanks for the feedback! What do you like about it? What could be improved?"},feedbackSecondFollowup:{id:"page-recommendations.feedback.followup.second",defaultMessage:"Any feedback on the related pages for this specific page?"},feedbackConfirmation:{id:"page-recommendations.feedback.confirmation",defaultMessage:"Feedback submitted"},feedbackConfirmationDescription:{id:"page-recommendations.feedback.confirmation.description.v2",defaultMessage:"Thank you for helping us improve related pages!"},feedbackSubmit:{id:"page-recommendations.feedback.submit",defaultMessage:"Submit"},feedbackCancel:{id:"page-recommendations.feedback.cancel",defaultMessage:"Cancel"},terrible:{id:"page-recommendations.feedback.rating.terrible",defaultMessage:"terrible"},bad:{id:"page-recommendations.feedback.rating.bad",defaultMessage:"bad"},okay:{id:"page-recommendations.feedback.rating.okay",defaultMessage:"okay"},good:{id:"page-recommendations.feedback.rating.good",defaultMessage:"good"},great:{id:"page-recommendations.feedback.rating.great",defaultMessage:"great"}})},85667:(e,t,n)=>{"use strict";n.d(t,{j:()=>i,Y:()=>r});var o=n(122551),a=n(28201);const s=()=>o.createElement("div",{style:{height:"40px",display:"flex",width:"100%",padding:"8px 20px",alignItems:"center",boxSizing:"border-box"}},o.createElement("div",{style:{height:"17px",width:"100%",backgroundColor:"#F8F8F8",borderRadius:"10%"}}));s.displayName="PresentationModePlaceholder";const r=(0,a.tM)({__loadable_id__:"tWOrF",name:"PresenterModeContextProvider",loader:async()=>(await Promise.all([n.e(12705),n.e(61769),n.e(78248),n.e(54936),n.e(11216),n.e(91306),n.e(40611),n.e(93964),n.e(1054),n.e(43101),n.e(24751),n.e(33079),n.e(77586),n.e(80241),n.e(86888),n.e(82985),n.e(46810),n.e(80256),n.e(13156),n.e(41780),n.e(51514),n.e(79551),n.e(76701),n.e(76530),n.e(1235),n.e(63313),n.e(41232),n.e(37213),n.e(65300),n.e(38727)]).then(n.bind(n,510132))).PresenterModeContextProvider}),i=(0,a.ui)({__loadable_id__:"1f8c4",name:"LazyPresenterModeContextConsumer",loader:async()=>(await Promise.all([n.e(12705),n.e(61769),n.e(78248),n.e(54936),n.e(11216),n.e(91306),n.e(40611),n.e(93964),n.e(1054),n.e(43101),n.e(24751),n.e(33079),n.e(77586),n.e(80241),n.e(86888),n.e(82985),n.e(46810),n.e(80256),n.e(13156),n.e(41780),n.e(51514),n.e(79551),n.e(76701),n.e(76530),n.e(1235),n.e(63313),n.e(41232),n.e(37213),n.e(65300),n.e(38727)]).then(n.bind(n,510132))).PresenterModeContextConsumer,loading:()=>o.createElement(s,null)})},161807:(e,t,n)=>{"use strict";let o;n.d(t,{U:()=>o}),function(e){e.ViewPage="VIEW_PAGE",e.EditPage="EDIT_PAGE"}(o||(o={}))},104235:(e,t,n)=>{"use strict";n.d(t,{ck:()=>o});const o=(0,n(28201).ZR)({__loadable_id__:"KxCpf",name:"PublishPageAsBlogDialog",loader:async()=>(await Promise.all([n.e(12705),n.e(61769),n.e(78248),n.e(24490),n.e(77905)]).then(n.bind(n,419661))).PublishPageAsBlogDialog})},52446:(e,t,n)=>{"use strict";n.d(t,{D2:()=>a,C$:()=>s,e3:()=>r});var o=n(28201);const a=(0,o.ui)({__loadable_id__:"4H-Ub",name:"ResolvedInlineCommentsDialogLoader",loader:async()=>(await Promise.all([n.e(12705),n.e(61769),n.e(78248),n.e(54936),n.e(11216),n.e(97996),n.e(91306),n.e(40611),n.e(93964),n.e(1054),n.e(43101),n.e(24751),n.e(33079),n.e(77586),n.e(80241),n.e(86888),n.e(49149),n.e(82985),n.e(46810),n.e(80256),n.e(13156),n.e(41780),n.e(51514),n.e(79551),n.e(76701),n.e(76530),n.e(1235),n.e(63313),n.e(41232),n.e(37213),n.e(33763),n.e(68665),n.e(38393)]).then(n.bind(n,604794))).ResolvedInlineCommentsDialog}),s=(0,o.ui)({__loadable_id__:"06nBM",name:"ResolvedInlineCommentsQueryRendererLoader",loader:async()=>(await n.e(42975).then(n.bind(n,710151))).ResolvedInlineCommentsQueryRenderer}),r=(0,o.ZR)({__loadable_id__:"nWOvd",name:"ResolvedInlineCommentsCounterLoader",loader:async()=>(await n.e(51790).then(n.bind(n,952719))).ResolvedInlineCommentsCounter})},510555:(e,t,n)=>{"use strict";n.d(t,{jb:()=>r,g6:()=>i,bs:()=>c,Es:()=>d,Nd:()=>u,RW:()=>p});const o=(0,n(616158).j)("session-data"),a="confluence-frontend-next.featureFlagLocalOverrides",s=(()=>{try{const e="__random__local__storage__test__key__";return window.localStorage.setItem(e,e),window.localStorage.removeItem(e),!0}catch(e){return!1}})(),r=()=>{let e;e=s?window.localStorage.getItem(a):window.sessionStorage.getItem(a);try{return e?JSON.parse(e):{}}catch(t){return{}}},i=()=>s?null!=window.localStorage.getItem(a):null!=window.sessionStorage.getItem(a),l=e=>{const t=e(r());if(Object.keys(t).length)if(s)try{window.localStorage.setItem(a,JSON.stringify(t))}catch(n){o.error`Unable to set local storage. key = "${a}", value = "${JSON.stringify(t)}"`}else window.sessionStorage.setItem(a,JSON.stringify(t));else s?window.localStorage.removeItem(a):window.sessionStorage.removeItem(a);return t},c=(e,t)=>l((n=>(n[e]=t,n))),d=e=>l((t=>(delete t[e],t))),u=()=>l((()=>({}))),p=(e,t)=>{if(!i())return e;const n=r();return Object.keys(e).reduce(((o,a)=>(o[a]=t(a,n,e),o)),{})}},917068:(e,t,n)=>{"use strict";n.d(t,{e:()=>u,g:()=>d});var o=n(29298),a=n(122551),s=n(913879),r=n(158238),i=n(991332),l=n(997811),c=n(115181);const d=()=>window.__SESSION_DATA_PROMISE__?window.__SESSION_DATA_PROMISE__:window.__SESSION_DATA_PROMISE__=(0,s.LW)(async function(e={}){if(window.USE_MOCKED_SESSION_DATA)return new Promise((e=>{window.MOCK_SESSION_DATA_RESOLVE=e}));if(window.__SESSION_DATA__)return window.__SESSION_DATA__;const t=window.GLOBAL_APOLLO_CLIENT_URI||"/cgraphql";return window.__SESSION_DATA__=c.H.run("fetch:SessionDataQuery",(()=>fetch(`${t}?q=SessionDataQuery`,(0,l.I)({method:"POST",credentials:"include",referrerPolicy:"same-origin",headers:(0,i.Z)({"X-APOLLO-OPERATION-NAME":"SessionDataQuery","Content-Type":"application/json"},e.headers),body:JSON.stringify({query:"\nquery SessionDataQuery @SLA {\n  tenant {\n    shard\n    cloudId\n    environment\n    activationId\n    editions {\n      edition\n    }\n  }\n  userForAnalytics: user {\n    id\n  }\n  user(current: true) {\n    id\n    displayName\n    confluence {\n      accountId\n      userKey\n      locale\n    }\n    timeZone\n  }\n  featureFlags(extraTargeting: true) {\n    nodes {\n      id\n      value\n      explanation {\n        ruleIndex\n        ruleId\n        kind\n      }\n    }\n  }\n}\n"})})).then((async e=>{if(!e.ok)throw new Error(`Cannot load session data: ${e.statusText}`);const t=(await e.json()).data;return window.__SESSION_DATA__=t,t}))))}().then(r.K));class u extends a.Component{constructor(e){super(e),(0,o.Z)(this,"_mount",void 0),(0,o.Z)(this,"state",{});const t=d();this._mount=!0,(0,s.wp)(t)?this.state={sessionData:(0,s.NA)(t)}:t.then((e=>{this._mount&&this.setState({sessionData:e})}))}componentWillUnmount(){this._mount=!1}render(){const{sessionData:e}=this.state;return e?this.props.children(e):!0===this.props.renderChildrenWhenLoading?this.props.children({loading:!0}):null}}u.displayName="SessionData"},505841:(e,t,n)=>{"use strict";n.d(t,{B:()=>E});var o=n(991332),a=n(69210),s=n(405124),r=n.n(s),i=n(937613),l=n(443033);const c={sendOperationalEvent:e=>(0,l.getAnalyticsWebClient)().then((t=>{t.sendOperationalEvent(e)}))},d=(0,a.default)(((e={})=>new i.Z({flags:e,analyticsHandler:c})),r());var u=n(510555),p=n(596207);let m={},g={};const f=(e,t)=>{const n=(e=>{if(!e&&!window.location.href)return{};const t=new URL(e||window.location.href);return new URLSearchParams(t.search)})(t);for(const o in m)void 0!==e[o]&&("true"!==n.get(m[o])?"false"===n.get(m[o])&&(e[o]=!1):e[o]=!0)};function h(e){return"true"===e||"false"!==e&&("object"==typeof e?JSON.stringify(e):e)}function y(e,t){return e.reduce(((e,n)=>(e[n.id]=t(n),e)),{})}const v=(e,t,n)=>t.hasOwnProperty(e)?(0,o.Z)((0,o.Z)({},n[e]),{},{value:t[e]}):n[e];function b(e){return"object"==typeof e&&"value"in e?(0,o.Z)((0,o.Z)({},e.explanation?{explanation:(0,o.Z)({},e.explanation)}:{}),{},{value:h(e.value)}):{value:h(e),explanation:void 0}}const E=(0,a.default)(((e,t)=>{const n=e?y(e,b):{},o=(0,u.RW)(n,v),a=d();a.setFlags(o);const{original:s,withOverrides:r}=(e=>{const t=y(e,(e=>h(e.value)));return{original:t,withOverrides:(0,u.RW)(t,((e,t,n)=>t.hasOwnProperty(e)?t[e]:n[e]))}})(e);return((e,t)=>{for(const a in g){const s=e[g[a].rolloutFF];if("string"==typeof s)try{const o=JSON.parse(s);var n;e[a]=t?e[a]&&(o.enabledLastDigits.includes(t.substr(-1))||(null===(n=o.enabledUserIds)||void 0===n?void 0:n.includes(t))):e[a]&&o.includeAnonUsers}catch(o){(0,p.U)().submitError(o,{attribution:"backbone"})}}})(r,t),f(r),{originalFeatureFlags:s,featureFlagsWithOverrides:r,featureFlagClient:a}}))},442040:(e,t,n)=>{"use strict";n.d(t,{N:()=>o});const o=e=>"~"===(null==e?void 0:e[0])?"personal":"global"},693638:(e,t,n)=>{"use strict";n.d(t,{a:()=>i});var o=n(122551),a=n(499082),s=n(89557);const r=n(331377).ZP`query SpacePageIdQuery($spaceKey:String){space(key:$spaceKey){id}}`,i=e=>{var t,n;const{spaceKey:i}=(0,o.useContext)(s.z1);e=null!==(t=e)&&void 0!==t?t:i;const{data:l}=(0,a.aM)(r,{variables:{spaceKey:e},skip:!e});return(null==l||null===(n=l.space)||void 0===n?void 0:n.id)||void 0}},691856:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var o=n(122551),a=n(733437),s=n(269375);function r(e=0){return e<0?0:e}const i=(0,o.memo)((function({appearance:e="default",children:t=0,max:n=99,style:i,testId:l}){return o.createElement(a.Z,{testId:l,as:"span",backgroundColor:c[e],borderRadius:"badge",display:"inlineFlex",paddingInline:"space.075",UNSAFE_style:null!=i&&i.backgroundColor?{backgroundColor:i.backgroundColor}:void 0},o.createElement(s.Z,{fontSize:"size.075",lineHeight:"lineHeight.100",textAlign:"center",color:d[e],UNSAFE_style:null!=i&&i.color?{color:i.color}:void 0},"number"==typeof t&&n?function(e,t){const n=r(e),o=r(t);return o&&o<n?`${o}+`:n===1/0?"∞":n.toString()}(t,n):t))}));i.displayName="Badge";const l=i,c={added:"success",default:"neutral",important:"danger.bold",primary:"brand.bold",primaryInverted:"elevation.surface",removed:"danger"},d={added:"success",default:"color.text",important:"inverse",primary:"inverse",primaryInverted:"brand",removed:"danger"}},497176:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var o=n(122551),a=n(321534);const s={center:(0,a.iv)({alignItems:"center"}),baseline:(0,a.iv)({alignItems:"baseline"}),flexStart:(0,a.iv)({alignItems:"flex-start"}),flexEnd:(0,a.iv)({alignItems:"flex-end"}),start:(0,a.iv)({alignItems:"start"}),end:(0,a.iv)({alignItems:"end"})},r={center:(0,a.iv)({justifyContent:"center"}),flexStart:(0,a.iv)({justifyContent:"flex-start"}),"space-between":(0,a.iv)({justifyContent:"space-between"}),flexEnd:(0,a.iv)({justifyContent:"flex-end"}),start:(0,a.iv)({justifyContent:"start"}),end:(0,a.iv)({justifyContent:"end"}),spaceBetween:(0,a.iv)({justifyContent:"space-between"})},i={wrap:(0,a.iv)({flexWrap:"wrap"})},l=(0,a.iv)({display:"flex",boxSizing:"border-box",flexDirection:"row"}),c=(0,a.iv)({margin:"0 -2px",color:"var(--ds-text-subtle, #42526E)",pointerEvents:"none",userSelect:"none"}),d=({children:e})=>(0,a.tZ)("span",{css:c},e),u=(0,o.memo)((0,o.forwardRef)((({gap:e,alignItems:t,justifyContent:n,flexWrap:c,divider:u,UNSAFE_style:p,children:g,testId:f},h)=>{const y="string"==typeof u?(0,a.tZ)(d,null,u):u,v=u?o.Children.toArray(g).filter(Boolean).map(((e,t)=>(0,a.tZ)(o.Fragment,{key:t},u&&t>0?y:null,e))):g;return(0,a.tZ)("div",{style:p,css:[l,e&&m[e],t&&s[t],n&&r[n],c&&i[c]],"data-testid":f,ref:h},v)})));u.displayName="Inline";const p=u,m={"space.0":(0,a.iv)({columnGap:"var(--ds-space-0, 0px)"}),"space.025":(0,a.iv)({columnGap:"var(--ds-space-025, 2px)"}),"space.050":(0,a.iv)({columnGap:"var(--ds-space-050, 4px)"}),"space.075":(0,a.iv)({columnGap:"var(--ds-space-075, 6px)"}),"space.100":(0,a.iv)({columnGap:"var(--ds-space-100, 8px)"}),"space.1000":(0,a.iv)({columnGap:"var(--ds-space-1000, 80px)"}),"space.150":(0,a.iv)({columnGap:"var(--ds-space-150, 12px)"}),"space.200":(0,a.iv)({columnGap:"var(--ds-space-200, 16px)"}),"space.250":(0,a.iv)({columnGap:"var(--ds-space-250, 20px)"}),"space.300":(0,a.iv)({columnGap:"var(--ds-space-300, 24px)"}),"space.400":(0,a.iv)({columnGap:"var(--ds-space-400, 32px)"}),"space.500":(0,a.iv)({columnGap:"var(--ds-space-500, 40px)"}),"space.600":(0,a.iv)({columnGap:"var(--ds-space-600, 48px)"}),"space.800":(0,a.iv)({columnGap:"var(--ds-space-800, 64px)"})}},99616:(e,t,n)=>{"use strict";n.d(t,{K:()=>a,v:()=>s});var o=n(122551);const a=(0,o.createContext)("elevation.surface"),s=()=>(0,o.useContext)(a);a.displayName="SurfaceProvider"},302842:(e,t,n)=>{"use strict";n.d(t,{k:()=>o});const o={card:100,navigation:200,dialog:300,layer:400,blanket:500,modal:510,flag:600,spotlight:700,tooltip:800}},476252:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});const o={"neutral.bold":"inverse","neutral.bold.hovered":"inverse","neutral.bold.pressed":"inverse","brand.bold":"inverse","brand.bold.hovered":"inverse","brand.bold.pressed":"inverse","selected.bold":"inverse","selected.bold.hovered":"inverse","selected.bold.pressed":"inverse","danger.bold":"inverse","danger.bold.hovered":"inverse","danger.bold.pressed":"inverse","warning.bold":"warning.inverse","warning.bold.hovered":"warning.inverse","warning.bold.pressed":"warning.inverse","success.bold":"inverse","success.bold.hovered":"inverse","success.bold.pressed":"inverse","discovery.bold":"inverse","discovery.bold.hovered":"inverse","discovery.bold.pressed":"inverse","information.bold":"inverse","information.bold.hovered":"inverse","information.bold.pressed":"inverse"}},383319:(e,t,n)=>{"use strict";n.d(t,{Vb:()=>u,Q_:()=>m});var o=n(415911),a=n(991332),s=n(953307),r=n(122551),i=n(130809),l=n(966290),c=n(723780);const d=r.createContext(null);function u(){const e=(0,r.useContext)(d);if(null==e)throw new Error("Unable to find FlagProviderContext");return e}const p=(()=>{let e=0;return()=>"flag-provider-unique-id:"+e++})();function m({children:e}){const[t,n]=(0,r.useState)([]),u=(0,r.useCallback)((e=>{n((t=>t.slice(0).filter((t=>t.id!==e))))}),[]),m=(0,r.useMemo)((()=>({showFlag:function(e){const t=(0,a.Z)((0,a.Z)({},e),{},{id:e.id||p()});return n((e=>{const n=e.findIndex((e=>e.id===t.id));if(-1===n)return[t,...e];const o=[...e];return o[n]=t,o})),function(){u(t.id)}}})),[u]);return r.createElement(r.Fragment,null,r.createElement(d.Provider,{value:m},e),r.createElement(c.ZP,{onDismissed:u},t.map((e=>{const{isAutoDismiss:t}=e,n=(0,o.Z)(e,["isAutoDismiss"]),a=t?i.Z:l.Z;return r.createElement(a,(0,s.Z)({},n,{key:e.id}))}))))}},475117:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,a=(o=n(122551))&&o.__esModule?o:{default:o},s=n(386056);const r=e=>a.default.createElement(s.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><g fill-rule="evenodd"><circle fill="currentColor" cx="12" cy="12" r="10"/><path d="M9.707 11.293a1 1 0 10-1.414 1.414l2 2a1 1 0 001.414 0l4-4a1 1 0 10-1.414-1.414L11 12.586l-1.293-1.293z" fill="inherit"/></g></svg>'},e));r.displayName="CheckCircleIcon";var i=r;t.default=i},615139:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,a=(o=n(122551))&&o.__esModule?o:{default:o},s=n(386056);const r=e=>a.default.createElement(s.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M8.292 10.293a1.009 1.009 0 000 1.419l2.939 2.965c.218.215.5.322.779.322s.556-.107.769-.322l2.93-2.955a1.01 1.01 0 000-1.419.987.987 0 00-1.406 0l-2.298 2.317-2.307-2.327a.99.99 0 00-1.406 0z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));r.displayName="ChevronDownIcon";var i=r;t.default=i},642403:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,a=(o=n(122551))&&o.__esModule?o:{default:o},s=n(386056);const r=e=>a.default.createElement(s.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><g fill-rule="evenodd"><path d="M13.416 4.417a2.002 2.002 0 00-2.832 0l-6.168 6.167a2.002 2.002 0 000 2.833l6.168 6.167a2.002 2.002 0 002.832 0l6.168-6.167a2.002 2.002 0 000-2.833l-6.168-6.167z" fill="currentColor"/><path d="M12 14a1 1 0 01-1-1V8a1 1 0 012 0v5a1 1 0 01-1 1m0 3a1 1 0 010-2 1 1 0 010 2" fill="inherit"/></g></svg>'},e));r.displayName="ErrorIcon";var i=r;t.default=i},335320:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,a=(o=n(122551))&&o.__esModule?o:{default:o},s=n(386056);const r=e=>a.default.createElement(s.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><g fill-rule="evenodd"><path d="M12.938 4.967c-.518-.978-1.36-.974-1.876 0L3.938 18.425c-.518.978-.045 1.771 1.057 1.771h14.01c1.102 0 1.573-.797 1.057-1.771L12.938 4.967z" fill="currentColor"/><path d="M12 15a1 1 0 01-1-1V9a1 1 0 012 0v5a1 1 0 01-1 1m0 3a1 1 0 010-2 1 1 0 010 2" fill="inherit"/></g></svg>'},e));r.displayName="WarningIcon";var i=r;t.default=i},813e3:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var o=n(415911),a=n(953307),s=n(321534),r=n(60252);const i=e=>{let{maxWidth:t=800,minWidth:n=320}=e,i=(0,o.Z)(e,["maxWidth","minWidth"]);return(0,s.tZ)(r.Z,(0,a.Z)({maxWidth:t,minWidth:n},i))}},824464:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});const o=n(657881).G},657881:(e,t,n)=>{"use strict";n.d(t,{G:()=>_});var o=n(122551),a=n(321534),s=n(38952),r=n(307271),i=n(52054),l=n(676424),c=n(953307),d=n(485855),u=n(131436);const p=({children:e,update:t})=>{const n=(0,o.useRef)(!0);return(0,o.useLayoutEffect)((()=>{n.current?n.current=!1:t()}),[t]),o.createElement(o.Fragment,null,e)};var m=n(451598),g=n(437705);var f=n(450509),h=n.n(f);const y=(0,a.iv)({display:"block",boxSizing:"border-box",zIndex:l.ug.layer(),flex:"1 1 auto",backgroundColor:`var(--ds-surface-overlay, ${u.N0})`,borderRadius:`${(0,l.E0)()}px`,boxShadow:`var(--ds-shadow-overlay, 0 4px 8px -2px ${u.Nx}, 0 0 1px ${u.VG})`,overflow:"auto",":focus":{outline:"none"}}),v=(0,o.forwardRef)(((e,t)=>(0,a.tZ)("div",(0,c.Z)({css:y},e,{ref:t}))));const b=function({isOpen:e,id:t,offset:n,testId:s,content:r,fallbackPlacements:i,onClose:l,boundary:c,rootBoundary:u,shouldFlip:f,placement:y="auto",popupComponent:b=v,autoFocus:E=!0,triggerRef:_,shouldUseCaptureOnOutsideClick:C}){const[w,k]=(0,o.useState)(null),[I,S]=(0,o.useState)(null);(({popupRef:e,initialFocusRef:t})=>{(0,o.useEffect)((()=>{if(!e)return g.Z;const n={clickOutsideDeactivates:!0,escapeDeactivates:!0,initialFocus:t||e,fallbackFocus:e,returnFocusOnDeactivate:!0},o=h()(e,n);let a=requestAnimationFrame((()=>{a=null,o.activate()}));return()=>{null!=a&&(cancelAnimationFrame(a),a=null),o.deactivate()}}),[e,t])})({initialFocusRef:I,popupRef:w}),(({isOpen:e,onClose:t,popupRef:n,triggerRef:a,shouldUseCaptureOnOutsideClick:s})=>{(0,o.useEffect)((()=>{if(!e||!n)return g.Z;const o=e=>{t&&t(e)};return(0,m.Ev)(window,[{type:"click",listener:e=>{const{target:t}=e;if(!document.body.contains(t))return;const s=n&&n.contains(t),r=a&&a.contains(t);s||r||o(e)},options:{capture:s}},{type:"keydown",listener:e=>{const{key:t}=e;"Escape"!==t&&"Esc"!==t||o(e)}}])}),[e,t,n,a,s])})({isOpen:e,onClose:l,popupRef:w,triggerRef:_,shouldUseCaptureOnOutsideClick:C});const Z=(0,o.useMemo)((()=>[{name:"flip",enabled:f,options:{rootBoundary:u,boundary:c,fallbackPlacements:i}}]),[f,u,c,i]);return(0,a.tZ)(d.r,{placement:y,offset:n,modifiers:Z},(({ref:n,style:o,placement:i,update:c})=>(0,a.tZ)(b,{id:t,"data-placement":i,"data-testid":s,ref:e=>{e&&("function"==typeof n?n(e):n.current=e,k(e))},style:o,tabIndex:E?0:void 0},(0,a.tZ)(p,{update:c},r({update:c,isOpen:e,onClose:l,setInitialFocusRef:S})))))},E=l.ug.layer(),_=(0,o.memo)((({isOpen:e,id:t,offset:n,testId:l,trigger:c,content:d,onClose:u,boundary:p,rootBoundary:m="viewport",shouldFlip:g=!0,placement:f="auto",fallbackPlacements:h,popupComponent:y,autoFocus:v=!0,zIndex:_=E,shouldUseCaptureOnOutsideClick:C=!1})=>{const[w,k]=(0,o.useState)(null);return(0,a.tZ)(s.dK,null,(0,a.tZ)(r.s,null,(({ref:n})=>c({ref:t=>{t&&e&&("function"==typeof n?n(t):n.current=t,k(t))},"aria-controls":t,"aria-expanded":e,"aria-haspopup":!0}))),e&&(0,a.tZ)(i.Z,{zIndex:_},(0,a.tZ)(b,{content:d,isOpen:e,placement:f,fallbackPlacements:h,boundary:p,rootBoundary:m,shouldFlip:g,offset:n,popupComponent:y,id:t,testId:l,onClose:u,autoFocus:v,shouldUseCaptureOnOutsideClick:C,triggerRef:w})))}))},898127:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var o="Invariant failed";function a(e,t){if(!e)throw new Error(o)}}}]);
//# sourceMappingURL=6482.5yDE9mPrtM.js.map